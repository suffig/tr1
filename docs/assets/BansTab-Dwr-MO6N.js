import{r as N,j as t,L as f}from"./index-Cyu-QkLb.js";import{u as x}from"./useSupabase-UlJNLpe-.js";const m=[{value:"Gelb-Rote Karte",label:"Gelb-Rote Karte",duration:1},{value:"Rote Karte",label:"Rote Karte",duration:2},{value:"Verletzung",label:"Verletzung",duration:3}];function S(){const[s,o]=N.useState("all"),{data:r,loading:u}=x("bans","*"),{data:a,loading:h}=x("players","*"),g=u||h,p=e=>{if(!a)return"Unbekannt";const l=a.find(n=>n.id===e);return(l==null?void 0:l.name)||"Unbekannt"},v=e=>{if(!a)return"Unbekannt";const l=a.find(n=>n.id===e);return(l==null?void 0:l.team)||"Unbekannt"},j=e=>{switch(e){case"Gelb-Rote Karte":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Rote Karte":return"bg-red-100 text-red-800 border-red-200";case"Verletzung":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},b=e=>{switch(e){case"Gelb-Rote Karte":return"🟨🟥";case"Rote Karte":return"🟥";case"Verletzung":return"🏥";default:return"⚠️"}},d=(r==null?void 0:r.filter(e=>s==="all"?!0:s==="active"?e.totalgames-e.matchesserved>0:s==="completed"?e.totalgames-e.matchesserved===0:e.type===s))||[],c=(r==null?void 0:r.filter(e=>e.totalgames-e.matchesserved>0))||[],i=(r==null?void 0:r.filter(e=>e.totalgames-e.matchesserved===0))||[];return g?t.jsx(f,{message:"Lade Sperren..."}):t.jsxs("div",{className:"p-4 pb-20",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-4",children:"Sperren-Übersicht"}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:[{key:"all",label:"Alle",count:(r==null?void 0:r.length)||0},{key:"active",label:"Aktiv",count:c.length},{key:"completed",label:"Beendet",count:i.length},...m.map(e=>({key:e.value,label:e.label,count:(r==null?void 0:r.filter(l=>l.type===e.value).length)||0}))].map(e=>t.jsxs("button",{onClick:()=>o(e.key),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${s===e.key?"bg-primary-green text-white":"bg-bg-secondary text-text-muted hover:bg-bg-tertiary border border-border-light"}`,children:[e.label," (",e.count,")"]},e.key))})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[t.jsxs("div",{className:"modern-card text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-accent-red",children:c.length}),t.jsx("div",{className:"text-sm text-text-muted",children:"Aktive Sperren"})]}),t.jsxs("div",{className:"modern-card text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-primary-green",children:i.length}),t.jsx("div",{className:"text-sm text-text-muted",children:"Beendete Sperren"})]}),t.jsxs("div",{className:"modern-card text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-accent-orange",children:(r==null?void 0:r.length)||0}),t.jsx("div",{className:"text-sm text-text-muted",children:"Gesamt Sperren"})]}),t.jsxs("div",{className:"modern-card text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-accent-blue",children:m.length}),t.jsx("div",{className:"text-sm text-text-muted",children:"Sperr-Arten"})]})]}),d.length>0?t.jsx("div",{className:"space-y-4",children:d.map(e=>t.jsx("div",{className:"modern-card",children:t.jsx("div",{className:"flex items-start justify-between",children:t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx("div",{className:"text-2xl",children:b(e.type)}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("h3",{className:"font-semibold text-text-primary",children:p(e.player_id)}),t.jsxs("span",{className:"text-sm text-text-muted",children:["(",v(e.player_id),")"]})]}),t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-medium border ${j(e.type)}`,children:e.type}),e.totalgames-e.matchesserved>0?t.jsxs("span",{className:"inline-block px-2 py-1 rounded text-xs font-medium bg-red-100 text-red-800 border border-red-200",children:[e.totalgames-e.matchesserved," Spiel",e.totalgames-e.matchesserved!==1?"e":""," verbleibend"]}):t.jsx("span",{className:"inline-block px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-800 border border-green-200",children:"Beendet"})]}),e.reason&&t.jsx("p",{className:"text-sm text-text-muted",children:e.reason})]})]})})},e.id))}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"text-4xl mb-4",children:"🚫"}),t.jsx("h3",{className:"text-lg font-medium text-text-primary mb-2",children:s==="all"?"Keine Sperren gefunden":`Keine ${s==="active"?"aktiven":s==="completed"?"beendeten":s} Sperren`}),t.jsx("p",{className:"text-text-muted",children:s==="all"?"Es wurden noch keine Sperren erstellt.":"Versuche einen anderen Filter oder erstelle neue Sperren."})]}),t.jsx("div",{className:"mt-6 modern-card bg-red-50 border-red-200",children:t.jsxs("div",{className:"flex items-start",children:[t.jsx("div",{className:"text-red-600 mr-3",children:t.jsx("i",{className:"fas fa-info-circle"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-red-800 mb-1",children:"Hinweis"}),t.jsx("p",{className:"text-red-700 text-sm",children:"Um neue Sperren hinzuzufügen oder zu verwalten, nutzen Sie den Verwaltungsbereich."})]})]})})]})}export{S as default};
