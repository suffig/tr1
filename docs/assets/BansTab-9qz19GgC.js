import{r as f,j as e,L as v}from"./index-DDMJU8Si.js";import{u as x}from"./useSupabase-tF-njSao.js";const m=[{value:"Gelb-Rote Karte",label:"Gelb-Rote Karte",duration:1},{value:"Rote Karte",label:"Rote Karte",duration:2},{value:"Verletzung",label:"Verletzung",duration:3}];function k(){const[s,o]=f.useState("all"),{data:r,loading:u}=x("bans","*"),{data:a,loading:h}=x("players","*"),p=u||h,g=t=>{if(!a)return"Unbekannt";const l=a.find(n=>n.id===t);return(l==null?void 0:l.name)||"Unbekannt"},b=t=>{if(!a)return"Unbekannt";const l=a.find(n=>n.id===t);return(l==null?void 0:l.team)||"Unbekannt"},j=t=>{switch(t){case"Gelb-Rote Karte":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Rote Karte":return"bg-red-100 text-red-800 border-red-200";case"Verletzung":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},N=t=>{switch(t){case"Gelb-Rote Karte":return"🟨🟥";case"Rote Karte":return"🟥";case"Verletzung":return"🏥";default:return"⚠️"}},d=(r==null?void 0:r.filter(t=>s==="all"?!0:s==="active"?t.anzahl_spiele>0:s==="completed"?t.anzahl_spiele===0:t.art===s))||[],i=(r==null?void 0:r.filter(t=>t.anzahl_spiele>0))||[],c=(r==null?void 0:r.filter(t=>t.anzahl_spiele===0))||[];return p?e.jsx(v,{message:"Lade Sperren..."}):e.jsxs("div",{className:"p-4 pb-20",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-4",children:"Sperren-Übersicht"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:[{key:"all",label:"Alle",count:(r==null?void 0:r.length)||0},{key:"active",label:"Aktiv",count:i.length},{key:"completed",label:"Beendet",count:c.length},...m.map(t=>({key:t.value,label:t.label,count:(r==null?void 0:r.filter(l=>l.art===t.value).length)||0}))].map(t=>e.jsxs("button",{onClick:()=>o(t.key),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${s===t.key?"bg-primary-green text-white":"bg-bg-secondary text-text-muted hover:bg-bg-tertiary border border-border-light"}`,children:[t.label," (",t.count,")"]},t.key))})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-accent-red",children:i.length}),e.jsx("div",{className:"text-sm text-text-muted",children:"Aktive Sperren"})]}),e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-green",children:c.length}),e.jsx("div",{className:"text-sm text-text-muted",children:"Beendete Sperren"})]}),e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-accent-orange",children:(r==null?void 0:r.length)||0}),e.jsx("div",{className:"text-sm text-text-muted",children:"Gesamt Sperren"})]}),e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-accent-blue",children:m.length}),e.jsx("div",{className:"text-sm text-text-muted",children:"Sperr-Arten"})]})]}),d.length>0?e.jsx("div",{className:"space-y-4",children:d.map(t=>e.jsx("div",{className:"modern-card",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"text-2xl",children:N(t.art)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-text-primary",children:g(t.spieler_id)}),e.jsxs("span",{className:"text-sm text-text-muted",children:["(",b(t.spieler_id),")"]})]}),e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-medium border ${j(t.art)}`,children:t.art}),t.anzahl_spiele>0?e.jsxs("span",{className:"inline-block px-2 py-1 rounded text-xs font-medium bg-red-100 text-red-800 border border-red-200",children:[t.anzahl_spiele," Spiel",t.anzahl_spiele!==1?"e":""," verbleibend"]}):e.jsx("span",{className:"inline-block px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-800 border border-green-200",children:"Beendet"})]}),t.beschreibung&&e.jsx("p",{className:"text-sm text-text-muted",children:t.beschreibung}),t.datum&&e.jsxs("p",{className:"text-xs text-text-muted mt-2",children:["Erstellt: ",new Date(t.datum).toLocaleDateString("de-DE")]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[t.anzahl_spiele>0&&e.jsx("button",{className:"text-text-muted hover:text-primary-green transition-colors p-1",title:"Sperre reduzieren",children:e.jsx("i",{className:"fas fa-minus text-sm"})}),e.jsx("button",{className:"text-text-muted hover:text-accent-red transition-colors p-1",title:"Sperre löschen",children:e.jsx("i",{className:"fas fa-trash text-sm"})})]})]})},t.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-4xl mb-4",children:"🚫"}),e.jsx("h3",{className:"text-lg font-medium text-text-primary mb-2",children:s==="all"?"Keine Sperren gefunden":`Keine ${s==="active"?"aktiven":s==="completed"?"beendeten":s} Sperren`}),e.jsx("p",{className:"text-text-muted",children:s==="all"?"Es wurden noch keine Sperren erstellt.":"Versuche einen anderen Filter oder erstelle neue Sperren."})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("button",{className:"w-full btn-primary",children:[e.jsx("i",{className:"fas fa-plus mr-2"}),"Neue Sperre hinzufügen"]})})]})}export{k as default};
