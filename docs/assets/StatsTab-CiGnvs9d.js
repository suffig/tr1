import{r as K,u as S,j as e,L as z}from"./index-CkuXuksq.js";function J(){const[s,n]=K.useState("performance"),[t,a]=K.useState("all"),{data:l,loading:r}=S("matches","*"),{data:c,loading:u}=S("players","*"),M=r||u,N=K.useMemo(()=>{if(!l||!c)return null;const y=new Date,v=l.filter(E=>{if(t==="all")return!0;const T=new Date(E.date),m=Math.floor((y-T)/(1e3*60*60*24));switch(t){case"30d":return m<=30;case"90d":return m<=90;case"1y":return m<=365;default:return!0}});return{performance:te(v),trends:ae(v),efficiency:le(v),predictions:ne(v),playerComparison:re(v,c)}},[l,c,t]);return M?e.jsx(z,{message:"Lade erweiterte Analysen..."}):N?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:"ðŸ”¬ Erweiterte Analysen"}),e.jsx("p",{className:"text-text-secondary",children:"Detaillierte Leistungsanalysen und Vorhersagen"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("select",{value:t,onChange:y=>a(y.target.value),className:"px-3 py-2 border border-border-light rounded-lg bg-bg-primary text-text-primary",children:[e.jsx("option",{value:"all",children:"Alle Zeiten"}),e.jsx("option",{value:"30d",children:"Letzte 30 Tage"}),e.jsx("option",{value:"90d",children:"Letzte 90 Tage"}),e.jsx("option",{value:"1y",children:"Letztes Jahr"})]})})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[{id:"performance",label:"ðŸ“ˆ Leistung",icon:"ðŸ“ˆ"},{id:"trends",label:"ðŸ“Š Trends",icon:"ðŸ“Š"},{id:"efficiency",label:"âš¡ Effizienz",icon:"âš¡"},{id:"predictions",label:"ðŸ”® Vorhersagen",icon:"ðŸ”®"},{id:"comparison",label:"âš–ï¸ Vergleich",icon:"âš–ï¸"}].map(y=>e.jsxs("button",{onClick:()=>n(y.id),className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-colors ${s===y.id?"bg-primary-blue text-white":"bg-bg-secondary text-text-primary hover:bg-bg-tertiary"}`,children:[e.jsx("span",{children:y.icon}),e.jsx("span",{className:"hidden sm:inline",children:y.label})]},y.id))}),e.jsxs("div",{className:"grid gap-6",children:[s==="performance"&&e.jsx(H,{data:N.performance}),s==="trends"&&e.jsx(Q,{data:N.trends}),s==="efficiency"&&e.jsx(Y,{data:N.efficiency}),s==="predictions"&&e.jsx(X,{data:N.predictions}),s==="comparison"&&e.jsx(ee,{data:N.playerComparison})]})]}):e.jsx("div",{className:"p-4 text-center text-gray-500",children:"Nicht genÃ¼gend Daten fÃ¼r erweiterte Analysen verfÃ¼gbar."})}function H({data:s}){return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"modern-card",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸŽ¯"})," Trefferquote"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"AEK Athen:"}),e.jsxs("span",{className:"font-semibold text-primary-blue",children:[s.shotAccuracy.aek,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Real Madrid:"}),e.jsxs("span",{className:"font-semibold text-accent-red",children:[s.shotAccuracy.real,"%"]})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸƒâ€â™‚ï¸"})," Form-Index"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"AEK Form:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${L(s.formIndex.aek)}`}),e.jsx("span",{className:"font-semibold",children:s.formIndex.aek.toFixed(1)})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Real Form:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${L(s.formIndex.real)}`}),e.jsx("span",{className:"font-semibold",children:s.formIndex.real.toFixed(1)})]})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ’ª"})," Leistungs-Rating"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Offensiv:"}),e.jsxs("span",{className:"font-semibold text-primary-green",children:[s.offensiveRating,"/10"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Defensiv:"}),e.jsxs("span",{className:"font-semibold text-primary-blue",children:[s.defensiveRating,"/10"]})]})]})]})]})}function Q({data:s}){return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"modern-card",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ“ˆ"})," Leistungstrends (letzte 10 Spiele)"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2 text-primary-blue",children:"ðŸ”µ AEK Athen"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Tore/Spiel Trend:"}),e.jsxs("span",{className:`font-semibold ${s.goalTrend.aek>=0?"text-green-600":"text-red-600"}`,children:[s.goalTrend.aek>=0?"â†—ï¸":"â†˜ï¸"," ",Math.abs(s.goalTrend.aek).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Siegesserie:"}),e.jsxs("span",{className:"font-semibold",children:[s.winStreak.aek," Spiele"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Formkurve:"}),e.jsx("span",{className:"font-mono text-sm",children:s.formPattern.aek})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2 text-accent-red",children:"ðŸ”´ Real Madrid"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Tore/Spiel Trend:"}),e.jsxs("span",{className:`font-semibold ${s.goalTrend.real>=0?"text-green-600":"text-red-600"}`,children:[s.goalTrend.real>=0?"â†—ï¸":"â†˜ï¸"," ",Math.abs(s.goalTrend.real).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Siegesserie:"}),e.jsxs("span",{className:"font-semibold",children:[s.winStreak.real," Spiele"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Formkurve:"}),e.jsx("span",{className:"font-mono text-sm",children:s.formPattern.real})]})]})]})]})]})})}function Y({data:s}){return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"modern-card",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"âš¡"})," Offensive Effizienz"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-sm",children:"AEK Effizienz"}),e.jsxs("span",{className:"text-sm font-semibold",children:[s.offensiveEfficiency.aek,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary-blue h-2 rounded-full transition-all duration-300",style:{width:`${s.offensiveEfficiency.aek}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-sm",children:"Real Effizienz"}),e.jsxs("span",{className:"text-sm font-semibold",children:[s.offensiveEfficiency.real,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-accent-red h-2 rounded-full transition-all duration-300",style:{width:`${s.offensiveEfficiency.real}%`}})})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ›¡ï¸"})," Defensive StabilitÃ¤t"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Gegentore/Spiel:"}),e.jsx("span",{className:"font-semibold",children:s.defensiveStability.goalsAgainstAvg})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Zu Null Spiele:"}),e.jsxs("span",{className:"font-semibold",children:[s.defensiveStability.cleanSheets,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"StabilitÃ¤t-Index:"}),e.jsxs("span",{className:"font-semibold text-primary-green",children:[s.defensiveStability.stabilityIndex,"/10"]})]})]})]})]})}function X({data:s}){return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"modern-card",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ”®"})," NÃ¤chstes Spiel Vorhersage"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{className:"p-4 bg-primary-blue/10 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-primary-blue",children:[s.nextMatch.aekWinChance,"%"]}),e.jsx("div",{className:"text-sm text-primary-blue",children:"AEK Sieg"})]}),e.jsxs("div",{className:"p-4 bg-gray-100 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-gray-600",children:[s.nextMatch.drawChance,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Unentschieden"})]}),e.jsxs("div",{className:"p-4 bg-accent-red/10 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-accent-red",children:[s.nextMatch.realWinChance,"%"]}),e.jsx("div",{className:"text-sm text-accent-red",children:"Real Sieg"})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-bg-secondary rounded-lg",children:[e.jsxs("div",{className:"text-sm text-text-secondary",children:[e.jsx("strong",{children:"Vorhergesagtes Ergebnis:"})," ",s.nextMatch.predictedScore]}),e.jsxs("div",{className:"text-sm text-text-secondary",children:[e.jsx("strong",{children:"Konfidenz:"})," ",s.nextMatch.confidence,"%"]})]})]})})}function ee({data:s}){return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"modern-card",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"âš–ï¸"})," Spieler-Vergleich (Top 5)"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-border-light",children:[e.jsx("th",{className:"text-left py-2",children:"Spieler"}),e.jsx("th",{className:"text-center py-2",children:"Tore"}),e.jsx("th",{className:"text-center py-2",children:"âŒ€/Spiel"}),e.jsx("th",{className:"text-center py-2",children:"Effizienz"}),e.jsx("th",{className:"text-center py-2",children:"Form"})]})}),e.jsx("tbody",{children:s.topPlayers.map((n,t)=>e.jsxs("tr",{className:"border-b border-border-light/50",children:[e.jsx("td",{className:"py-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-6 h-6 bg-bg-secondary rounded-full flex items-center justify-center text-xs font-bold",children:t+1}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:n.name}),e.jsx("div",{className:"text-xs text-text-secondary",children:n.team})]})]})}),e.jsx("td",{className:"text-center py-2 font-semibold",children:n.goals}),e.jsx("td",{className:"text-center py-2",children:n.avgPerGame}),e.jsx("td",{className:"text-center py-2",children:e.jsxs("span",{className:`px-2 py-1 rounded text-xs ${se(n.efficiency)}`,children:[n.efficiency,"%"]})}),e.jsx("td",{className:"text-center py-2",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:`w-3 h-3 rounded-full ${L(n.form)}`})})})]},n.id))})]})})]})})}function L(s){return s>=8?"bg-green-500":s>=6?"bg-yellow-500":s>=4?"bg-orange-500":"bg-red-500"}function se(s){return s>=80?"bg-green-100 text-green-800":s>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}function te(s){const n=s.reduce((l,r)=>l+(r.goalsa||0),0),t=s.reduce((l,r)=>l+(r.goalsb||0),0),a=s.length;return{shotAccuracy:{aek:a>0?Math.round(n/a*10):0,real:a>0?Math.round(t/a*10):0},formIndex:{aek:W(s,"AEK"),real:W(s,"Real")},offensiveRating:Math.min(10,Math.round((n+t)/a*2)),defensiveRating:Math.min(10,Math.round(10-(n+t)/a))}}function ae(s){const n=s.slice(-10);return{goalTrend:{aek:I(n,"AEK"),real:I(n,"Real")},winStreak:{aek:V(s,"AEK"),real:V(s,"Real")},formPattern:{aek:B(n,"AEK"),real:B(n,"Real")}}}function le(s){const n=s.length,t=s.reduce((a,l)=>a+(l.goalsa||0)+(l.goalsb||0),0);return{offensiveEfficiency:{aek:Math.round(s.reduce((a,l)=>a+(l.goalsa||0),0)/t*100),real:Math.round(s.reduce((a,l)=>a+(l.goalsb||0),0)/t*100)},defensiveStability:{goalsAgainstAvg:(t/n).toFixed(2),cleanSheets:Math.round(s.filter(a=>a.goalsa===0||a.goalsb===0).length/n*100),stabilityIndex:Math.min(10,Math.round(10-t/n))}}}function ne(s){const n=s.filter(r=>(r.goalsa||0)>(r.goalsb||0)).length,t=s.filter(r=>(r.goalsb||0)>(r.goalsa||0)).length,a=s.filter(r=>(r.goalsa||0)===(r.goalsb||0)).length,l=s.length;return{nextMatch:{aekWinChance:Math.round(n/l*100),realWinChance:Math.round(t/l*100),drawChance:Math.round(a/l*100),predictedScore:`${Math.round(s.reduce((r,c)=>r+(c.goalsa||0),0)/l)}-${Math.round(s.reduce((r,c)=>r+(c.goalsb||0),0)/l)}`,confidence:Math.min(95,60+Math.round(l/5))}}}function re(s,n){return{topPlayers:n.map(t=>({...t,avgPerGame:s.length>0?((t.goals||0)/s.length).toFixed(2):"0.00",efficiency:Math.min(100,Math.round((t.goals||0)/Math.max(1,s.length)*30)),form:Math.min(10,5+Math.random()*3)})).sort((t,a)=>(a.goals||0)-(t.goals||0)).slice(0,5)}}function W(s,n){const t=s.slice(-5);let a=0;return t.forEach(l=>{const r=n==="AEK",c=r?l.goalsa||0:l.goalsb||0,u=r?l.goalsb||0:l.goalsa||0;c>u?a+=3:c===u&&(a+=1)}),Math.min(10,a/15*10)}function I(s,n){if(s.length<5)return 0;const t=s.slice(0,Math.floor(s.length/2)),a=s.slice(Math.floor(s.length/2)),l=t.reduce((c,u)=>c+(n==="AEK"?u.goalsa||0:u.goalsb||0),0)/t.length;return a.reduce((c,u)=>c+(n==="AEK"?u.goalsa||0:u.goalsb||0),0)/a.length-l}function V(s,n){let t=0;for(let a=s.length-1;a>=0;a--){const l=s[a],r=n==="AEK",c=r?l.goalsa||0:l.goalsb||0,u=r?l.goalsb||0:l.goalsa||0;if(c>u)t++;else break}return t}function B(s,n){return s.slice(-5).map(t=>{const a=n==="AEK",l=a?t.goalsa||0:t.goalsb||0,r=a?t.goalsb||0:t.goalsa||0;return l>r?"W":l<r?"L":"D"}).join("")}function ie({limit:s=10,showTitle:n=!0,onNavigate:t}){const[a,l]=K.useState("all"),{data:r,loading:c}=S("matches","*",{order:{column:"date",ascending:!1}}),{data:u,loading:M}=S("players","*"),{data:N,loading:y}=S("bans","*",{order:{column:"id",ascending:!1}}),{data:v,loading:E}=S("transactions","*",{order:{column:"date",ascending:!1}}),T=c||M||y||E,m=K.useMemo(()=>{if(!r||!u||!N||!v)return[];const d=[];r==null||r.slice(0,5).forEach(h=>{const f=new Date(h.date);d.push({id:`match-${h.id}`,type:"match",icon:"âš½",title:`AEK ${h.goalsa||0} - ${h.goalsb||0} Real`,description:h.sds?`â­ SdS: ${h.sds}`:"Spiel gespielt",date:f,dateText:O(f),action:()=>t==null?void 0:t("matches",{highlightMatch:h.id})})}),N==null||N.slice(0,3).forEach(h=>{const f=u.find($=>$.id===h.player_id),p=(f==null?void 0:f.name)||h.player_name||"Unbekannt",G=(h.totalgames||0)-(h.matchesserved||0);d.push({id:`ban-${h.id}`,type:"ban",icon:"ðŸš«",title:`Sperre: ${p}`,description:`${h.type} â€¢ ${G>0?`${G} Spiele verbleibend`:"Abgelaufen"}`,date:new Date,dateText:"KÃ¼rzlich",action:()=>t==null?void 0:t("bans",{highlightBan:h.id})})}),v==null||v.slice(0,5).forEach(h=>{const f=new Date(h.date),p=h.amount||0;d.push({id:`transaction-${h.id}`,type:"transaction",icon:p>0?"ðŸ’°":"ðŸ’¸",title:`${p>0?"+":""}${p}â‚¬`,description:h.description||h.type||"Transaktion",date:f,dateText:O(f),action:()=>t==null?void 0:t("finanzen",{highlightTransaction:h.id})})});const w=d.sort((h,f)=>f.date-h.date);return(a==="all"?w:w.filter(h=>h.type===a)).slice(0,s)},[r,u,N,v,a,s,t]),b=K.useMemo(()=>{if(!r||!N||!v)return{};const d=new Date,w=new Date(d.getTime()-7*24*60*60*1e3);return{matches:r.filter(g=>new Date(g.date)>=w).length,bans:N.filter(g=>(g.totalgames||0)-(g.matchesserved||0)>0).length,transactions:v.filter(g=>new Date(g.date)>=w).length}},[r,N,v]);return T?e.jsx(z,{message:"Lade AktivitÃ¤ten..."}):e.jsxs("div",{className:"bg-bg-primary border border-border-light rounded-lg shadow-sm",children:[n&&e.jsxs("div",{className:"p-4 border-b border-border-light",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:"Letzte AktivitÃ¤ten"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded border border-blue-200",children:[b.matches||0," Spiele (7T)"]}),e.jsxs("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded border border-red-200",children:[b.bans||0," aktive Sperren"]}),e.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded border border-green-200",children:[b.transactions||0," Transaktionen (7T)"]})]})})]}),e.jsx("div",{className:"flex gap-2 mt-3",children:[{key:"all",label:"Alle",count:m.length},{key:"match",label:"Spiele",count:m.filter(d=>d.type==="match").length},{key:"transaction",label:"Finanzen",count:m.filter(d=>d.type==="transaction").length},{key:"ban",label:"Sperren",count:m.filter(d=>d.type==="ban").length}].map(({key:d,label:w,count:g})=>e.jsxs("button",{onClick:()=>l(d),className:`px-3 py-1.5 rounded-lg text-sm transition-all duration-200 ${a===d?"bg-primary-green text-white":"bg-bg-secondary text-text-secondary hover:bg-bg-tertiary hover:text-text-primary"}`,children:[w," ",g>0&&`(${g})`]},d))})]}),e.jsx("div",{className:"divide-y divide-border-light",children:m.length===0?e.jsxs("div",{className:"p-6 text-center text-text-secondary",children:[e.jsx("div",{className:"text-4xl mb-2","aria-hidden":"true",children:"ðŸ“Š"}),e.jsx("p",{children:"Keine AktivitÃ¤ten gefunden"}),e.jsx("p",{className:"text-sm mt-1",children:a==="all"?"Beginne Daten hinzuzufÃ¼gen":`Keine ${a==="match"?"Spiele":a==="transaction"?"Transaktionen":"Sperren"} gefunden`})]}):m.map(d=>e.jsx("button",{onClick:d.action,className:"w-full p-4 text-left hover:bg-bg-secondary transition-colors duration-200 focus:outline-none focus:bg-bg-secondary",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl","aria-hidden":"true",children:d.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-medium text-text-primary truncate",children:d.title}),e.jsx("span",{className:"text-xs text-text-secondary whitespace-nowrap ml-2",children:d.dateText})]}),e.jsx("p",{className:"text-sm text-text-secondary truncate",children:d.description})]})]})},d.id))}),m.length>0&&n&&e.jsx("div",{className:"p-3 border-t border-border-light bg-bg-secondary",children:e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:()=>t==null?void 0:t("stats"),className:"text-sm text-primary-green hover:text-primary-green-dark transition-colors duration-200",children:"Alle Statistiken anzeigen â†’"})})})]})}function O(s){const t=Math.floor((new Date-s)/(1e3*60)),a=Math.floor(t/60),l=Math.floor(a/24);return t<1?"Gerade eben":t<60?`vor ${t}m`:a<24?`vor ${a}h`:l<7?`vor ${l}d`:l<30?`vor ${Math.floor(l/7)}w`:s.toLocaleDateString("de-DE",{day:"numeric",month:"short"})}function ce({onNavigate:s}){const[n,t]=K.useState("all"),{data:a,loading:l}=S("matches","*",{order:{column:"date",ascending:!1}}),{data:r,loading:c}=S("players","*"),{data:u,loading:M}=S("bans","*"),{data:N,loading:y}=S("transactions","*",{order:{column:"date",ascending:!1}}),{data:v,loading:E}=S("finances","*"),T=l||c||M||y||E,m=K.useMemo(()=>{if(!a||!r||!u||!N||!v)return null;const b=new Date,d={week:new Date(b.getTime()-7*24*60*60*1e3),month:new Date(b.getTime()-30*24*60*60*1e3),all:new Date(0)},w=d[n]||d.all,g=a.filter(o=>new Date(o.date)>=w),h=N.filter(o=>new Date(o.date)>=w),f={AEK:{wins:0,losses:0,goals:0,goalsAgainst:0},Real:{wins:0,losses:0,goals:0,goalsAgainst:0}};g.forEach(o=>{const j=o.goalsa||0,R=o.goalsb||0;f.AEK.goals+=j,f.AEK.goalsAgainst+=R,f.Real.goals+=R,f.Real.goalsAgainst+=j,j>R?(f.AEK.wins++,f.Real.losses++):R>j&&(f.Real.wins++,f.AEK.losses++)});const p={};r.forEach(o=>{p[o.id]={name:o.name,team:o.team,goals:0,matches:0,value:o.value||0}}),g.forEach(o=>{["goalscorer1a","goalscorer2a","goalscorer3a","goalscorer4a","goalscorer5a"].forEach(j=>{o[j]&&p[o[j]]&&(p[o[j]].goals++,p[o[j]].matches++)}),["goalscorer1b","goalscorer2b","goalscorer3b","goalscorer4b","goalscorer5b"].forEach(j=>{o[j]&&p[o[j]]&&(p[o[j]].goals++,p[o[j]].matches++)})});const G=v.find(o=>o.team==="AEK")||{balance:0},$=v.find(o=>o.team==="Real")||{balance:0},P=h.filter(o=>o.amount>0).reduce((o,j)=>o+j.amount,0),A=h.filter(o=>o.amount<0).reduce((o,j)=>o+Math.abs(j.amount),0),k=u.filter(o=>(o.totalgames||0)-(o.matchesserved||0)>0),F={AEK:k.filter(o=>{const j=r.find(R=>R.id===o.player_id);return(j==null?void 0:j.team)==="AEK"}).length,Real:k.filter(o=>{const j=r.find(R=>R.id===o.player_id);return(j==null?void 0:j.team)==="Real"}).length},D=Object.values(p).filter(o=>o.goals>0).sort((o,j)=>j.goals-o.goals).slice(0,5);return{teamRecords:f,playerStats:D,finances:{aek:G.balance||0,real:$.balance||0,income:P,expenses:A,net:P-A},bans:{active:k.length,aek:F.AEK,real:F.Real},totals:{matches:g.length,players:r.length,transactions:h.length}}},[a,r,u,N,v,n]);return T?e.jsx(z,{message:"Lade Dashboard..."}):m?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:"Dashboard"}),e.jsx("div",{className:"flex gap-2",children:[{key:"week",label:"Woche"},{key:"month",label:"Monat"},{key:"all",label:"Gesamt"}].map(({key:b,label:d})=>e.jsx("button",{onClick:()=>t(b),className:`px-3 py-2 rounded-lg text-sm transition-all duration-200 ${n===b?"bg-primary-green text-white":"bg-bg-secondary text-text-secondary hover:bg-bg-tertiary hover:text-text-primary"}`,children:d},b))})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(C,{icon:"âš½",title:"Spiele",value:m.totals.matches,subtitle:n==="all"?"Gesamt":"Im Zeitraum",color:"blue",onClick:()=>s==null?void 0:s("matches")}),e.jsx(C,{icon:"ðŸ‘¥",title:"Spieler",value:m.totals.players,subtitle:"Aktive Spieler",color:"green",onClick:()=>s==null?void 0:s("squad")}),e.jsx(C,{icon:"ðŸ’°",title:"Netto",value:`${m.finances.net>0?"+":""}${m.finances.net}â‚¬`,subtitle:n==="all"?"Gesamt":"Im Zeitraum",color:m.finances.net>=0?"green":"red",onClick:()=>s==null?void 0:s("finanzen")}),e.jsx(C,{icon:"ðŸš«",title:"Sperren",value:m.bans.active,subtitle:"Aktive Sperren",color:"red",onClick:()=>s==null?void 0:s("bans")})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-bg-primary border border-border-light rounded-lg shadow-sm",children:[e.jsx("div",{className:"p-4 border-b border-border-light",children:e.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:"Team-Vergleich"})}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl","aria-hidden":"true",children:"ðŸ”µ"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-blue-900",children:"AEK"}),e.jsxs("div",{className:"text-sm text-blue-700",children:[m.teamRecords.AEK.wins,"S / ",m.teamRecords.AEK.losses,"N"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-blue-900",children:[m.teamRecords.AEK.goals,":",m.teamRecords.AEK.goalsAgainst]}),e.jsxs("div",{className:"text-sm text-blue-700",children:[m.bans.aek," Sperren"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl","aria-hidden":"true",children:"ðŸ”´"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-red-900",children:"Real"}),e.jsxs("div",{className:"text-sm text-red-700",children:[m.teamRecords.Real.wins,"S / ",m.teamRecords.Real.losses,"N"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-red-900",children:[m.teamRecords.Real.goals,":",m.teamRecords.Real.goalsAgainst]}),e.jsxs("div",{className:"text-sm text-red-700",children:[m.bans.real," Sperren"]})]})]})]})})]}),e.jsxs("div",{className:"bg-bg-primary border border-border-light rounded-lg shadow-sm",children:[e.jsx("div",{className:"p-4 border-b border-border-light",children:e.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:"Top TorschÃ¼tzen"})}),e.jsx("div",{className:"p-4",children:m.playerStats.length===0?e.jsxs("div",{className:"text-center text-text-secondary py-4",children:[e.jsx("div",{className:"text-2xl mb-2","aria-hidden":"true",children:"âš½"}),e.jsx("p",{children:"Keine Tore im Zeitraum"})]}):e.jsx("div",{className:"space-y-3",children:m.playerStats.map((b,d)=>{var w;return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-primary-green text-white text-xs flex items-center justify-center font-bold",children:d+1}),e.jsx("span",{className:b.team==="AEK"?"text-blue-600":"text-red-600",children:b.team==="AEK"?"ðŸ”µ":"ðŸ”´"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-text-primary",children:b.name}),e.jsxs("div",{className:"text-sm text-text-secondary",children:[(w=b.value)==null?void 0:w.toFixed(1),"M â‚¬"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-text-primary",children:[b.goals," Tore"]}),e.jsxs("div",{className:"text-sm text-text-secondary",children:[b.matches," Spiele"]})]})]},b.name)})})})]})]}),e.jsx(ie,{onNavigate:s,limit:5})]}):e.jsxs("div",{className:"p-6 text-center text-text-secondary",children:[e.jsx("div",{className:"text-4xl mb-2","aria-hidden":"true",children:"ðŸ“Š"}),e.jsx("p",{children:"Keine Daten verfÃ¼gbar"})]})}function C({icon:s,title:n,value:t,subtitle:a,color:l="gray",onClick:r}){const c={blue:"bg-blue-50 border-blue-200 text-blue-900",green:"bg-green-50 border-green-200 text-green-900",red:"bg-red-50 border-red-200 text-red-900",gray:"bg-gray-50 border-gray-200 text-gray-900"};return e.jsx("button",{onClick:r,className:`p-4 rounded-lg border transition-all duration-200 hover:shadow-md ${c[l]} ${r?"hover:scale-105 cursor-pointer":"cursor-default"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl","aria-hidden":"true",children:s}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-2xl font-bold",children:t}),e.jsx("div",{className:"text-sm opacity-75",children:n}),e.jsx("div",{className:"text-xs opacity-60",children:a})]})]})})}class de{constructor(n,t,a,l){this.matches=n||[],this.players=t||[],this.bans=a||[],this.spielerDesSpiels=l||[],this.aekPlayers=(t||[]).filter(r=>r.team==="AEK"),this.realPlayers=(t||[]).filter(r=>r.team==="Real")}calculateTeamRecords(){const n={wins:0,losses:0},t={wins:0,losses:0};return this.matches.forEach(a=>{const l=a.goalsa||0,r=a.goalsb||0;l>r?(n.wins++,t.losses++):r>l&&(t.wins++,n.losses++)}),{aek:n,real:t}}calculateRecentForm(n=5){const t=this.matches.slice(-n),a=[],l=[];return t.forEach(r=>{const c=r.goalsa||0,u=r.goalsb||0;c>u?(a.push("W"),l.push("L")):u>c?(a.push("L"),l.push("W")):(a.push("D"),l.push("D"))}),{aek:a,real:l}}calculatePlayerStats(){return this.players.map(n=>{const t=this.countPlayerMatches(),a=this.bans.filter(c=>c.player_id===n.id),l=this.spielerDesSpiels.find(c=>c.name===n.name&&c.team===n.team),r=l&&l.count||0;return{...n,goals:n.goals||0,matchesPlayed:t,sdsCount:r,goalsPerGame:t>0?((n.goals||0)/t).toFixed(2):"0.00",totalBans:a.length,disciplinaryScore:this.calculateDisciplinaryScore(a)}}).sort((n,t)=>(t.goals||0)-(n.goals||0))}countPlayerGoalsFromMatches(n,t){let a=0;return this.matches.forEach(l=>{t==="AEK"&&l.goalslista&&(Array.isArray(l.goalslista)?l.goalslista:typeof l.goalslista=="string"?JSON.parse(l.goalslista):[]).forEach(c=>{const u=typeof c=="string"?c:c.player,M=typeof c=="string"?1:c.count||1;u===n&&(a+=M)}),t==="Real"&&l.goalslistb&&(Array.isArray(l.goalslistb)?l.goalslistb:typeof l.goalslistb=="string"?JSON.parse(l.goalslistb):[]).forEach(c=>{const u=typeof c=="string"?c:c.player,M=typeof c=="string"?1:c.count||1;u===n&&(a+=M)})}),a}countPlayerMatches(){return this.matches.length}calculateDisciplinaryScore(n){let t=0;return n.forEach(a=>{switch(a.type){case"Gelb-Rote Karte":t+=3;break;case"Rote Karte":t+=5;break;case"Verletzung":t+=1;break;default:t+=1}}),t}calculateAdvancedStats(){const n=this.matches.length,t=this.matches.reduce((a,l)=>a+(l.goalsa||0)+(l.goalsb||0),0);return{avgGoalsPerMatch:n>0?(t/n).toFixed(2):"0.00",totalMatches:n,totalGoals:t,aekTotalGoals:this.matches.reduce((a,l)=>a+(l.goalsa||0),0),realTotalGoals:this.matches.reduce((a,l)=>a+(l.goalsb||0),0),highestScoringMatch:n>0?Math.max(...this.matches.map(a=>(a.goalsa||0)+(a.goalsb||0))):0,cleanSheets:{aek:this.matches.filter(a=>a.goalsb===0).length,real:this.matches.filter(a=>a.goalsa===0).length}}}calculatePerformanceTrends(){const n={};return this.matches.forEach(t=>{const a=new Date(t.date),l=`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}`;n[l]||(n[l]={month:l,aekWins:0,realWins:0,totalGoals:0,matchCount:0});const r=t.goalsa||0,c=t.goalsb||0;n[l].totalGoals+=r+c,n[l].matchCount++,r>c?n[l].aekWins++:c>r&&n[l].realWins++}),n}}function xe({onNavigate:s}){const[n,t]=K.useState("dashboard"),{data:a,loading:l}=S("matches","*"),{data:r,loading:c}=S("players","*"),{data:u,loading:M}=S("spieler_des_spiels","*"),{data:N,loading:y}=S("bans","*"),v=l||c||M||y,E=new de(a,r,N,u),T=E.calculateTeamRecords(),m=E.calculateRecentForm(5),b=E.calculatePlayerStats(),d=E.calculateAdvancedStats(),w=E.calculatePerformanceTrends(),g=(a==null?void 0:a.length)||0,h=(r==null?void 0:r.length)||0,f=(r==null?void 0:r.filter(i=>i.team==="AEK"))||[],p=(r==null?void 0:r.filter(i=>i.team==="Real"))||[],G=f.reduce((i,x)=>i+(x.value||0),0),$=p.reduce((i,x)=>i+(x.value||0),0),P=G+$,A=T.aek.wins,k=T.real.wins,F=i=>i.map((x,q)=>e.jsx("span",{className:`inline-block w-6 h-6 text-xs font-bold rounded-full text-center leading-6 mx-0.5 ${x==="W"?"bg-green-500 text-white":x==="L"?"bg-red-500 text-white":"bg-gray-400 text-white"}`,children:x},q)),D=i=>`${(i||0).toFixed(1)}M â‚¬`,o=[{id:"dashboard",label:"Dashboard",icon:"ðŸŽ¯"},{id:"overview",label:"Ãœbersicht",icon:"ðŸ“Š"},{id:"players",label:"Spieler",icon:"ðŸ‘¥"},{id:"teams",label:"Teams",icon:"ðŸ†"},{id:"trends",label:"Trends",icon:"ðŸ“ˆ"},{id:"advanced",label:"Erweitert",icon:"ðŸ”¬"}];if(v)return e.jsx(z,{message:"Lade Statistiken..."});const j=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-green",children:g}),e.jsx("div",{className:"text-sm text-text-muted",children:"Spiele"})]}),e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-green",children:d.totalGoals}),e.jsx("div",{className:"text-sm text-text-muted",children:"Tore"})]}),e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-green",children:h}),e.jsx("div",{className:"text-sm text-text-muted",children:"Spieler"})]}),e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-green",children:d.avgGoalsPerMatch}),e.jsx("div",{className:"text-sm text-text-muted",children:"âŒ€ Tore/Spiel"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"modern-card border-l-4 border-blue-400",children:[e.jsx("h3",{className:"font-bold text-lg mb-4 text-blue-600",children:"AEK Athen"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Siege:"}),e.jsx("span",{className:"font-semibold text-green-600",children:A})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Niederlagen:"}),e.jsx("span",{className:"font-semibold text-red-600",children:T.aek.losses})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Marktwert:"}),e.jsx("span",{className:"font-semibold",children:D(G)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Zu Null:"}),e.jsx("span",{className:"font-semibold",children:d.cleanSheets.aek})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("div",{className:"text-sm text-text-muted mb-1",children:"Form (letzte 5):"}),e.jsx("div",{className:"flex",children:F(m.aek)})]})]})]}),e.jsxs("div",{className:"modern-card border-l-4 border-red-400",children:[e.jsx("h3",{className:"font-bold text-lg mb-4 text-red-600",children:"Real Madrid"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Siege:"}),e.jsx("span",{className:"font-semibold text-green-600",children:k})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Niederlagen:"}),e.jsx("span",{className:"font-semibold text-red-600",children:T.real.losses})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Marktwert:"}),e.jsx("span",{className:"font-semibold",children:D($)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Zu Null:"}),e.jsx("span",{className:"font-semibold",children:d.cleanSheets.real})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("div",{className:"text-sm text-text-muted mb-1",children:"Form (letzte 5):"}),e.jsx("div",{className:"flex",children:F(m.real)})]})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"ðŸ† Top-TorschÃ¼tzen"}),e.jsx("div",{className:"space-y-2",children:b.slice(0,5).map((i,x)=>e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border-light last:border-b-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${x===0?"bg-yellow-500 text-white":x===1?"bg-gray-400 text-white":x===2?"bg-orange-600 text-white":"bg-gray-200 text-gray-600"}`,children:x+1}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:i.name}),e.jsx("div",{className:"text-sm text-text-muted",children:i.team})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold",children:[i.goals," Tore"]}),e.jsxs("div",{className:"text-sm text-text-muted",children:[i.goalsPerGame," âŒ€"]})]})]},i.id))})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"â­ Top-Spieler des Spiels"}),e.jsx("div",{className:"space-y-2",children:b.filter(i=>i.sdsCount>0).sort((i,x)=>x.sdsCount-i.sdsCount).slice(0,5).map((i,x)=>e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border-light last:border-b-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${x===0?"bg-yellow-500 text-white":x===1?"bg-gray-400 text-white":x===2?"bg-orange-600 text-white":"bg-gray-200 text-gray-600"}`,children:x+1}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:i.name}),e.jsx("div",{className:"text-sm text-text-muted",children:i.team})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold",children:[i.sdsCount,"x SdS"]}),e.jsxs("div",{className:"text-sm text-text-muted",children:[i.matchesPlayed>0?(i.sdsCount/i.matchesPlayed*100).toFixed(1):"0.0","% Quote"]})]})]},i.id))}),b.filter(i=>i.sdsCount>0).length===0&&e.jsx("div",{className:"text-center text-text-muted py-4",children:"Noch keine Spieler des Spiels Auszeichnungen vergeben"})]})]}),R=()=>e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"ðŸ“Š Spielerstatistiken"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-border-light",children:[e.jsx("th",{className:"text-left py-2",children:"Spieler"}),e.jsx("th",{className:"text-left py-2",children:"Team"}),e.jsx("th",{className:"text-center py-2",children:"Tore"}),e.jsx("th",{className:"text-center py-2",children:"âŒ€/Spiel"}),e.jsx("th",{className:"text-center py-2",children:"SdS"}),e.jsx("th",{className:"text-center py-2",children:"Sperren"}),e.jsx("th",{className:"text-right py-2",children:"Marktwert"})]})}),e.jsx("tbody",{children:b.map(i=>e.jsxs("tr",{className:"border-b border-border-light hover:bg-bg-secondary",children:[e.jsx("td",{className:"py-2 font-medium",children:i.name}),e.jsx("td",{className:"py-2",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${i.team==="AEK"?"bg-blue-100 text-blue-800":i.team==="Ehemalige"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:i.team})}),e.jsx("td",{className:"py-2 text-center font-bold",children:i.goals}),e.jsx("td",{className:"py-2 text-center",children:i.goalsPerGame}),e.jsx("td",{className:"py-2 text-center",children:i.sdsCount}),e.jsx("td",{className:"py-2 text-center",children:i.totalBans}),e.jsx("td",{className:"py-2 text-right",children:D(i.value)})]},i.id))})]})})]}),Z=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"âš–ï¸ Team-Vergleich"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-blue-600",children:"AEK Athen"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Spieler:"}),e.jsx("span",{className:"font-medium",children:f.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Tore gesamt:"}),e.jsx("span",{className:"font-medium",children:d.aekTotalGoals})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Siege:"}),e.jsx("span",{className:"font-medium",children:A})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Siegquote:"}),e.jsxs("span",{className:"font-medium",children:[g>0?(A/g*100).toFixed(1):0,"%"]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-red-600",children:"Real Madrid"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Spieler:"}),e.jsx("span",{className:"font-medium",children:p.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Tore gesamt:"}),e.jsx("span",{className:"font-medium",children:d.realTotalGoals})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Siege:"}),e.jsx("span",{className:"font-medium",children:k})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Siegquote:"}),e.jsxs("span",{className:"font-medium",children:[g>0?(k/g*100).toFixed(1):0,"%"]})]})]})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"ðŸ“ˆ Erweiterte Statistiken"}),e.jsx("div",{className:"mb-4 text-sm text-text-muted",children:"Diese Statistiken bieten tiefere Einblicke in die Team-Performance und wichtige Kennzahlen."}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-green",children:d.highestScoringMatch}),e.jsx("div",{className:"text-sm text-text-muted",children:"HÃ¶chste Toranzahl"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:"in einem einzelnen Spiel"})]}),e.jsxs("div",{className:"text-center p-4 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-green",children:D(P)}),e.jsx("div",{className:"text-sm text-text-muted",children:"Gesamtmarktwert"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:"aller aktiven Spieler"})]}),e.jsxs("div",{className:"text-center p-4 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-accent-orange",children:Math.abs(A-k)}),e.jsx("div",{className:"text-sm text-text-muted",children:"Siegesdifferenz"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:"zwischen den Teams"})]}),e.jsxs("div",{className:"text-center p-4 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-accent-blue",children:g>0?((f.length+p.length)*(g/2)).toFixed(0):0}),e.jsx("div",{className:"text-sm text-text-muted",children:"GeschÃ¤tzte Spielminuten"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:"pro Spieler (âŒ€ 45min)"})]})]}),e.jsxs("div",{className:"mt-6 grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-text-primary",children:"ðŸŽ¯ Offensiv-Performance"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Durchschnittliche Tore pro Spiel:"}),e.jsx("span",{className:"font-medium",children:g>0?((d.aekTotalGoals+d.realTotalGoals)/g).toFixed(1):"0.0"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Torreichstes Team:"}),e.jsxs("span",{className:"font-medium",children:[d.aekTotalGoals>=d.realTotalGoals?"AEK Athen":"Real Madrid","(",Math.max(d.aekTotalGoals,d.realTotalGoals)," Tore)"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Aktivster TorschÃ¼tze:"}),e.jsx("span",{className:"font-medium",children:b.length>0?`${b[0].name} (${b[0].goals} Tore)`:"Keine Daten"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-text-primary",children:"âš–ï¸ Team-Balance"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Kader-Unterschied:"}),e.jsxs("span",{className:"font-medium",children:[Math.abs(f.length-p.length)," Spieler"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Marktwert-VerhÃ¤ltnis:"}),e.jsx("span",{className:"font-medium",children:f.reduce((i,x)=>i+(x.value||0),0)>p.reduce((i,x)=>i+(x.value||0),0)?"AEK fÃ¼hrt":"Real fÃ¼hrt"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Dominanteres Team:"}),e.jsx("span",{className:"font-medium",children:A>k?"AEK Athen":k>A?"Real Madrid":"Ausgeglichen"})]})]})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"ðŸ”¬ Detailanalyse"}),e.jsx("div",{className:"mb-4 text-sm text-text-muted",children:"Erweiterte Metriken fÃ¼r eine tiefgreifende Team-Analyse."}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-blue-600",children:"ðŸ’° Wirtschaftliche Effizienz"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"âŒ€ Marktwert AEK:"}),e.jsx("span",{className:"font-medium",children:f.length>0?`${(f.reduce((i,x)=>i+(x.value||0),0)/f.length).toFixed(1)}M â‚¬`:"0M â‚¬"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"âŒ€ Marktwert Real:"}),e.jsx("span",{className:"font-medium",children:p.length>0?`${(p.reduce((i,x)=>i+(x.value||0),0)/p.length).toFixed(1)}M â‚¬`:"0M â‚¬"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Tore pro 1M â‚¬ (AEK):"}),e.jsx("span",{className:"font-medium",children:f.reduce((i,x)=>i+(x.value||0),0)>0?(d.aekTotalGoals/f.reduce((i,x)=>i+(x.value||0),0)).toFixed(2):"0.00"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Tore pro 1M â‚¬ (Real):"}),e.jsx("span",{className:"font-medium",children:p.reduce((i,x)=>i+(x.value||0),0)>0?(d.realTotalGoals/p.reduce((i,x)=>i+(x.value||0),0)).toFixed(2):"0.00"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-red-600",children:"ðŸŽ² Spielstatistiken"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Spiele gespielt:"}),e.jsx("span",{className:"font-medium",children:g})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Unentschieden:"}),e.jsx("span",{className:"font-medium",children:g-A-k})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"âŒ€ Spieldauer:"}),e.jsx("span",{className:"font-medium",children:"~90 Minuten"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"LÃ¤ngste Serie:"}),e.jsxs("span",{className:"font-medium",children:[A>=k?"AEK":"Real"," (",Math.max(A,k)," Siege)"]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-purple-600",children:"ðŸ† Erfolgs-Metriken"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Aktivste Spieler:"}),e.jsx("span",{className:"font-medium",children:f.length+p.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Top-Performer:"}),e.jsxs("span",{className:"font-medium",children:[b.filter(i=>i.sdsCount>0).length," Spieler"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Konsistenz AEK:"}),e.jsx("span",{className:"font-medium",children:g>0?`${(A/g*100).toFixed(0)}% Erfolg`:"0% Erfolg"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Konsistenz Real:"}),e.jsx("span",{className:"font-medium",children:g>0?`${(k/g*100).toFixed(0)}% Erfolg`:"0% Erfolg"})]})]})]})]})]})]}),_=()=>e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"ðŸ“ˆ Performance-Trends"}),e.jsx("div",{className:"space-y-4",children:Object.values(w).reverse().map(i=>e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-border-light last:border-b-0",children:[e.jsx("div",{className:"font-medium",children:i.month}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-sm",children:[e.jsxs("span",{className:"text-blue-600 font-medium",children:["AEK: ",i.aekWins]}),e.jsx("span",{className:"mx-2",children:"vs"}),e.jsxs("span",{className:"text-red-600 font-medium",children:["Real: ",i.realWins]})]}),e.jsxs("div",{className:"text-sm text-text-muted",children:[i.matchCount," Spiele, ",i.totalGoals," Tore"]}),e.jsxs("div",{className:"text-sm font-medium",children:["âŒ€ ",(i.totalGoals/i.matchCount).toFixed(1)," Tore/Spiel"]})]})]},i.month))})]}),U=()=>{switch(n){case"dashboard":return e.jsx(ce,{onNavigate:s});case"players":return R();case"teams":return Z();case"trends":return _();case"advanced":return e.jsx(J,{});default:return j()}};return e.jsxs("div",{className:"p-4 pb-20",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-2",children:"ðŸ“Š Statistiken"}),e.jsx("p",{className:"text-text-muted",children:"Umfassende Analyse von Spielen, Spielern und Teams"})]}),e.jsx("div",{className:"flex overflow-x-auto space-x-2 mb-6 pb-2",children:o.map(i=>e.jsxs("button",{onClick:()=>t(i.id),className:`flex items-center space-x-2 px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${n===i.id?"bg-primary-green text-white":"bg-bg-secondary text-text-muted hover:bg-bg-tertiary"}`,children:[e.jsx("span",{children:i.icon}),e.jsx("span",{className:"font-medium",children:i.label})]},i.id))}),U()]})}export{xe as default};
