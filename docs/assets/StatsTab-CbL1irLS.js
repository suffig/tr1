import{r as O,u as P,j as e,L as q}from"./index-D6NRE_Rv.js";function he(){const[t,n]=O.useState("performance"),[a,l]=O.useState("all"),{data:s,loading:c}=P("matches","*"),{data:o,loading:S}=P("players","*"),w=c||S,C=O.useMemo(()=>{if(!s||!o)return null;const L=new Date,R=s.filter(T=>{if(a==="all")return!0;const H=new Date(T.date),v=Math.floor((L-H)/(1e3*60*60*24));switch(a){case"30d":return v<=30;case"90d":return v<=90;case"1y":return v<=365;default:return!0}});return{performance:Ne(R),trends:ve(R),efficiency:ye(R),predictions:Se(R),playerComparison:ke(R,o)}},[s,o,a]);return w?e.jsx(q,{message:"Lade erweiterte Analysen..."}):C?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:"üî¨ Erweiterte Analysen"}),e.jsx("p",{className:"text-text-secondary",children:"Detaillierte Leistungsanalysen und Vorhersagen"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("select",{value:a,onChange:L=>l(L.target.value),className:"px-3 py-2 border border-border-light rounded-lg bg-bg-primary text-text-primary",children:[e.jsx("option",{value:"all",children:"Alle Zeiten"}),e.jsx("option",{value:"30d",children:"Letzte 30 Tage"}),e.jsx("option",{value:"90d",children:"Letzte 90 Tage"}),e.jsx("option",{value:"1y",children:"Letztes Jahr"})]})})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[{id:"performance",label:"üìà Leistung",icon:"üìà"},{id:"trends",label:"üìä Trends",icon:"üìä"},{id:"efficiency",label:"‚ö° Effizienz",icon:"‚ö°"},{id:"predictions",label:"üîÆ Vorhersagen",icon:"üîÆ"},{id:"comparison",label:"‚öñÔ∏è Vergleich",icon:"‚öñÔ∏è"}].map(L=>e.jsxs("button",{onClick:()=>n(L.id),className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-colors ${t===L.id?"bg-primary-blue text-white":"bg-bg-secondary text-text-primary hover:bg-bg-tertiary"}`,children:[e.jsx("span",{children:L.icon}),e.jsx("span",{className:"hidden sm:inline",children:L.label})]},L.id))}),e.jsxs("div",{className:"grid gap-6",children:[t==="performance"&&e.jsx(ge,{data:C.performance}),t==="trends"&&e.jsx(ue,{data:C.trends}),t==="efficiency"&&e.jsx(je,{data:C.efficiency}),t==="predictions"&&e.jsx(fe,{data:C.predictions}),t==="comparison"&&e.jsx(be,{data:C.playerComparison})]})]}):e.jsx("div",{className:"p-4 text-center text-gray-500",children:"Nicht gen√ºgend Daten f√ºr erweiterte Analysen verf√ºgbar."})}function ge({data:t}){return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"modern-card",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"üéØ"})," Trefferquote"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"AEK Athen:"}),e.jsxs("span",{className:"font-semibold text-primary-blue",children:[t.shotAccuracy.aek,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Real Madrid:"}),e.jsxs("span",{className:"font-semibold text-accent-red",children:[t.shotAccuracy.real,"%"]})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"üèÉ‚Äç‚ôÇÔ∏è"})," Form-Index"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"AEK Form:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${X(t.formIndex.aek)}`}),e.jsx("span",{className:"font-semibold",children:t.formIndex.aek.toFixed(1)})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Real Form:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${X(t.formIndex.real)}`}),e.jsx("span",{className:"font-semibold",children:t.formIndex.real.toFixed(1)})]})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"üí™"})," Leistungs-Rating"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Offensiv:"}),e.jsxs("span",{className:"font-semibold text-primary-green",children:[t.offensiveRating,"/10"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Defensiv:"}),e.jsxs("span",{className:"font-semibold text-primary-blue",children:[t.defensiveRating,"/10"]})]})]})]})]})}function ue({data:t}){return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"modern-card",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"üìà"})," Leistungstrends (letzte 10 Spiele)"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2 text-primary-blue",children:"üîµ AEK Athen"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Tore/Spiel Trend:"}),e.jsxs("span",{className:`font-semibold ${t.goalTrend.aek>=0?"text-green-600":"text-red-600"}`,children:[t.goalTrend.aek>=0?"‚ÜóÔ∏è":"‚ÜòÔ∏è"," ",Math.abs(t.goalTrend.aek).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Siegesserie:"}),e.jsxs("span",{className:"font-semibold",children:[t.winStreak.aek," Spiele"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Formkurve:"}),e.jsx("span",{className:"font-mono text-sm",children:t.formPattern.aek})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2 text-accent-red",children:"üî¥ Real Madrid"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Tore/Spiel Trend:"}),e.jsxs("span",{className:`font-semibold ${t.goalTrend.real>=0?"text-green-600":"text-red-600"}`,children:[t.goalTrend.real>=0?"‚ÜóÔ∏è":"‚ÜòÔ∏è"," ",Math.abs(t.goalTrend.real).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Siegesserie:"}),e.jsxs("span",{className:"font-semibold",children:[t.winStreak.real," Spiele"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Formkurve:"}),e.jsx("span",{className:"font-mono text-sm",children:t.formPattern.real})]})]})]})]})]})})}function je({data:t}){return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"modern-card",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"‚ö°"})," Offensive Effizienz"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-sm",children:"AEK Effizienz"}),e.jsxs("span",{className:"text-sm font-semibold",children:[t.offensiveEfficiency.aek,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary-blue h-2 rounded-full transition-all duration-300",style:{width:`${t.offensiveEfficiency.aek}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-sm",children:"Real Effizienz"}),e.jsxs("span",{className:"text-sm font-semibold",children:[t.offensiveEfficiency.real,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-accent-red h-2 rounded-full transition-all duration-300",style:{width:`${t.offensiveEfficiency.real}%`}})})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"üõ°Ô∏è"})," Defensive Stabilit√§t"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Gegentore/Spiel:"}),e.jsx("span",{className:"font-semibold",children:t.defensiveStability.goalsAgainstAvg})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Zu Null Spiele:"}),e.jsxs("span",{className:"font-semibold",children:[t.defensiveStability.cleanSheets,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Stabilit√§t-Index:"}),e.jsxs("span",{className:"font-semibold text-primary-green",children:[t.defensiveStability.stabilityIndex,"/10"]})]})]})]})]})}function fe({data:t}){return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"modern-card",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"üîÆ"})," N√§chstes Spiel Vorhersage"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{className:"p-4 bg-primary-blue/10 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-primary-blue",children:[t.nextMatch.aekWinChance,"%"]}),e.jsx("div",{className:"text-sm text-primary-blue",children:"AEK Sieg"})]}),e.jsxs("div",{className:"p-4 bg-gray-100 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-gray-600",children:[t.nextMatch.drawChance,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Unentschieden"})]}),e.jsxs("div",{className:"p-4 bg-accent-red/10 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-accent-red",children:[t.nextMatch.realWinChance,"%"]}),e.jsx("div",{className:"text-sm text-accent-red",children:"Real Sieg"})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-bg-secondary rounded-lg",children:[e.jsxs("div",{className:"text-sm text-text-secondary",children:[e.jsx("strong",{children:"Vorhergesagtes Ergebnis:"})," ",t.nextMatch.predictedScore]}),e.jsxs("div",{className:"text-sm text-text-secondary",children:[e.jsx("strong",{children:"Konfidenz:"})," ",t.nextMatch.confidence,"%"]})]})]})})}function be({data:t}){return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"modern-card",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"‚öñÔ∏è"})," Spieler-Vergleich (Top 5)"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-border-light",children:[e.jsx("th",{className:"text-left py-2",children:"Spieler"}),e.jsx("th",{className:"text-center py-2",children:"Tore"}),e.jsx("th",{className:"text-center py-2",children:"‚åÄ/Spiel"}),e.jsx("th",{className:"text-center py-2",children:"Effizienz"}),e.jsx("th",{className:"text-center py-2",children:"Form"})]})}),e.jsx("tbody",{children:t.topPlayers.map((n,a)=>e.jsxs("tr",{className:"border-b border-border-light/50",children:[e.jsx("td",{className:"py-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-6 h-6 bg-bg-secondary rounded-full flex items-center justify-center text-xs font-bold",children:a+1}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:n.name}),e.jsx("div",{className:"text-xs text-text-secondary",children:n.team})]})]})}),e.jsx("td",{className:"text-center py-2 font-semibold",children:n.goals}),e.jsx("td",{className:"text-center py-2",children:n.avgPerGame}),e.jsx("td",{className:"text-center py-2",children:e.jsxs("span",{className:`px-2 py-1 rounded text-xs ${pe(n.efficiency)}`,children:[n.efficiency,"%"]})}),e.jsx("td",{className:"text-center py-2",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:`w-3 h-3 rounded-full ${X(n.form)}`})})})]},n.id))})]})})]})})}function X(t){return t>=8?"bg-green-500":t>=6?"bg-yellow-500":t>=4?"bg-orange-500":"bg-red-500"}function pe(t){return t>=80?"bg-green-100 text-green-800":t>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}function Ne(t){const n=t.reduce((s,c)=>s+(c.goalsa||0),0),a=t.reduce((s,c)=>s+(c.goalsb||0),0),l=t.length;return{shotAccuracy:{aek:l>0?Math.round(n/l*10):0,real:l>0?Math.round(a/l*10):0},formIndex:{aek:ee(t,"AEK"),real:ee(t,"Real")},offensiveRating:Math.min(10,Math.round((n+a)/l*2)),defensiveRating:Math.min(10,Math.round(10-(n+a)/l))}}function ve(t){const n=t.slice(-10);return{goalTrend:{aek:se(n,"AEK"),real:se(n,"Real")},winStreak:{aek:te(t,"AEK"),real:te(t,"Real")},formPattern:{aek:ae(n,"AEK"),real:ae(n,"Real")}}}function ye(t){const n=t.length,a=t.reduce((l,s)=>l+(s.goalsa||0)+(s.goalsb||0),0);return{offensiveEfficiency:{aek:Math.round(t.reduce((l,s)=>l+(s.goalsa||0),0)/a*100),real:Math.round(t.reduce((l,s)=>l+(s.goalsb||0),0)/a*100)},defensiveStability:{goalsAgainstAvg:(a/n).toFixed(2),cleanSheets:Math.round(t.filter(l=>l.goalsa===0||l.goalsb===0).length/n*100),stabilityIndex:Math.min(10,Math.round(10-a/n))}}}function Se(t){const n=t.filter(c=>(c.goalsa||0)>(c.goalsb||0)).length,a=t.filter(c=>(c.goalsb||0)>(c.goalsa||0)).length,l=t.filter(c=>(c.goalsa||0)===(c.goalsb||0)).length,s=t.length;return{nextMatch:{aekWinChance:Math.round(n/s*100),realWinChance:Math.round(a/s*100),drawChance:Math.round(l/s*100),predictedScore:`${Math.round(t.reduce((c,o)=>c+(o.goalsa||0),0)/s)}-${Math.round(t.reduce((c,o)=>c+(o.goalsb||0),0)/s)}`,confidence:Math.min(95,60+Math.round(s/5))}}}function ke(t,n){return{topPlayers:n.map(a=>({...a,avgPerGame:t.length>0?((a.goals||0)/t.length).toFixed(2):"0.00",efficiency:Math.min(100,Math.round((a.goals||0)/Math.max(1,t.length)*30)),form:Math.min(10,5+Math.random()*3)})).sort((a,l)=>(l.goals||0)-(a.goals||0)).slice(0,5)}}function ee(t,n){const a=t.slice(-5);let l=0;return a.forEach(s=>{const c=n==="AEK",o=c?s.goalsa||0:s.goalsb||0,S=c?s.goalsb||0:s.goalsa||0;o>S?l+=3:o===S&&(l+=1)}),Math.min(10,l/15*10)}function se(t,n){if(t.length<5)return 0;const a=t.slice(0,Math.floor(t.length/2)),l=t.slice(Math.floor(t.length/2)),s=a.reduce((o,S)=>o+(n==="AEK"?S.goalsa||0:S.goalsb||0),0)/a.length;return l.reduce((o,S)=>o+(n==="AEK"?S.goalsa||0:S.goalsb||0),0)/l.length-s}function te(t,n){let a=0;for(let l=t.length-1;l>=0;l--){const s=t[l],c=n==="AEK",o=c?s.goalsa||0:s.goalsb||0,S=c?s.goalsb||0:s.goalsa||0;if(o>S)a++;else break}return a}function ae(t,n){return t.slice(-5).map(a=>{const l=n==="AEK",s=l?a.goalsa||0:a.goalsb||0,c=l?a.goalsb||0:a.goalsa||0;return s>c?"W":s<c?"L":"D"}).join("")}function we({limit:t=10,showTitle:n=!0,onNavigate:a}){const[l,s]=O.useState("all"),{data:c,loading:o}=P("matches","*",{order:{column:"date",ascending:!1}}),{data:S,loading:w}=P("players","*"),{data:C,loading:L}=P("bans","*",{order:{column:"id",ascending:!1}}),{data:R,loading:T}=P("transactions","*",{order:{column:"date",ascending:!1}}),H=o||w||L||T,v=O.useMemo(()=>{if(!c||!S||!C||!R)return[];const b=[];c==null||c.slice(0,5).forEach(j=>{const E=new Date(j.date);b.push({id:`match-${j.id}`,type:"match",icon:"‚öΩ",title:`AEK ${j.goalsa||0} - ${j.goalsb||0} Real`,description:j.sds?`‚≠ê SdS: ${j.sds}`:"Spiel gespielt",date:E,dateText:le(E),action:()=>a==null?void 0:a("matches",{highlightMatch:j.id})})}),C==null||C.slice(0,3).forEach(j=>{const E=S.find(W=>W.id===j.player_id),g=(E==null?void 0:E.name)||j.player_name||"Unbekannt",K=(j.totalgames||0)-(j.matchesserved||0);b.push({id:`ban-${j.id}`,type:"ban",icon:"üö´",title:`Sperre: ${g}`,description:`${j.type} ‚Ä¢ ${K>0?`${K} Spiele verbleibend`:"Abgelaufen"}`,date:new Date,dateText:"K√ºrzlich",action:()=>a==null?void 0:a("bans",{highlightBan:j.id})})}),R==null||R.slice(0,5).forEach(j=>{const E=new Date(j.date),g=j.amount||0;b.push({id:`transaction-${j.id}`,type:"transaction",icon:g>0?"üí∞":"üí∏",title:`${g>0?"+":""}${g}‚Ç¨`,description:j.description||j.type||"Transaktion",date:E,dateText:le(E),action:()=>a==null?void 0:a("finanzen",{highlightTransaction:j.id})})});const z=b.sort((j,E)=>E.date-j.date);return(l==="all"?z:z.filter(j=>j.type===l)).slice(0,t)},[c,S,C,R,l,t,a]),A=O.useMemo(()=>{if(!c||!C||!R)return{};const b=new Date,z=new Date(b.getTime()-7*24*60*60*1e3);return{matches:c.filter(k=>new Date(k.date)>=z).length,bans:C.filter(k=>(k.totalgames||0)-(k.matchesserved||0)>0).length,transactions:R.filter(k=>new Date(k.date)>=z).length}},[c,C,R]);return H?e.jsx(q,{message:"Lade Aktivit√§ten..."}):e.jsxs("div",{className:"bg-bg-primary border border-border-light rounded-lg shadow-sm",children:[n&&e.jsxs("div",{className:"p-4 border-b border-border-light",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:"Letzte Aktivit√§ten"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded border border-blue-200",children:[A.matches||0," Spiele (7T)"]}),e.jsxs("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded border border-red-200",children:[A.bans||0," aktive Sperren"]}),e.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded border border-green-200",children:[A.transactions||0," Transaktionen (7T)"]})]})})]}),e.jsx("div",{className:"flex gap-2 mt-3",children:[{key:"all",label:"Alle",count:v.length},{key:"match",label:"Spiele",count:v.filter(b=>b.type==="match").length},{key:"transaction",label:"Finanzen",count:v.filter(b=>b.type==="transaction").length},{key:"ban",label:"Sperren",count:v.filter(b=>b.type==="ban").length}].map(({key:b,label:z,count:k})=>e.jsxs("button",{onClick:()=>s(b),className:`px-3 py-1.5 rounded-lg text-sm transition-all duration-200 ${l===b?"bg-primary-green text-white":"bg-bg-secondary text-text-secondary hover:bg-bg-tertiary hover:text-text-primary"}`,children:[z," ",k>0&&`(${k})`]},b))})]}),e.jsx("div",{className:"divide-y divide-border-light",children:v.length===0?e.jsxs("div",{className:"p-6 text-center text-text-secondary",children:[e.jsx("div",{className:"text-4xl mb-2","aria-hidden":"true",children:"üìä"}),e.jsx("p",{children:"Keine Aktivit√§ten gefunden"}),e.jsx("p",{className:"text-sm mt-1",children:l==="all"?"Beginne Daten hinzuzuf√ºgen":`Keine ${l==="match"?"Spiele":l==="transaction"?"Transaktionen":"Sperren"} gefunden`})]}):v.map(b=>e.jsx("button",{onClick:b.action,className:"w-full p-4 text-left hover:bg-bg-secondary transition-colors duration-200 focus:outline-none focus:bg-bg-secondary",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl","aria-hidden":"true",children:b.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-medium text-text-primary truncate",children:b.title}),e.jsx("span",{className:"text-xs text-text-secondary whitespace-nowrap ml-2",children:b.dateText})]}),e.jsx("p",{className:"text-sm text-text-secondary truncate",children:b.description})]})]})},b.id))}),v.length>0&&n&&e.jsx("div",{className:"p-3 border-t border-border-light bg-bg-secondary",children:e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:()=>a==null?void 0:a("stats"),className:"text-sm text-primary-green hover:text-primary-green-dark transition-colors duration-200",children:"Alle Statistiken anzeigen ‚Üí"})})})]})}function le(t){const a=Math.floor((new Date-t)/(1e3*60)),l=Math.floor(a/60),s=Math.floor(l/24);return a<1?"Gerade eben":a<60?`vor ${a}m`:l<24?`vor ${l}h`:s<7?`vor ${s}d`:s<30?`vor ${Math.floor(s/7)}w`:t.toLocaleDateString("de-DE",{day:"numeric",month:"short"})}function Ae({onNavigate:t}){const[n,a]=O.useState("all"),{data:l,loading:s}=P("matches","*",{order:{column:"date",ascending:!1}}),{data:c,loading:o}=P("players","*"),{data:S,loading:w}=P("bans","*"),{data:C,loading:L}=P("transactions","*",{order:{column:"date",ascending:!1}}),{data:R,loading:T}=P("finances","*"),H=s||o||w||L||T,v=O.useMemo(()=>{if(!l||!c||!S||!C||!R)return null;const A=new Date,b={week:new Date(A.getTime()-7*24*60*60*1e3),month:new Date(A.getTime()-30*24*60*60*1e3),all:new Date(0)},z=b[n]||b.all,k=l.filter(u=>new Date(u.date)>=z),j=C.filter(u=>new Date(u.date)>=z),E={AEK:{wins:0,losses:0,goals:0,goalsAgainst:0},Real:{wins:0,losses:0,goals:0,goalsAgainst:0}};k.forEach(u=>{const y=u.goalsa||0,$=u.goalsb||0;E.AEK.goals+=y,E.AEK.goalsAgainst+=$,E.Real.goals+=$,E.Real.goalsAgainst+=y,y>$?(E.AEK.wins++,E.Real.losses++):$>y&&(E.Real.wins++,E.AEK.losses++)});const g={};c.forEach(u=>{g[u.id]={name:u.name,team:u.team,goals:0,matches:0,value:u.value||0}}),k.forEach(u=>{["goalscorer1a","goalscorer2a","goalscorer3a","goalscorer4a","goalscorer5a"].forEach(y=>{u[y]&&g[u[y]]&&(g[u[y]].goals++,g[u[y]].matches++)}),["goalscorer1b","goalscorer2b","goalscorer3b","goalscorer4b","goalscorer5b"].forEach(y=>{u[y]&&g[u[y]]&&(g[u[y]].goals++,g[u[y]].matches++)})});const K=R.find(u=>u.team==="AEK")||{balance:0},W=R.find(u=>u.team==="Real")||{balance:0},B=j.filter(u=>u.amount>0).reduce((u,y)=>u+y.amount,0),Z=j.filter(u=>u.amount<0).reduce((u,y)=>u+Math.abs(y.amount),0),U=S.filter(u=>(u.totalgames||0)-(u.matchesserved||0)>0),Q={AEK:U.filter(u=>{const y=c.find($=>$.id===u.player_id);return(y==null?void 0:y.team)==="AEK"}).length,Real:U.filter(u=>{const y=c.find($=>$.id===u.player_id);return(y==null?void 0:y.team)==="Real"}).length},I=Object.values(g).filter(u=>u.goals>0).sort((u,y)=>y.goals-u.goals).slice(0,5);return{teamRecords:E,playerStats:I,finances:{aek:K.balance||0,real:W.balance||0,income:B,expenses:Z,net:B-Z},bans:{active:U.length,aek:Q.AEK,real:Q.Real},totals:{matches:k.length,players:c.length,transactions:j.length}}},[l,c,S,C,R,n]);return H?e.jsx(q,{message:"Lade Dashboard..."}):v?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:"Dashboard"}),e.jsx("div",{className:"flex gap-2",children:[{key:"week",label:"Woche"},{key:"month",label:"Monat"},{key:"all",label:"Gesamt"}].map(({key:A,label:b})=>e.jsx("button",{onClick:()=>a(A),className:`px-3 py-2 rounded-lg text-sm transition-all duration-200 ${n===A?"bg-primary-green text-white":"bg-bg-secondary text-text-secondary hover:bg-bg-tertiary hover:text-text-primary"}`,children:b},A))})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(Y,{icon:"‚öΩ",title:"Spiele",value:v.totals.matches,subtitle:n==="all"?"Gesamt":"Im Zeitraum",color:"blue",onClick:()=>t==null?void 0:t("matches")}),e.jsx(Y,{icon:"üë•",title:"Spieler",value:v.totals.players,subtitle:"Aktive Spieler",color:"green",onClick:()=>t==null?void 0:t("squad")}),e.jsx(Y,{icon:"‚öΩ",title:"Tore",value:v.teamRecords.AEK.goals+v.teamRecords.Real.goals,subtitle:n==="all"?"Gesamt":"Im Zeitraum",color:"green",onClick:()=>t==null?void 0:t("matches")}),e.jsx(Y,{icon:"üö´",title:"Sperren",value:v.bans.active,subtitle:"Aktive Sperren",color:"red",onClick:()=>t==null?void 0:t("bans")})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-bg-primary border border-border-light rounded-lg shadow-sm",children:[e.jsx("div",{className:"p-4 border-b border-border-light",children:e.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:"Team-Vergleich"})}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl","aria-hidden":"true",children:"üîµ"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-blue-900",children:"AEK"}),e.jsxs("div",{className:"text-sm text-blue-700",children:[v.teamRecords.AEK.wins,"S / ",v.teamRecords.AEK.losses,"N"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-blue-900",children:[v.teamRecords.AEK.goals,":",v.teamRecords.AEK.goalsAgainst]}),e.jsxs("div",{className:"text-sm text-blue-700",children:[v.bans.aek," Sperren"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl","aria-hidden":"true",children:"üî¥"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-red-900",children:"Real"}),e.jsxs("div",{className:"text-sm text-red-700",children:[v.teamRecords.Real.wins,"S / ",v.teamRecords.Real.losses,"N"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-red-900",children:[v.teamRecords.Real.goals,":",v.teamRecords.Real.goalsAgainst]}),e.jsxs("div",{className:"text-sm text-red-700",children:[v.bans.real," Sperren"]})]})]})]})})]}),e.jsxs("div",{className:"bg-bg-primary border border-border-light rounded-lg shadow-sm",children:[e.jsx("div",{className:"p-4 border-b border-border-light",children:e.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:"Top Torsch√ºtzen"})}),e.jsx("div",{className:"p-4",children:v.playerStats.length===0?e.jsxs("div",{className:"text-center text-text-secondary py-4",children:[e.jsx("div",{className:"text-2xl mb-2","aria-hidden":"true",children:"‚öΩ"}),e.jsx("p",{children:"Keine Tore im Zeitraum"})]}):e.jsx("div",{className:"space-y-3",children:v.playerStats.map((A,b)=>{var z;return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-primary-green text-white text-xs flex items-center justify-center font-bold",children:b+1}),e.jsx("span",{className:A.team==="AEK"?"text-blue-600":"text-red-600",children:A.team==="AEK"?"üîµ":"üî¥"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-text-primary",children:A.name}),e.jsxs("div",{className:"text-sm text-text-secondary",children:[(z=A.value)==null?void 0:z.toFixed(1),"M ‚Ç¨"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-text-primary",children:[A.goals," Tore"]}),e.jsxs("div",{className:"text-sm text-text-secondary",children:[A.matches," Spiele"]})]})]},A.name)})})})]})]}),e.jsx(we,{onNavigate:t,limit:5})]}):e.jsxs("div",{className:"p-6 text-center text-text-secondary",children:[e.jsx("div",{className:"text-4xl mb-2","aria-hidden":"true",children:"üìä"}),e.jsx("p",{children:"Keine Daten verf√ºgbar"})]})}function Y({icon:t,title:n,value:a,subtitle:l,color:s="gray",onClick:c}){const o={blue:"bg-blue-50 border-blue-200 text-blue-900",green:"bg-green-50 border-green-200 text-green-900",red:"bg-red-50 border-red-200 text-red-900",gray:"bg-gray-50 border-gray-200 text-gray-900"};return e.jsx("button",{onClick:c,className:`p-4 rounded-lg border transition-all duration-200 hover:shadow-md ${o[s]} ${c?"hover:scale-105 cursor-pointer":"cursor-default"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl","aria-hidden":"true",children:t}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-2xl font-bold",children:a}),e.jsx("div",{className:"text-sm opacity-75",children:n}),e.jsx("div",{className:"text-xs opacity-60",children:l})]})]})})}class Me{constructor(n,a,l,s){this.matches=n||[],this.players=a||[],this.bans=l||[],this.spielerDesSpiels=s||[],this.aekPlayers=(a||[]).filter(c=>c.team==="AEK"),this.realPlayers=(a||[]).filter(c=>c.team==="Real")}calculateTeamRecords(){const n={wins:0,losses:0},a={wins:0,losses:0};return this.matches.forEach(l=>{const s=l.goalsa||0,c=l.goalsb||0;s>c?(n.wins++,a.losses++):c>s&&(a.wins++,n.losses++)}),{aek:n,real:a}}calculateRecentForm(n=5){const a=this.matches.slice(-n),l=[],s=[];return a.forEach(c=>{const o=c.goalsa||0,S=c.goalsb||0;o>S?(l.push("W"),s.push("L")):S>o?(l.push("L"),s.push("W")):(l.push("D"),s.push("D"))}),{aek:l,real:s}}calculatePlayerStats(){return this.players.map(n=>{const a=this.countPlayerMatches(),l=this.bans.filter(o=>o.player_id===n.id),s=this.spielerDesSpiels.find(o=>o.name===n.name&&o.team===n.team),c=s&&s.count||0;return{...n,goals:n.goals||0,matchesPlayed:a,sdsCount:c,goalsPerGame:a>0?((n.goals||0)/a).toFixed(2):"0.00",totalBans:l.length,disciplinaryScore:this.calculateDisciplinaryScore(l)}}).sort((n,a)=>(a.goals||0)-(n.goals||0))}countPlayerGoalsFromMatches(n,a){let l=0;return this.matches.forEach(s=>{a==="AEK"&&s.goalslista&&(Array.isArray(s.goalslista)?s.goalslista:typeof s.goalslista=="string"?JSON.parse(s.goalslista):[]).forEach(o=>{const S=typeof o=="string"?o:o.player,w=typeof o=="string"?1:o.count||1;S===n&&(l+=w)}),a==="Real"&&s.goalslistb&&(Array.isArray(s.goalslistb)?s.goalslistb:typeof s.goalslistb=="string"?JSON.parse(s.goalslistb):[]).forEach(o=>{const S=typeof o=="string"?o:o.player,w=typeof o=="string"?1:o.count||1;S===n&&(l+=w)})}),l}countPlayerMatches(){return this.matches.length}calculateDisciplinaryScore(n){let a=0;return n.forEach(l=>{switch(l.type){case"Gelb-Rote Karte":a+=3;break;case"Rote Karte":a+=5;break;case"Verletzung":a+=1;break;default:a+=1}}),a}calculateAdvancedStats(){const n=this.matches.length,a=this.matches.reduce((l,s)=>l+(s.goalsa||0)+(s.goalsb||0),0);return{avgGoalsPerMatch:n>0?(a/n).toFixed(2):"0.00",totalMatches:n,totalGoals:a,aekTotalGoals:this.matches.reduce((l,s)=>l+(s.goalsa||0),0),realTotalGoals:this.matches.reduce((l,s)=>l+(s.goalsb||0),0),highestScoringMatch:n>0?Math.max(...this.matches.map(l=>(l.goalsa||0)+(l.goalsb||0))):0,cleanSheets:{aek:this.matches.filter(l=>l.goalsb===0).length,real:this.matches.filter(l=>l.goalsa===0).length}}}calculatePerformanceTrends(){const n={};return this.matches.forEach(a=>{const l=new Date(a.date),s=`${l.getFullYear()}-${String(l.getMonth()+1).padStart(2,"0")}`;n[s]||(n[s]={month:s,aekWins:0,realWins:0,totalGoals:0,matchCount:0});const c=a.goalsa||0,o=a.goalsb||0;n[s].totalGoals+=c+o,n[s].matchCount++,c>o?n[s].aekWins++:o>c&&n[s].realWins++}),n}calculateHeadToHead(){const n={totalMatches:this.matches.length,aekWins:0,realWins:0,aekGoals:0,realGoals:0,biggestAekWin:{diff:0,score:"",date:"",opponent:"Real Madrid"},biggestRealWin:{diff:0,score:"",date:"",opponent:"AEK Athen"}};return this.matches.forEach(a=>{const l=a.goalsa||0,s=a.goalsb||0,c=Math.abs(l-s);n.aekGoals+=l,n.realGoals+=s,l>s?(n.aekWins++,c>n.biggestAekWin.diff&&(n.biggestAekWin={diff:c,score:`${l}:${s}`,date:a.date||"",opponent:"Real Madrid"})):s>l&&(n.realWins++,c>n.biggestRealWin.diff&&(n.biggestRealWin={diff:c,score:`${s}:${l}`,date:a.date||"",opponent:"AEK Athen"}))}),n}}const M={clToLiters:t=>(t/100).toFixed(3),clToShots:t=>(t/2).toFixed(0),clToGlasses:t=>(t/20).toFixed(1),formatAlcoholDisplay:t=>({cl:t,liters:(t/100).toFixed(3),shots:Math.floor(t/2),glasses:(t/20).toFixed(1)})};function Ce({onNavigate:t}){const[n,a]=O.useState("dashboard"),l=()=>{var x,d,F,m;try{const h=localStorage.getItem("teamManagers");if(h){const f=JSON.parse(h);return{aekChef:{name:((x=f.aek)==null?void 0:x.name)||"Alexander",weight:((d=f.aek)==null?void 0:d.weight)||100,gender:"male"},realChef:{name:((F=f.real)==null?void 0:F.name)||"Philip",weight:((m=f.real)==null?void 0:m.weight)||105,gender:"male"}}}}catch(h){console.error("Error loading manager settings:",h)}return{aekChef:{name:"Alexander",weight:100,gender:"male"},realChef:{name:"Philip",weight:105,gender:"male"}}},[s,c]=O.useState({aekPlayer:"",realPlayer:"",aekGoals:0,realGoals:0,mode:"manual",playerData:l(),gameDay:new Date().toISOString().split("T")[0],beerCount:0}),{data:o,loading:S}=P("matches","*"),{data:w,loading:C}=P("players","*"),{data:L,loading:R}=P("spieler_des_spiels","*"),{data:T,loading:H}=P("bans","*");O.useEffect(()=>{const x=()=>{c(d=>({...d,playerData:l()}))};return window.addEventListener("storage",x),window.addEventListener("managerSettingsChanged",x),()=>{window.removeEventListener("storage",x),window.removeEventListener("managerSettingsChanged",x)}},[]);const v=S||C||R||H,A=new Me(o,w,T,L),b=A.calculateTeamRecords(),z=A.calculateRecentForm(5),k=A.calculatePlayerStats(),j=A.calculateAdvancedStats(),E=A.calculatePerformanceTrends(),g=A.calculateHeadToHead(),K=(o==null?void 0:o.length)||0,W=(w==null?void 0:w.filter(x=>x.team==="AEK"))||[],B=(w==null?void 0:w.filter(x=>x.team==="Real"))||[],Z=W.reduce((x,d)=>x+(d.value||0),0),U=B.reduce((x,d)=>x+(d.value||0),0),Q=Z+U,I=b.aek.wins,u=b.real.wins,y=x=>x.map((d,F)=>e.jsx("span",{className:`inline-block w-6 h-6 text-xs font-bold rounded-full text-center leading-6 mx-0.5 ${d==="W"?"bg-green-500 text-white":d==="L"?"bg-red-500 text-white":"bg-gray-400 text-white"}`,children:d},F)),$=x=>`${(x||0).toFixed(1)}M ‚Ç¨`,ne=[{id:"dashboard",label:"Dashboard",icon:"üéØ"},{id:"overview",label:"√úbersicht",icon:"üìä"},{id:"players",label:"Spieler",icon:"üë•"},{id:"teams",label:"Teams",icon:"üèÜ"},{id:"trends",label:"Trends",icon:"üìà"},{id:"alkohol",label:"Alkohol",icon:"üç∫"},{id:"advanced",label:"Erweitert",icon:"üî¨"}];if(v)return e.jsx(q,{message:"Lade Statistiken..."});const re=()=>{const x=k.length>0?k[0]:null,d=k.filter(m=>m.sdsCount>0).sort((m,h)=>h.sdsCount-m.sdsCount)[0],F=o==null?void 0:o.reduce((m,h)=>{const f=i=>{if(!i)return[];try{return typeof i=="string"?JSON.parse(i):i}catch{return[]}},p=f(h.goalslista),G=f(h.goalslistb);return[...p,...G].forEach(i=>{const r=typeof i=="object"?i.player:i,N=typeof i=="object"?i.count:1;N>m.count&&(m={player:r,count:N,match:h})}),m},{player:null,count:0,match:null});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-green",children:K}),e.jsx("div",{className:"text-sm text-text-muted",children:"Spiele gespielt"})]}),e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-green",children:j.totalGoals}),e.jsx("div",{className:"text-sm text-text-muted",children:"Tore insgesamt"}),e.jsxs("div",{className:"text-xs text-text-muted mt-1",children:["‚åÄ ",K>0?(j.totalGoals/K).toFixed(1):"0.0","/Spiel"]})]}),e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-lg font-bold text-primary-green",children:x?x.name:"Keine Daten"}),e.jsxs("div",{className:"text-sm text-text-muted",children:["ü•á Topscorer (",x?x.goals:0," Tore)"]}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:x&&x.matchesPlayed>0?`‚åÄ ${(x.goals/x.matchesPlayed).toFixed(2)}/Spiel`:"‚åÄ 0.00/Spiel"})]}),e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-lg font-bold text-primary-green",children:d?d.name:"Keine Daten"}),e.jsxs("div",{className:"text-sm text-text-muted",children:["‚≠ê Top SdS (",d?d.sdsCount:0,"x)"]}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:d&&d.matchesPlayed>0?`${(d.sdsCount/d.matchesPlayed*100).toFixed(1)}% Quote`:"0.0% Quote"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-xl font-bold text-blue-600",children:g.biggestAekWin.diff>0?g.biggestAekWin.score:"‚Äì"}),e.jsx("div",{className:"text-sm text-text-muted",children:"üîµ Gr√∂√üter AEK Sieg"}),g.biggestAekWin.diff>0&&e.jsxs("div",{className:"text-xs text-text-muted mt-1",children:["vs ",g.biggestAekWin.opponent,e.jsx("br",{}),new Date(g.biggestAekWin.date).toLocaleDateString("de-DE")]})]}),e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-xl font-bold text-red-600",children:g.biggestRealWin.diff>0?g.biggestRealWin.score:"‚Äì"}),e.jsx("div",{className:"text-sm text-text-muted",children:"üî¥ Gr√∂√üter Real Sieg"}),g.biggestRealWin.diff>0&&e.jsxs("div",{className:"text-xs text-text-muted mt-1",children:["vs ",g.biggestRealWin.opponent,e.jsx("br",{}),new Date(g.biggestRealWin.date).toLocaleDateString("de-DE")]})]}),e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-xl font-bold text-accent-blue",children:(F==null?void 0:F.player)||"Keine Daten"}),e.jsxs("div",{className:"text-sm text-text-muted",children:["‚öΩ Meiste Tore (",(F==null?void 0:F.count)||0," in einem Spiel)"]}),(F==null?void 0:F.match)&&e.jsx("div",{className:"text-xs text-text-muted mt-1",children:new Date(F.match.date).toLocaleDateString("de-DE")})]}),e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-xl font-bold text-accent-red",children:(()=>{const m={};T==null||T.forEach(f=>{const p=w==null?void 0:w.find(i=>i.id===f.player_id),G=(p==null?void 0:p.name)||"Unbekannt";m[G]=(m[G]||0)+1});const h=Object.entries(m).sort((f,p)=>p[1]-f[1])[0];return h?h[0]:"Keine Daten"})()}),e.jsxs("div",{className:"text-sm text-text-muted",children:["üü• Meiste Sperren (",(()=>{const m={};T==null||T.forEach(f=>{const p=w==null?void 0:w.find(i=>i.id===f.player_id),G=(p==null?void 0:p.name)||"Unbekannt";m[G]=(m[G]||0)+1});const h=Object.entries(m).sort((f,p)=>p[1]-f[1])[0];return h?h[1]:0})(),"x)"]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"üìä Erweiterte Statistiken"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold text-primary-green",children:(()=>{const m=(T==null?void 0:T.reduce((f,p)=>{const G=new Date(p.start_date),i=new Date(p.end_date),r=Math.ceil((i-G)/(1e3*60*60*24));return f+(r>0?r:0)},0))||0;return`${(T==null?void 0:T.length)>0?(m/T.length).toFixed(1):"0.0"} Tage`})()}),e.jsx("div",{className:"text-sm text-text-muted",children:"‚åÄ Sperrenl√§nge"})]}),e.jsxs("div",{className:"text-center p-3 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold text-accent-blue",children:k.filter(m=>m.goals>0).length}),e.jsx("div",{className:"text-sm text-text-muted",children:"Aktive Torsch√ºtzen"})]}),e.jsxs("div",{className:"text-center p-3 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold text-accent-red",children:(T==null?void 0:T.length)||0}),e.jsx("div",{className:"text-sm text-text-muted",children:"Gesamt Sperren"})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"üí° Besondere Statistiken"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"text-xl font-bold text-green-600",children:(()=>{let m=0,h=0,f=0;return o==null||o.forEach(p=>{const G=p.goalsa||0,i=p.goalsb||0;G>i?(h++,f=0,h>m&&(m=h)):i>G?(f++,h=0,f>m&&(m=f)):(h=0,f=0)}),m})()}),e.jsx("div",{className:"text-sm text-green-700",children:"üî• L√§ngste Siegesserie"}),e.jsx("div",{className:"text-xs text-green-600 mt-1",children:(()=>{let m=0,h=0,f=0,p="";return o==null||o.forEach(G=>{const i=G.goalsa||0,r=G.goalsb||0;i>r?(h++,f=0,h>m&&(m=h,p="AEK")):r>i?(f++,h=0,f>m&&(m=f,p="Real")):(h=0,f=0)}),p||"Keine"})()})]}),e.jsxs("div",{className:"text-center p-3 bg-gradient-to-br from-yellow-50 to-orange-50 rounded-lg border border-yellow-200",children:[e.jsx("div",{className:"text-xl font-bold text-yellow-600",children:(()=>{let m=0;return k.forEach(h=>{if(h.matchesPlayed>0){const f=h.goals/h.matchesPlayed;f>m&&(m=f)}}),m.toFixed(2)})()}),e.jsx("div",{className:"text-sm text-yellow-700",children:"‚ö° H√∂chste Effizienz"}),e.jsx("div",{className:"text-xs text-yellow-600 mt-1",children:(()=>{let m=0,h=null;return k.forEach(f=>{if(f.matchesPlayed>0){const p=f.goals/f.matchesPlayed;p>m&&(m=p,h=f.name)}}),h||"Keine Daten"})()})]}),e.jsxs("div",{className:"text-center p-3 bg-gradient-to-br from-blue-50 to-cyan-50 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"text-xl font-bold text-blue-600",children:(()=>{const m=b.aek.wins,h=b.real.wins;return m+h===0?"100%":`${(Math.min(m,h)/Math.max(m,h)*100).toFixed(0)}%`})()}),e.jsx("div",{className:"text-sm text-blue-700",children:"‚öñÔ∏è Team-Balance"}),e.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Ausgeglichenheit (",b.aek.wins,":",b.real.wins,")"]})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"modern-card border-l-4 border-blue-400",children:[e.jsx("h3",{className:"font-bold text-lg mb-4 text-blue-600",children:"AEK Athen"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Siege:"}),e.jsx("span",{className:"font-semibold text-green-600",children:I})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Niederlagen:"}),e.jsx("span",{className:"font-semibold text-red-600",children:b.aek.losses})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Marktwert:"}),e.jsx("span",{className:"font-semibold",children:$(Z)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Zu Null:"}),e.jsx("span",{className:"font-semibold",children:j.cleanSheets.aek})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("div",{className:"text-sm text-text-muted mb-1",children:"Form (letzte 5):"}),e.jsx("div",{className:"flex",children:y(z.aek)})]})]})]}),e.jsxs("div",{className:"modern-card border-l-4 border-red-400",children:[e.jsx("h3",{className:"font-bold text-lg mb-4 text-red-600",children:"Real Madrid"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Siege:"}),e.jsx("span",{className:"font-semibold text-green-600",children:u})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Niederlagen:"}),e.jsx("span",{className:"font-semibold text-red-600",children:b.real.losses})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Marktwert:"}),e.jsx("span",{className:"font-semibold",children:$(U)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Zu Null:"}),e.jsx("span",{className:"font-semibold",children:j.cleanSheets.real})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("div",{className:"text-sm text-text-muted mb-1",children:"Form (letzte 5):"}),e.jsx("div",{className:"flex",children:y(z.real)})]})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"üèÜ Top-Torsch√ºtzen"}),e.jsx("div",{className:"space-y-2",children:k.slice(0,5).map((m,h)=>e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border-light last:border-b-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${h===0?"bg-yellow-500 text-white":h===1?"bg-gray-400 text-white":h===2?"bg-orange-600 text-white":"bg-gray-200 text-gray-600"}`,children:h+1}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:m.name}),e.jsx("div",{className:"text-sm text-text-muted",children:m.team})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold",children:[m.goals," Tore"]}),e.jsxs("div",{className:"text-sm text-text-muted",children:[m.goalsPerGame," ‚åÄ"]})]})]},m.id))})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"‚≠ê Top-Spieler des Spiels"}),e.jsx("div",{className:"space-y-2",children:k.filter(m=>m.sdsCount>0).sort((m,h)=>h.sdsCount-m.sdsCount).slice(0,5).map((m,h)=>e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border-light last:border-b-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${h===0?"bg-yellow-500 text-white":h===1?"bg-gray-400 text-white":h===2?"bg-orange-600 text-white":"bg-gray-200 text-gray-600"}`,children:h+1}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:m.name}),e.jsx("div",{className:"text-sm text-text-muted",children:m.team})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold",children:[m.sdsCount,"x SdS"]}),e.jsxs("div",{className:"text-sm text-text-muted",children:[m.matchesPlayed>0?(m.sdsCount/m.matchesPlayed*100).toFixed(1):"0.0","% Quote"]})]})]},m.id))}),k.filter(m=>m.sdsCount>0).length===0&&e.jsx("div",{className:"text-center text-text-muted py-4",children:"Noch keine Spieler des Spiels Auszeichnungen vergeben"})]})]})},ie=()=>e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"üìä Spielerstatistiken"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-border-light",children:[e.jsx("th",{className:"text-left py-2",children:"Spieler"}),e.jsx("th",{className:"text-left py-2",children:"Team"}),e.jsx("th",{className:"text-center py-2",children:"Tore"}),e.jsx("th",{className:"text-center py-2",children:"‚åÄ/Spiel"}),e.jsx("th",{className:"text-center py-2",children:"SdS"}),e.jsx("th",{className:"text-center py-2",children:"Sperren"}),e.jsx("th",{className:"text-right py-2",children:"Marktwert"})]})}),e.jsx("tbody",{children:k.map(x=>e.jsxs("tr",{className:"border-b border-border-light hover:bg-bg-secondary",children:[e.jsx("td",{className:"py-2 font-medium",children:x.name}),e.jsx("td",{className:"py-2",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${x.team==="AEK"?"bg-blue-100 text-blue-800":x.team==="Ehemalige"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:x.team})}),e.jsx("td",{className:"py-2 text-center font-bold",children:x.goals}),e.jsx("td",{className:"py-2 text-center",children:x.goalsPerGame}),e.jsx("td",{className:"py-2 text-center",children:x.sdsCount}),e.jsx("td",{className:"py-2 text-center",children:x.totalBans}),e.jsx("td",{className:"py-2 text-right",children:$(x.value)})]},x.id))})]})})]}),de=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"‚öñÔ∏è Team-Vergleich"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-blue-600",children:"AEK Athen"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Aktive Spieler:"}),e.jsx("span",{className:"font-medium",children:W.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Siege:"}),e.jsx("span",{className:"font-medium",children:I})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Niederlagen:"}),e.jsx("span",{className:"font-medium",children:b.aek.losses})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Gesamtmarktwert:"}),e.jsx("span",{className:"font-medium",children:$(Z)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Zu Null Spiele:"}),e.jsx("span",{className:"font-medium",children:j.cleanSheets.aek})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-red-600",children:"Real Madrid"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Aktive Spieler:"}),e.jsx("span",{className:"font-medium",children:B.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Siege:"}),e.jsx("span",{className:"font-medium",children:u})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Niederlagen:"}),e.jsx("span",{className:"font-medium",children:b.real.losses})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Gesamtmarktwert:"}),e.jsx("span",{className:"font-medium",children:$(U)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Zu Null Spiele:"}),e.jsx("span",{className:"font-medium",children:j.cleanSheets.real})]})]})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"üìà Erweiterte Statistiken"}),e.jsx("div",{className:"mb-4 text-sm text-text-muted",children:"Diese Statistiken bieten tiefere Einblicke in die Team-Performance und wichtige Kennzahlen."}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-green",children:j.highestScoringMatch}),e.jsx("div",{className:"text-sm text-text-muted",children:"H√∂chste Toranzahl"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:"in einem einzelnen Spiel"})]}),e.jsxs("div",{className:"text-center p-4 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-green",children:$(Q)}),e.jsx("div",{className:"text-sm text-text-muted",children:"Gesamtmarktwert"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:"aller aktiven Spieler"})]}),e.jsxs("div",{className:"text-center p-4 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-accent-orange",children:Math.abs(I-u)}),e.jsx("div",{className:"text-sm text-text-muted",children:"Siegesdifferenz"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:"zwischen den Teams"})]}),e.jsxs("div",{className:"text-center p-4 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-accent-blue",children:K>0?((W.length+B.length)*(K/2)).toFixed(0):0}),e.jsx("div",{className:"text-sm text-text-muted",children:"Gesch√§tzte Spielminuten"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:"pro Spieler (‚åÄ 45min)"})]})]}),e.jsxs("div",{className:"mt-6 grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-text-primary",children:"üéØ Offensive Highlights"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Torreichstes Team:"}),e.jsxs("span",{className:"font-medium",children:[j.aekTotalGoals>=j.realTotalGoals?"AEK Athen":"Real Madrid","(",Math.max(j.aekTotalGoals,j.realTotalGoals)," Tore)"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"H√∂chste Einzelspiel-Toranzahl:"}),e.jsxs("span",{className:"font-medium",children:[j.highestScoringMatch," Tore"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Aktivster Torsch√ºtze:"}),e.jsx("span",{className:"font-medium",children:k.length>0?`${k[0].name} (${k[0].goals} Tore)`:"Keine Daten"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-text-primary",children:"‚öñÔ∏è Team-Balance"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Kader-Unterschied:"}),e.jsxs("span",{className:"font-medium",children:[Math.abs(W.length-B.length)," Spieler"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Marktwert-Verh√§ltnis:"}),e.jsx("span",{className:"font-medium",children:W.reduce((x,d)=>x+(d.value||0),0)>B.reduce((x,d)=>x+(d.value||0),0)?"AEK f√ºhrt":"Real f√ºhrt"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Dominanteres Team:"}),e.jsx("span",{className:"font-medium",children:I>u?"AEK Athen":u>I?"Real Madrid":"Ausgeglichen"})]})]})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"‚öîÔ∏è Head-to-Head Bilanz"}),e.jsx("div",{className:"mb-4 text-sm text-text-muted",children:"Direkter Vergleich zwischen AEK Athen und Real Madrid √ºber alle Spiele."}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:g.aekWins}),e.jsx("div",{className:"text-sm text-blue-700",children:"AEK Siege"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:g.totalMatches>0?`${(g.aekWins/g.totalMatches*100).toFixed(1)}%`:"0%"})]}),e.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:g.realWins}),e.jsx("div",{className:"text-sm text-red-700",children:"Real Siege"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:g.totalMatches>0?`${(g.realWins/g.totalMatches*100).toFixed(1)}%`:"0%"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-600",children:g.totalMatches-g.aekWins-g.realWins}),e.jsx("div",{className:"text-sm text-gray-700",children:"Unentschieden"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:g.totalMatches>0?`${((g.totalMatches-g.aekWins-g.realWins)/g.totalMatches*100).toFixed(1)}%`:"0%"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:g.aekGoals+g.realGoals}),e.jsx("div",{className:"text-sm text-green-700",children:"Tore gesamt"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:g.totalMatches>0?`‚åÄ ${((g.aekGoals+g.realGoals)/g.totalMatches).toFixed(1)} pro Spiel`:"‚åÄ 0 pro Spiel"})]})]}),e.jsxs("div",{className:"mt-6 grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"üîµ Gr√∂√üter AEK Sieg"}),g.biggestAekWin.diff>0?e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:g.biggestAekWin.score}),e.jsxs("div",{className:"text-sm text-blue-700",children:["Unterschied: ",g.biggestAekWin.diff," Tore"]}),e.jsx("div",{className:"text-xs text-text-muted",children:new Date(g.biggestAekWin.date).toLocaleDateString("de-DE")})]}):e.jsx("div",{className:"text-gray-500",children:"Noch kein Sieg verzeichnet"})]}),e.jsxs("div",{className:"p-4 bg-red-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-red-800 mb-2",children:"üî¥ Gr√∂√üter Real Sieg"}),g.biggestRealWin.diff>0?e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-red-600 mb-1",children:g.biggestRealWin.score}),e.jsxs("div",{className:"text-sm text-red-700",children:["Unterschied: ",g.biggestRealWin.diff," Tore"]}),e.jsx("div",{className:"text-xs text-text-muted",children:new Date(g.biggestRealWin.date).toLocaleDateString("de-DE")})]}):e.jsx("div",{className:"text-gray-500",children:"Noch kein Sieg verzeichnet"})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"üî¨ Detailanalyse"}),e.jsx("div",{className:"mb-4 text-sm text-text-muted",children:"Erweiterte Metriken f√ºr eine tiefgreifende Team-Analyse."}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-blue-600",children:"üí∞ Wirtschaftliche Effizienz"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"‚åÄ Marktwert AEK:"}),e.jsx("span",{className:"font-medium",children:W.length>0?`${(W.reduce((x,d)=>x+(d.value||0),0)/W.length).toFixed(1)}M ‚Ç¨`:"0M ‚Ç¨"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"‚åÄ Marktwert Real:"}),e.jsx("span",{className:"font-medium",children:B.length>0?`${(B.reduce((x,d)=>x+(d.value||0),0)/B.length).toFixed(1)}M ‚Ç¨`:"0M ‚Ç¨"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Tore pro 1M ‚Ç¨ (AEK):"}),e.jsx("span",{className:"font-medium",children:W.reduce((x,d)=>x+(d.value||0),0)>0?(j.aekTotalGoals/W.reduce((x,d)=>x+(d.value||0),0)).toFixed(2):"0.00"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Tore pro 1M ‚Ç¨ (Real):"}),e.jsx("span",{className:"font-medium",children:B.reduce((x,d)=>x+(d.value||0),0)>0?(j.realTotalGoals/B.reduce((x,d)=>x+(d.value||0),0)).toFixed(2):"0.00"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-red-600",children:"üé≤ Spielstatistiken"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Spiele gespielt:"}),e.jsx("span",{className:"font-medium",children:K})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Unentschieden:"}),e.jsx("span",{className:"font-medium",children:K-I-u})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"‚åÄ Spieldauer:"}),e.jsx("span",{className:"font-medium",children:"~90 Minuten"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"L√§ngste Serie:"}),e.jsxs("span",{className:"font-medium",children:[I>=u?"AEK":"Real"," (",Math.max(I,u)," Siege)"]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-purple-600",children:"üèÜ Erfolgs-Metriken"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Aktivste Spieler:"}),e.jsx("span",{className:"font-medium",children:W.length+B.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Top-Performer:"}),e.jsxs("span",{className:"font-medium",children:[k.filter(x=>x.sdsCount>0).length," Spieler"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Konsistenz AEK:"}),e.jsx("span",{className:"font-medium",children:K>0?`${(I/K*100).toFixed(0)}% Erfolg`:"0% Erfolg"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Konsistenz Real:"}),e.jsx("span",{className:"font-medium",children:K>0?`${(u/K*100).toFixed(0)}% Erfolg`:"0% Erfolg"})]})]})]})]})]})]}),ce=()=>e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"üìà Performance-Trends"}),e.jsx("div",{className:"space-y-4",children:Object.values(E).reverse().map(x=>e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-border-light last:border-b-0",children:[e.jsx("div",{className:"font-medium",children:x.month}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-sm",children:[e.jsxs("span",{className:"text-blue-600 font-medium",children:["AEK: ",x.aekWins]}),e.jsx("span",{className:"mx-2",children:"vs"}),e.jsxs("span",{className:"text-red-600 font-medium",children:["Real: ",x.realWins]})]}),e.jsxs("div",{className:"text-sm text-text-muted",children:[x.matchCount," Spiele, ",x.totalGoals," Tore"]}),e.jsxs("div",{className:"text-sm font-medium",children:["‚åÄ ",(x.totalGoals/x.matchCount).toFixed(1)," Tore/Spiel"]})]})]},x.month))})]}),oe=()=>{const d=(()=>{const i={totalShots:0,aekShots:0,realShots:0,playerShots:{}};return o==null||o.forEach(r=>{const N=r.goalsa||0,D=r.goalsb||0;i.totalShots+=Math.floor((N+D)/2)*2,i.aekShots+=Math.floor(D/2)*2,i.realShots+=Math.floor(N/2)*2}),w==null||w.forEach(r=>{r.goals>0&&(i.playerShots[r.name]||(i.playerShots[r.name]={totalGoals:0,alcoholCaused:0}),i.playerShots[r.name].totalGoals=r.goals,i.playerShots[r.name].alcoholCaused=Math.floor(r.goals/2)*2)}),i})(),F=Object.entries(d.playerShots).sort(([,i],[,r])=>r.alcoholCaused-i.alcoholCaused).slice(0,10),m=()=>{const i=new Date,r=new Date(i.getFullYear(),i.getMonth(),i.getDate()),N=new Date(r);return N.setDate(N.getDate()-1),(o==null?void 0:o.filter(D=>{const V=new Date(D.date),_=new Date(V.getFullYear(),V.getMonth(),V.getDate());return _>=N&&_<=r}))||[]},h=()=>{if(s.mode==="automatic"){const r=m().reduce((N,D)=>N+(D.goalsb||0),0);return Math.floor(r/2)*2}return Math.floor(s.realGoals/2)*2},f=()=>{if(s.mode==="automatic"){const r=m().reduce((N,D)=>N+(D.goalsa||0),0);return Math.floor(r/2)*2}return Math.floor(s.aekGoals/2)*2},p=()=>{if(s.mode==="automatic"){const r=m().reduce((N,D)=>N+(D.goalsa||0)+(D.goalsb||0),0);return Math.floor(r/2)*2}else return Math.floor((s.aekGoals+s.realGoals)/2)*2},G=(i,r,N=null,D=0)=>{if(!r.weight||i===0&&D===0)return"0.00";let V=i*10*.4;V+=D*.5*1e3*.05/10;const _=r.gender==="female"?.55:.68;let J=V/(r.weight*_);if(N){const me=(new Date-new Date(N))/(1e3*60*60);J=Math.max(0,J-me*.15/10)}return(J*10).toFixed(2)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-3xl mb-2",children:"üç∫"}),e.jsxs("div",{className:"text-2xl font-bold text-primary-green",children:[d.totalShots,"cl"]}),e.jsx("div",{className:"text-sm text-text-muted",children:"Gesamt Schnaps"}),e.jsxs("div",{className:"text-xs text-text-muted mt-1 space-y-1",children:[e.jsxs("div",{children:["‚âà ",M.clToLiters(d.totalShots),"L"]}),e.jsxs("div",{children:["‚âà ",M.clToShots(d.totalShots)," Shots"]}),e.jsxs("div",{children:["‚âà ",M.clToGlasses(d.totalShots)," Gl√§ser"]})]})]}),e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-3xl mb-2",children:"üîµ"}),e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[d.aekShots,"cl"]}),e.jsx("div",{className:"text-sm text-text-muted",children:"AEK getrunken"}),e.jsxs("div",{className:"text-xs text-text-muted mt-1 space-y-1",children:[e.jsxs("div",{children:["‚âà ",M.clToLiters(d.aekShots),"L"]}),e.jsxs("div",{children:["‚âà ",M.clToShots(d.aekShots)," Shots"]}),e.jsxs("div",{children:[d.totalShots>0?(d.aekShots/d.totalShots*100).toFixed(1):0,"% vom Gesamt"]})]})]}),e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-3xl mb-2",children:"üî¥"}),e.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[d.realShots,"cl"]}),e.jsx("div",{className:"text-sm text-text-muted",children:"Real getrunken"}),e.jsxs("div",{className:"text-xs text-text-muted mt-1 space-y-1",children:[e.jsxs("div",{children:["‚âà ",M.clToLiters(d.realShots),"L"]}),e.jsxs("div",{children:["‚âà ",M.clToShots(d.realShots)," Shots"]}),e.jsxs("div",{children:[d.totalShots>0?(d.realShots/d.totalShots*100).toFixed(1):0,"% vom Gesamt"]})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"üçª Top Alkohol-Verursacher"}),e.jsx("div",{className:"text-sm text-text-muted mb-4",children:"Spieler, die mit ihren Toren am meisten Alkohol f√ºr den Gegner verursacht haben"}),e.jsxs("div",{className:"space-y-3",children:[F.map(([i,r],N)=>e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border-light last:border-b-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${N===0?"bg-yellow-500 text-white":N===1?"bg-gray-400 text-white":N===2?"bg-orange-600 text-white":"bg-gray-200 text-gray-600"}`,children:N+1}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:i}),e.jsxs("div",{className:"text-sm text-text-muted space-x-2",children:[e.jsxs("span",{children:[r.totalGoals," Tore"]}),e.jsxs("span",{children:["‚âà ",M.clToLiters(r.alcoholCaused),"L"]}),e.jsxs("span",{children:["‚âà ",M.clToShots(r.alcoholCaused)," Shots"]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold text-primary-green",children:[r.alcoholCaused,"cl"]}),e.jsx("div",{className:"text-sm text-text-muted",children:"verursacht"})]})]},i)),F.length===0&&e.jsx("div",{className:"text-center text-text-muted py-4",children:"Noch keine Tore geschossen - noch kein Alkohol verursacht!"})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"üìã Spiele & Alkohol-√úbersicht"}),e.jsx("div",{className:"text-sm text-text-muted mb-4",children:"√úbersicht √ºber alle Spiele und den dabei konsumierten Alkohol"}),e.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[o==null?void 0:o.slice().reverse().map((i,r)=>{const N=i.goalsa||0,D=i.goalsb||0,V=Math.floor((N+D)/2)*2,_=Math.floor(D/2)*2,J=Math.floor(N/2)*2;return e.jsxs("div",{className:"p-3 bg-bg-secondary rounded-lg border border-border-light",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-lg",children:[N,":",D,e.jsxs("span",{className:"text-sm text-text-muted ml-2",children:["(",i.date||"Kein Datum",")"]})]}),e.jsx("div",{className:"text-sm text-text-muted",children:"AEK vs Real Madrid"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold text-primary-green",children:[V,"cl"]}),e.jsxs("div",{className:"text-xs text-text-muted",children:[M.clToLiters(V),"L | ",M.clToShots(V)," Shots"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-2",children:[e.jsxs("div",{className:"text-center p-2 bg-blue-50 rounded",children:[e.jsxs("div",{className:"text-sm font-bold text-blue-600",children:[_,"cl"]}),e.jsx("div",{className:"text-xs text-blue-700",children:"AEK trinkt"})]}),e.jsxs("div",{className:"text-center p-2 bg-red-50 rounded",children:[e.jsxs("div",{className:"text-sm font-bold text-red-600",children:[J,"cl"]}),e.jsx("div",{className:"text-xs text-red-700",children:"Real trinkt"})]})]})]},i.id||r)}),(!o||o.length===0)&&e.jsx("div",{className:"text-center text-text-muted py-4",children:"Noch keine Spiele vorhanden"})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"üßÆ Erweiterte Alkohol-Rechner"}),e.jsx("div",{className:"text-sm text-text-muted mb-6",children:"Berechne Alkoholkonsum f√ºr Spiele und Spieltage inklusive Bier-Konsum und Blutalkohol"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"‚öΩ Spiel-Rechner"}),e.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Berechnungsmodus"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"calculatorMode",value:"manual",checked:s.mode==="manual",onChange:i=>c(r=>({...r,mode:i.target.value})),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"Manuell"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"calculatorMode",value:"automatic",checked:s.mode==="automatic",onChange:i=>c(r=>({...r,mode:i.target.value})),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"Automatisch (letzten 2 Spieltage)"})]})]}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:s.mode==="manual"?"Geben Sie Tore manuell ein":"Berechnet automatisch aus Spielen der letzten zwei Tage (heute + gestern)"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 alcohol-calculator-grid",children:[e.jsxs("div",{className:"space-y-4",children:[s.mode==="manual"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"alcohol-input-group",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"AEK Tore"}),e.jsx("input",{type:"number",min:"0",max:"20",value:s.aekGoals,onChange:i=>c(r=>({...r,aekGoals:parseInt(i.target.value)||0})),className:"w-full px-3 py-2 border border-border-light rounded-lg bg-bg-secondary text-text-primary focus:outline-none focus:ring-2 focus:ring-primary-green"})]}),e.jsxs("div",{className:"alcohol-input-group",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Real Tore"}),e.jsx("input",{type:"number",min:"0",max:"20",value:s.realGoals,onChange:i=>c(r=>({...r,realGoals:parseInt(i.target.value)||0})),className:"w-full px-3 py-2 border border-border-light rounded-lg bg-bg-secondary text-text-primary focus:outline-none focus:ring-2 focus:ring-primary-green"})]})]}),s.mode==="automatic"&&e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsx("h5",{className:"font-medium text-blue-800 mb-2",children:"üìä Automatische Berechnung"}),e.jsx("div",{className:"text-sm text-blue-700 space-y-1",children:(()=>{const i=m(),r=i.reduce((N,D)=>N+(D.goalsa||0)+(D.goalsb||0),0);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:["Spiele (letzte 2 Tage): ",i.length]}),e.jsxs("div",{children:["Gesamt-Tore: ",r]}),e.jsxs("div",{children:["Daraus resultierend: ",p(),"cl Schnaps"]})]})})()})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-bg-secondary rounded-lg alcohol-display-card",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl mb-2",children:"ü•É"}),e.jsxs("div",{className:"text-2xl font-bold text-primary-green",children:[p(),"cl"]}),e.jsx("div",{className:"text-sm text-text-muted",children:"Gesamt Schnaps"}),e.jsxs("div",{className:"text-xs text-text-muted mt-1 space-y-1",children:[e.jsxs("div",{children:["‚âà ",M.clToLiters(p()),"L"]}),e.jsxs("div",{children:["‚âà ",M.clToShots(p())," Shots"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[h(),"cl"]}),e.jsx("div",{className:"text-sm text-blue-700",children:"AEK trinkt"}),e.jsxs("div",{className:"text-xs text-blue-700",children:[M.clToShots(h())," Shots"]})]}),e.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[e.jsxs("div",{className:"text-lg font-bold text-red-600",children:[f(),"cl"]}),e.jsx("div",{className:"text-sm text-red-700",children:"Real trinkt"}),e.jsxs("div",{className:"text-xs text-red-700",children:[M.clToShots(f())," Shots"]})]})]})]})]})]}),e.jsxs("div",{className:"mb-6 border-t pt-6",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"üìÖ Spieltag-Rechner"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Spieltag (Datum)"}),e.jsx("input",{type:"date",value:s.gameDay,onChange:i=>c(r=>({...r,gameDay:i.target.value})),className:"w-full px-3 py-2 border border-border-light rounded-lg bg-bg-secondary text-text-primary focus:outline-none focus:ring-2 focus:ring-primary-green"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Bier-Anzahl (0,5L je)"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"number",min:"0",max:"20",value:s.beerCount,onChange:i=>c(r=>({...r,beerCount:parseInt(i.target.value)||0})),className:"flex-1 px-3 py-2 border border-border-light rounded-lg bg-bg-secondary text-text-primary focus:outline-none focus:ring-2 focus:ring-primary-green",style:{fontSize:"16px"}}),e.jsx("button",{onClick:()=>c(i=>({...i,beerCount:i.beerCount+1})),className:"beer-counter-button px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors",title:"0,5L Bier (5% Alkohol) hinzuf√ºgen",children:"üç∫ +0,5L"})]}),e.jsxs("div",{className:"text-xs text-text-muted mt-1",children:["Gesamt: ",(s.beerCount*.5).toFixed(1),"L Bier (5% Alkohol)"]})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"p-4 bg-bg-secondary rounded-lg",children:[e.jsx("h5",{className:"font-medium mb-2",children:"Spieltag-Alkohol"}),e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsxs("div",{children:["Schnaps: ",p(),"cl (40% Alkohol)"]}),e.jsxs("div",{children:["Bier: ",(s.beerCount*.5*5).toFixed(1),"cl reiner Alkohol"]}),e.jsxs("div",{className:"border-t pt-1 font-semibold",children:["Gesamt: ",(p()*.4+s.beerCount*.5*.05).toFixed(1),"cl reiner Alkohol"]})]})]})})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"üë• Spieler-Daten & Blutalkohol"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-blue-600 mb-2",children:"üîµ Chef AEK"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"text",placeholder:"Name",value:s.playerData.aekChef.name,onChange:i=>c(r=>({...r,playerData:{...r.playerData,aekChef:{...r.playerData.aekChef,name:i.target.value}}})),className:"w-full px-3 py-2 border border-border-light rounded-lg bg-bg-secondary text-text-primary focus:outline-none focus:ring-2 focus:ring-primary-green",style:{fontSize:"16px"}}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("input",{type:"number",placeholder:"Gewicht (kg)",min:"40",max:"150",value:s.playerData.aekChef.weight,onChange:i=>c(r=>({...r,playerData:{...r.playerData,aekChef:{...r.playerData.aekChef,weight:parseInt(i.target.value)||70}}})),className:"px-3 py-2 border border-border-light rounded-lg bg-bg-secondary text-text-primary focus:outline-none focus:ring-2 focus:ring-primary-green",style:{fontSize:"16px"}}),e.jsxs("select",{value:s.playerData.aekChef.gender,onChange:i=>c(r=>({...r,playerData:{...r.playerData,aekChef:{...r.playerData.aekChef,gender:i.target.value}}})),className:"px-3 py-2 border border-border-light rounded-lg bg-bg-secondary text-text-primary focus:outline-none focus:ring-2 focus:ring-primary-green",children:[e.jsx("option",{value:"male",children:"M√§nnlich"}),e.jsx("option",{value:"female",children:"Weiblich"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-red-600 mb-2",children:"üî¥ Chef Real"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"text",placeholder:"Name",value:s.playerData.realChef.name,onChange:i=>c(r=>({...r,playerData:{...r.playerData,realChef:{...r.playerData.realChef,name:i.target.value}}})),className:"w-full px-3 py-2 border border-border-light rounded-lg bg-bg-secondary text-text-primary focus:outline-none focus:ring-2 focus:ring-primary-green",style:{fontSize:"16px"}}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("input",{type:"number",placeholder:"Gewicht (kg)",min:"40",max:"150",value:s.playerData.realChef.weight,onChange:i=>c(r=>({...r,playerData:{...r.playerData,realChef:{...r.playerData.realChef,weight:parseInt(i.target.value)||70}}})),className:"px-3 py-2 border border-border-light rounded-lg bg-bg-secondary text-text-primary focus:outline-none focus:ring-2 focus:ring-primary-green",style:{fontSize:"16px"}}),e.jsxs("select",{value:s.playerData.realChef.gender,onChange:i=>c(r=>({...r,playerData:{...r.playerData,realChef:{...r.playerData.realChef,gender:i.target.value}}})),className:"px-3 py-2 border border-border-light rounded-lg bg-bg-secondary text-text-primary focus:outline-none focus:ring-2 focus:ring-primary-green",children:[e.jsx("option",{value:"male",children:"M√§nnlich"}),e.jsx("option",{value:"female",children:"Weiblich"})]})]})]})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"p-4 bg-bg-secondary rounded-lg",children:[e.jsx("h5",{className:"font-medium mb-3",children:"üß™ Blutalkohol-Rechnung"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 border border-blue-200 rounded-lg",children:[e.jsxs("div",{className:"text-sm font-medium text-blue-600",children:[s.playerData.aekChef.name||"Chef AEK"," trinkt: ",h(),"cl"]}),e.jsxs("div",{className:"text-xs text-text-muted mt-1",children:["BAK: ‚âà ",(()=>{if(s.mode==="automatic"){const i=m(),r=i.length>0?i[i.length-1]:null;return G(h(),s.playerData.aekChef,r==null?void 0:r.date,s.beerCount)}return G(Math.floor(s.realGoals/2)*2,s.playerData.aekChef,null,s.beerCount)})(),"‚Ä∞"]})]}),e.jsxs("div",{className:"p-3 border border-red-200 rounded-lg",children:[e.jsxs("div",{className:"text-sm font-medium text-red-600",children:[s.playerData.realChef.name||"Chef Real"," trinkt: ",f(),"cl"]}),e.jsxs("div",{className:"text-xs text-text-muted mt-1",children:["BAK: ‚âà ",(()=>{if(s.mode==="automatic"){const i=m(),r=i.length>0?i[i.length-1]:null;return G(f(),s.playerData.realChef,r==null?void 0:r.date,s.beerCount)}return G(Math.floor(s.aekGoals/2)*2,s.playerData.realChef,null,s.beerCount)})(),"‚Ä∞"]})]})]}),e.jsxs("div",{className:"text-xs text-text-muted mt-3",children:[e.jsx("strong",{children:"Hinweis:"})," BAK-Berechnung ist eine N√§herung (Widmark-Formel) mit Alkoholabbau (~0.15‚Ä∞/h). Exakte Werte k√∂nnen abweichen. Automatischer Modus ber√ºcksichtigt Zeit seit letztem Spiel."]})]})})]})]}),e.jsx("div",{className:"mt-6 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"text-sm text-yellow-800",children:[e.jsx("strong",{children:"Regeln:"})," F√ºr jedes zweite Tor muss der Gegner 2cl Schnaps (40%) trinken. 0,5L Bier (5% Alkohol) entspricht 2,5cl reinem Alkohol."]})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"modern-card border-l-4 border-blue-400",children:[e.jsx("h3",{className:"font-bold text-lg mb-4 text-blue-600",children:"üîµ AEK Alkohol-Bilanz"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Getrunken (durch Real Tore):"}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-semibold text-red-600",children:[d.aekShots,"cl"]}),e.jsxs("div",{className:"text-xs text-text-muted",children:[M.clToLiters(d.aekShots),"L | ",M.clToShots(d.aekShots)," Shots"]})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Verursacht (durch AEK Tore):"}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-semibold text-green-600",children:[d.realShots,"cl"]}),e.jsxs("div",{className:"text-xs text-text-muted",children:[M.clToLiters(d.realShots),"L | ",M.clToShots(d.realShots)," Shots"]})]})]}),e.jsxs("div",{className:"flex justify-between border-t pt-2",children:[e.jsx("span",{className:"font-medium",children:"Alkohol-Bilanz:"}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`font-bold ${d.realShots>d.aekShots?"text-green-600":"text-red-600"}`,children:[d.realShots>d.aekShots?"+":"",d.realShots-d.aekShots,"cl"]}),e.jsxs("div",{className:"text-xs text-text-muted",children:[M.clToShots(Math.abs(d.realShots-d.aekShots))," Shots Differenz"]})]})]}),e.jsx("div",{className:"text-xs text-text-muted",children:d.realShots>d.aekShots?"AEK verursacht mehr als getrunken":"AEK trinkt mehr als verursacht"})]})]}),e.jsxs("div",{className:"modern-card border-l-4 border-red-400",children:[e.jsx("h3",{className:"font-bold text-lg mb-4 text-red-600",children:"üî¥ Real Alkohol-Bilanz"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Getrunken (durch AEK Tore):"}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-semibold text-red-600",children:[d.realShots,"cl"]}),e.jsxs("div",{className:"text-xs text-text-muted",children:[M.clToLiters(d.realShots),"L | ",M.clToShots(d.realShots)," Shots"]})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Verursacht (durch Real Tore):"}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-semibold text-green-600",children:[d.aekShots,"cl"]}),e.jsxs("div",{className:"text-xs text-text-muted",children:[M.clToLiters(d.aekShots),"L | ",M.clToShots(d.aekShots)," Shots"]})]})]}),e.jsxs("div",{className:"flex justify-between border-t pt-2",children:[e.jsx("span",{className:"font-medium",children:"Alkohol-Bilanz:"}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`font-bold ${d.aekShots>d.realShots?"text-green-600":"text-red-600"}`,children:[d.aekShots>d.realShots?"+":"",d.aekShots-d.realShots,"cl"]}),e.jsxs("div",{className:"text-xs text-text-muted",children:[M.clToShots(Math.abs(d.aekShots-d.realShots))," Shots Differenz"]})]})]}),e.jsx("div",{className:"text-xs text-text-muted",children:d.aekShots>d.realShots?"Real verursacht mehr als getrunken":"Real trinkt mehr als verursacht"})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"üìà Zus√§tzliche Alkohol-Statistiken"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-purple-50 to-indigo-50 rounded-lg border border-purple-200",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[K>0?(d.totalShots/K).toFixed(1):"0.0","cl"]}),e.jsx("div",{className:"text-sm text-purple-700",children:"‚åÄ Alkohol pro Spiel"}),e.jsx("div",{className:"text-xs text-purple-600 mt-1",children:"Durchschnittlicher Schnaps-Konsum"})]}),e.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-orange-50 to-red-50 rounded-lg border border-orange-200",children:[e.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[(o==null?void 0:o.reduce((r,N)=>{const D=(N.goalsa||0)+(N.goalsb||0),V=Math.floor(D/2)*2;return V>r?V:r},0))||0,"cl"]}),e.jsx("div",{className:"text-sm text-orange-700",children:"üî• H√∂chster Alkohol-Verbrauch"}),e.jsx("div",{className:"text-xs text-orange-600 mt-1",children:"In einem einzelnen Spiel"})]}),e.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:(o==null?void 0:o.filter(r=>{const N=(r.goalsa||0)+(r.goalsb||0);return Math.floor(N/2)*2===0}).length)||0}),e.jsx("div",{className:"text-sm text-green-700",children:"üö´ Alkoholfreie Spiele"}),e.jsx("div",{className:"text-xs text-green-600 mt-1",children:"Spiele ohne Alkohol-Konsum"})]})]})]})]})},xe=()=>{switch(n){case"dashboard":return e.jsx(Ae,{onNavigate:t});case"players":return ie();case"teams":return de();case"trends":return ce();case"alkohol":return oe();case"advanced":return e.jsx(he,{});default:return re()}};return e.jsxs("div",{className:"p-4 pb-24 mobile-safe-bottom",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-2",children:"üìä Statistiken"}),e.jsx("p",{className:"text-text-muted",children:"Umfassende Analyse von Spielen, Spielern und Teams"})]}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"icon-only-nav flex overflow-x-auto space-x-2 pb-2 scroll-indicator-container",children:ne.map(x=>e.jsxs("button",{onClick:()=>a(x.id),className:`stats-nav-button flex items-center space-x-2 px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${n===x.id?"bg-primary-green text-white":"bg-bg-secondary text-text-muted hover:bg-bg-tertiary"}`,title:x.label,"aria-label":x.label,children:[e.jsx("span",{children:x.icon}),e.jsx("span",{className:"font-medium hidden sm:inline",children:x.label})]},x.id))}),e.jsx("div",{className:"absolute left-0 top-1/2 transform -translate-y-1/2 w-4 h-8 bg-gradient-to-r from-bg-primary to-transparent pointer-events-none opacity-50 md:hidden"}),e.jsx("div",{className:"absolute right-0 top-1/2 transform -translate-y-1/2 w-4 h-8 bg-gradient-to-l from-bg-primary to-transparent pointer-events-none opacity-50 md:hidden"})]}),e.jsx("div",{className:"form-container",children:xe()})]})}export{Ce as default};
