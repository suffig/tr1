import{r as $,u as F,j as e,L as Y}from"./index-BY14lfR9.js";function Ue(){const[s,t]=$.useState("performance"),[a,n]=$.useState("all"),{data:l,loading:r}=F("matches","*"),{data:i,loading:g}=F("players","*"),h=r||g,y=$.useMemo(()=>{if(!l||!i)return null;const w=new Date,C=l.filter(k=>{if(a==="all")return!0;const D=new Date(k.date),N=Math.floor((w-D)/(1e3*60*60*24));switch(a){case"30d":return N<=30;case"90d":return N<=90;case"1y":return N<=365;default:return!0}});return{performance:es(C),trends:ss(C),efficiency:ts(C),predictions:as(C),playerComparison:ls(C,i)}},[l,i,a]);return h?e.jsx(Y,{message:"Lade erweiterte Analysen..."}):y?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:"üî¨ Erweiterte Analysen"}),e.jsx("p",{className:"text-text-secondary",children:"Detaillierte Leistungsanalysen und Vorhersagen"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("select",{value:a,onChange:w=>n(w.target.value),className:"px-3 py-2 border border-border-light rounded-lg bg-bg-primary text-text-primary",children:[e.jsx("option",{value:"all",children:"Alle Zeiten"}),e.jsx("option",{value:"30d",children:"Letzte 30 Tage"}),e.jsx("option",{value:"90d",children:"Letzte 90 Tage"}),e.jsx("option",{value:"1y",children:"Letztes Jahr"})]})})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[{id:"performance",label:"üìà Leistung",icon:"üìà"},{id:"trends",label:"üìä Trends",icon:"üìä"},{id:"efficiency",label:"‚ö° Effizienz",icon:"‚ö°"},{id:"predictions",label:"üîÆ Vorhersagen",icon:"üîÆ"},{id:"comparison",label:"‚öñÔ∏è Vergleich",icon:"‚öñÔ∏è"}].map(w=>e.jsxs("button",{onClick:()=>t(w.id),className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-colors ${s===w.id?"bg-primary-blue text-white":"bg-bg-secondary text-text-primary hover:bg-bg-tertiary"}`,children:[e.jsx("span",{children:w.icon}),e.jsx("span",{className:"hidden sm:inline",children:w.label})]},w.id))}),e.jsxs("div",{className:"grid gap-6",children:[s==="performance"&&e.jsx(Je,{data:y.performance}),s==="trends"&&e.jsx(qe,{data:y.trends}),s==="efficiency"&&e.jsx(Ze,{data:y.efficiency}),s==="predictions"&&e.jsx(Qe,{data:y.predictions}),s==="comparison"&&e.jsx(Ye,{data:y.playerComparison})]})]}):e.jsx("div",{className:"p-4 text-center text-gray-500",children:"Nicht gen√ºgend Daten f√ºr erweiterte Analysen verf√ºgbar."})}function Je({data:s}){return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"modern-card",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"üéØ"})," Trefferquote"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"AEK Athen:"}),e.jsxs("span",{className:"font-semibold text-primary-blue",children:[s.shotAccuracy.aek,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Real Madrid:"}),e.jsxs("span",{className:"font-semibold text-accent-red",children:[s.shotAccuracy.real,"%"]})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"üèÉ‚Äç‚ôÇÔ∏è"})," Form-Index"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"AEK Form:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${fe(s.formIndex.aek)}`}),e.jsx("span",{className:"font-semibold",children:s.formIndex.aek.toFixed(1)})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Real Form:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${fe(s.formIndex.real)}`}),e.jsx("span",{className:"font-semibold",children:s.formIndex.real.toFixed(1)})]})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"üí™"})," Leistungs-Rating"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Offensiv:"}),e.jsxs("span",{className:"font-semibold text-primary-green",children:[s.offensiveRating,"/10"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Defensiv:"}),e.jsxs("span",{className:"font-semibold text-primary-blue",children:[s.defensiveRating,"/10"]})]})]})]})]})}function qe({data:s}){return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"modern-card",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"üìà"})," Leistungstrends (letzte 10 Spiele)"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2 text-primary-blue",children:"üîµ AEK Athen"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Tore/Spiel Trend:"}),e.jsxs("span",{className:`font-semibold ${s.goalTrend.aek>=0?"text-green-600":"text-red-600"}`,children:[s.goalTrend.aek>=0?"‚ÜóÔ∏è":"‚ÜòÔ∏è"," ",Math.abs(s.goalTrend.aek).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Siegesserie:"}),e.jsxs("span",{className:"font-semibold",children:[s.winStreak.aek," Spiele"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Formkurve:"}),e.jsx("span",{className:"font-mono text-sm",children:s.formPattern.aek})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2 text-accent-red",children:"üî¥ Real Madrid"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Tore/Spiel Trend:"}),e.jsxs("span",{className:`font-semibold ${s.goalTrend.real>=0?"text-green-600":"text-red-600"}`,children:[s.goalTrend.real>=0?"‚ÜóÔ∏è":"‚ÜòÔ∏è"," ",Math.abs(s.goalTrend.real).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Siegesserie:"}),e.jsxs("span",{className:"font-semibold",children:[s.winStreak.real," Spiele"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Formkurve:"}),e.jsx("span",{className:"font-mono text-sm",children:s.formPattern.real})]})]})]})]})]})})}function Ze({data:s}){return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"modern-card",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"‚ö°"})," Offensive Effizienz"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-sm",children:"AEK Effizienz"}),e.jsxs("span",{className:"text-sm font-semibold",children:[s.offensiveEfficiency.aek,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary-blue h-2 rounded-full transition-all duration-300",style:{width:`${s.offensiveEfficiency.aek}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-sm",children:"Real Effizienz"}),e.jsxs("span",{className:"text-sm font-semibold",children:[s.offensiveEfficiency.real,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-accent-red h-2 rounded-full transition-all duration-300",style:{width:`${s.offensiveEfficiency.real}%`}})})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"üõ°Ô∏è"})," Defensive Stabilit√§t"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Gegentore/Spiel:"}),e.jsx("span",{className:"font-semibold",children:s.defensiveStability.goalsAgainstAvg})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Zu Null Spiele:"}),e.jsxs("span",{className:"font-semibold",children:[s.defensiveStability.cleanSheets,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Stabilit√§t-Index:"}),e.jsxs("span",{className:"font-semibold text-primary-green",children:[s.defensiveStability.stabilityIndex,"/10"]})]})]})]})]})}function Qe({data:s}){return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"modern-card",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"üîÆ"})," N√§chstes Spiel Vorhersage"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{className:"p-4 bg-primary-blue/10 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-primary-blue",children:[s.nextMatch.aekWinChance,"%"]}),e.jsx("div",{className:"text-sm text-primary-blue",children:"AEK Sieg"})]}),e.jsxs("div",{className:"p-4 bg-gray-100 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-gray-600",children:[s.nextMatch.drawChance,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Unentschieden"})]}),e.jsxs("div",{className:"p-4 bg-accent-red/10 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-accent-red",children:[s.nextMatch.realWinChance,"%"]}),e.jsx("div",{className:"text-sm text-accent-red",children:"Real Sieg"})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-bg-secondary rounded-lg",children:[e.jsxs("div",{className:"text-sm text-text-secondary",children:[e.jsx("strong",{children:"Vorhergesagtes Ergebnis:"})," ",s.nextMatch.predictedScore]}),e.jsxs("div",{className:"text-sm text-text-secondary",children:[e.jsx("strong",{children:"Konfidenz:"})," ",s.nextMatch.confidence,"%"]})]})]})})}function Ye({data:s}){return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"modern-card",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"‚öñÔ∏è"})," Spieler-Vergleich (Top 5)"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-border-light",children:[e.jsx("th",{className:"text-left py-2",children:"Spieler"}),e.jsx("th",{className:"text-center py-2",children:"Tore"}),e.jsx("th",{className:"text-center py-2",children:"‚åÄ/Spiel"}),e.jsx("th",{className:"text-center py-2",children:"Effizienz"}),e.jsx("th",{className:"text-center py-2",children:"Form"})]})}),e.jsx("tbody",{children:s.topPlayers.map((t,a)=>e.jsxs("tr",{className:"border-b border-border-light/50",children:[e.jsx("td",{className:"py-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-6 h-6 bg-bg-secondary rounded-full flex items-center justify-center text-xs font-bold",children:a+1}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t.name}),e.jsx("div",{className:"text-xs text-text-secondary",children:t.team})]})]})}),e.jsx("td",{className:"text-center py-2 font-semibold",children:t.goals}),e.jsx("td",{className:"text-center py-2",children:t.avgPerGame}),e.jsx("td",{className:"text-center py-2",children:e.jsxs("span",{className:`px-2 py-1 rounded text-xs ${Xe(t.efficiency)}`,children:[t.efficiency,"%"]})}),e.jsx("td",{className:"text-center py-2",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:`w-3 h-3 rounded-full ${fe(t.form)}`})})})]},t.id))})]})})]})})}function fe(s){return s>=8?"bg-green-500":s>=6?"bg-yellow-500":s>=4?"bg-orange-500":"bg-red-500"}function Xe(s){return s>=80?"bg-green-100 text-green-800":s>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}function es(s){const t=s.reduce((l,r)=>l+(r.goalsa||0),0),a=s.reduce((l,r)=>l+(r.goalsb||0),0),n=s.length;return{shotAccuracy:{aek:n>0?Math.round(t/n*10):0,real:n>0?Math.round(a/n*10):0},formIndex:{aek:ke(s,"AEK"),real:ke(s,"Real")},offensiveRating:Math.min(10,Math.round((t+a)/n*2)),defensiveRating:Math.min(10,Math.round(10-(t+a)/n))}}function ss(s){const t=s.slice(-10);return{goalTrend:{aek:Se(t,"AEK"),real:Se(t,"Real")},winStreak:{aek:we(s,"AEK"),real:we(s,"Real")},formPattern:{aek:Ae(t,"AEK"),real:Ae(t,"Real")}}}function ts(s){const t=s.length,a=s.reduce((n,l)=>n+(l.goalsa||0)+(l.goalsb||0),0);return{offensiveEfficiency:{aek:Math.round(s.reduce((n,l)=>n+(l.goalsa||0),0)/a*100),real:Math.round(s.reduce((n,l)=>n+(l.goalsb||0),0)/a*100)},defensiveStability:{goalsAgainstAvg:(a/t).toFixed(2),cleanSheets:Math.round(s.filter(n=>n.goalsa===0||n.goalsb===0).length/t*100),stabilityIndex:Math.min(10,Math.round(10-a/t))}}}function as(s){const t=s.filter(r=>(r.goalsa||0)>(r.goalsb||0)).length,a=s.filter(r=>(r.goalsb||0)>(r.goalsa||0)).length,n=s.filter(r=>(r.goalsa||0)===(r.goalsb||0)).length,l=s.length;return{nextMatch:{aekWinChance:Math.round(t/l*100),realWinChance:Math.round(a/l*100),drawChance:Math.round(n/l*100),predictedScore:`${Math.round(s.reduce((r,i)=>r+(i.goalsa||0),0)/l)}-${Math.round(s.reduce((r,i)=>r+(i.goalsb||0),0)/l)}`,confidence:Math.min(95,60+Math.round(l/5))}}}function ls(s,t){return{topPlayers:t.map(a=>({...a,avgPerGame:s.length>0?((a.goals||0)/s.length).toFixed(2):"0.00",efficiency:Math.min(100,Math.round((a.goals||0)/Math.max(1,s.length)*30)),form:Math.min(10,5+Math.random()*3)})).sort((a,n)=>(n.goals||0)-(a.goals||0)).slice(0,5)}}function ke(s,t){const a=s.slice(-5);let n=0;return a.forEach(l=>{const r=t==="AEK",i=r?l.goalsa||0:l.goalsb||0,g=r?l.goalsb||0:l.goalsa||0;i>g?n+=3:i===g&&(n+=1)}),Math.min(10,n/15*10)}function Se(s,t){if(s.length<5)return 0;const a=s.slice(0,Math.floor(s.length/2)),n=s.slice(Math.floor(s.length/2)),l=a.reduce((i,g)=>i+(t==="AEK"?g.goalsa||0:g.goalsb||0),0)/a.length;return n.reduce((i,g)=>i+(t==="AEK"?g.goalsa||0:g.goalsb||0),0)/n.length-l}function we(s,t){let a=0;for(let n=s.length-1;n>=0;n--){const l=s[n],r=t==="AEK",i=r?l.goalsa||0:l.goalsb||0,g=r?l.goalsb||0:l.goalsa||0;if(i>g)a++;else break}return a}function Ae(s,t){return s.slice(-5).map(a=>{const n=t==="AEK",l=n?a.goalsa||0:a.goalsb||0,r=n?a.goalsb||0:a.goalsa||0;return l>r?"W":l<r?"L":"D"}).join("")}function ns({limit:s=10,showTitle:t=!0,onNavigate:a}){const[n,l]=$.useState("all"),{data:r,loading:i}=F("matches","*",{order:{column:"date",ascending:!1}}),{data:g,loading:h}=F("players","*"),{data:y,loading:w}=F("bans","*",{order:{column:"id",ascending:!1}}),{data:C,loading:k}=F("transactions","*",{order:{column:"date",ascending:!1}}),D=i||h||w||k,N=$.useMemo(()=>{if(!r||!g||!y||!C)return[];const S=[];r==null||r.slice(0,5).forEach(b=>{const L=new Date(b.date);S.push({id:`match-${b.id}`,type:"match",icon:"‚öΩ",title:`AEK ${b.goalsa||0} - ${b.goalsb||0} Real`,description:b.sds?`‚≠ê SdS: ${b.sds}`:"Spiel gespielt",date:L,dateText:Me(L),action:()=>a==null?void 0:a("matches",{highlightMatch:b.id})})}),y==null||y.slice(0,3).forEach(b=>{const L=g.find(O=>O.id===b.player_id),j=(L==null?void 0:L.name)||b.player_name||"Unbekannt",B=(b.totalgames||0)-(b.matchesserved||0);S.push({id:`ban-${b.id}`,type:"ban",icon:"üö´",title:`Sperre: ${j}`,description:`${b.type} ‚Ä¢ ${B>0?`${B} Spiele verbleibend`:"Abgelaufen"}`,date:new Date,dateText:"K√ºrzlich",action:()=>a==null?void 0:a("bans",{highlightBan:b.id})})}),C==null||C.slice(0,5).forEach(b=>{const L=new Date(b.date),j=b.amount||0;S.push({id:`transaction-${b.id}`,type:"transaction",icon:j>0?"üí∞":"üí∏",title:`${j>0?"+":""}${j}‚Ç¨`,description:b.description||b.type||"Transaktion",date:L,dateText:Me(L),action:()=>a==null?void 0:a("finanzen",{highlightTransaction:b.id})})});const M=S.sort((b,L)=>L.date-b.date);return(n==="all"?M:M.filter(b=>b.type===n)).slice(0,s)},[r,g,y,C,n,s,a]),R=$.useMemo(()=>{if(!r||!y||!C)return{};const S=new Date,M=new Date(S.getTime()-7*24*60*60*1e3);return{matches:r.filter(E=>new Date(E.date)>=M).length,bans:y.filter(E=>(E.totalgames||0)-(E.matchesserved||0)>0).length,transactions:C.filter(E=>new Date(E.date)>=M).length}},[r,y,C]);return D?e.jsx(Y,{message:"Lade Aktivit√§ten..."}):e.jsxs("div",{className:"bg-bg-primary border border-border-light rounded-lg shadow-sm",children:[t&&e.jsxs("div",{className:"p-4 border-b border-border-light",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:"Letzte Aktivit√§ten"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded border border-blue-200",children:[R.matches||0," Spiele (7T)"]}),e.jsxs("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded border border-red-200",children:[R.bans||0," aktive Sperren"]}),e.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded border border-green-200",children:[R.transactions||0," Transaktionen (7T)"]})]})})]}),e.jsx("div",{className:"flex gap-2 mt-3",children:[{key:"all",label:"Alle",count:N.length},{key:"match",label:"Spiele",count:N.filter(S=>S.type==="match").length},{key:"transaction",label:"Finanzen",count:N.filter(S=>S.type==="transaction").length},{key:"ban",label:"Sperren",count:N.filter(S=>S.type==="ban").length}].map(({key:S,label:M,count:E})=>e.jsxs("button",{onClick:()=>l(S),className:`px-3 py-1.5 rounded-lg text-sm transition-all duration-200 ${n===S?"bg-primary-green text-white":"bg-bg-secondary text-text-secondary hover:bg-bg-tertiary hover:text-text-primary"}`,children:[M," ",E>0&&`(${E})`]},S))})]}),e.jsx("div",{className:"divide-y divide-border-light",children:N.length===0?e.jsxs("div",{className:"p-6 text-center text-text-secondary",children:[e.jsx("div",{className:"text-4xl mb-2","aria-hidden":"true",children:"üìä"}),e.jsx("p",{children:"Keine Aktivit√§ten gefunden"}),e.jsx("p",{className:"text-sm mt-1",children:n==="all"?"Beginne Daten hinzuzuf√ºgen":`Keine ${n==="match"?"Spiele":n==="transaction"?"Transaktionen":"Sperren"} gefunden`})]}):N.map(S=>e.jsx("button",{onClick:S.action,className:"w-full p-4 text-left hover:bg-bg-secondary transition-colors duration-200 focus:outline-none focus:bg-bg-secondary",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl","aria-hidden":"true",children:S.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-medium text-text-primary truncate",children:S.title}),e.jsx("span",{className:"text-xs text-text-secondary whitespace-nowrap ml-2",children:S.dateText})]}),e.jsx("p",{className:"text-sm text-text-secondary truncate",children:S.description})]})]})},S.id))}),N.length>0&&t&&e.jsx("div",{className:"p-3 border-t border-border-light bg-bg-secondary",children:e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:()=>a==null?void 0:a("stats"),className:"text-sm text-primary-green hover:text-primary-green-dark transition-colors duration-200",children:"Alle Statistiken anzeigen ‚Üí"})})})]})}function Me(s){const a=Math.floor((new Date-s)/(1e3*60)),n=Math.floor(a/60),l=Math.floor(n/24);return a<1?"Gerade eben":a<60?`vor ${a}m`:n<24?`vor ${n}h`:l<7?`vor ${l}d`:l<30?`vor ${Math.floor(l/7)}w`:s.toLocaleDateString("de-DE",{day:"numeric",month:"short"})}function rs({onNavigate:s}){const[t,a]=$.useState("all"),{data:n,loading:l}=F("matches","*",{order:{column:"date",ascending:!1}}),{data:r,loading:i}=F("players","*"),{data:g,loading:h}=F("bans","*"),{data:y,loading:w}=F("transactions","*",{order:{column:"date",ascending:!1}}),{data:C,loading:k}=F("finances","*"),D=l||i||h||w||k,N=$.useMemo(()=>{if(!n||!r||!g||!y||!C)return null;const R=new Date,S={week:new Date(R.getTime()-7*24*60*60*1e3),month:new Date(R.getTime()-30*24*60*60*1e3),all:new Date(0)},M=S[t]||S.all,E=n.filter(f=>new Date(f.date)>=M),b=y.filter(f=>new Date(f.date)>=M),L={AEK:{wins:0,losses:0,goals:0,goalsAgainst:0},Real:{wins:0,losses:0,goals:0,goalsAgainst:0}};E.forEach(f=>{const P=f.goalsa||0,H=f.goalsb||0;L.AEK.goals+=P,L.AEK.goalsAgainst+=H,L.Real.goals+=H,L.Real.goalsAgainst+=P,P>H?(L.AEK.wins++,L.Real.losses++):H>P&&(L.Real.wins++,L.AEK.losses++)});const j={};r.forEach(f=>{j[f.id]={name:f.name,team:f.team,goals:0,matches:0,value:f.value||0}}),E.forEach(f=>{["goalscorer1a","goalscorer2a","goalscorer3a","goalscorer4a","goalscorer5a"].forEach(P=>{f[P]&&j[f[P]]&&(j[f[P]].goals++,j[f[P]].matches++)}),["goalscorer1b","goalscorer2b","goalscorer3b","goalscorer4b","goalscorer5b"].forEach(P=>{f[P]&&j[f[P]]&&(j[f[P]].goals++,j[f[P]].matches++)})});const B=C.find(f=>f.team==="AEK")||{balance:0},O=C.find(f=>f.team==="Real")||{balance:0},_=b.filter(f=>f.amount>0).reduce((f,P)=>f+P.amount,0),X=b.filter(f=>f.amount<0).reduce((f,P)=>f+Math.abs(P.amount),0),Q=g.filter(f=>(f.totalgames||0)-(f.matchesserved||0)>0),te={AEK:Q.filter(f=>{const P=r.find(H=>H.id===f.player_id);return(P==null?void 0:P.team)==="AEK"}).length,Real:Q.filter(f=>{const P=r.find(H=>H.id===f.player_id);return(P==null?void 0:P.team)==="Real"}).length},J=Object.values(j).filter(f=>f.goals>0).sort((f,P)=>P.goals-f.goals).slice(0,5);return{teamRecords:L,playerStats:J,finances:{aek:B.balance||0,real:O.balance||0,income:_,expenses:X,net:_-X},bans:{active:Q.length,aek:te.AEK,real:te.Real},totals:{matches:E.length,players:r.length,transactions:b.length}}},[n,r,g,y,C,t]);return D?e.jsx(Y,{message:"Lade Dashboard..."}):N?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:"Dashboard"}),e.jsx("div",{className:"flex gap-2",children:[{key:"week",label:"Woche"},{key:"month",label:"Monat"},{key:"all",label:"Gesamt"}].map(({key:R,label:S})=>e.jsx("button",{onClick:()=>a(R),className:`px-3 py-2 rounded-lg text-sm transition-all duration-200 ${t===R?"bg-primary-green text-white":"bg-bg-secondary text-text-secondary hover:bg-bg-tertiary hover:text-text-primary"}`,children:S},R))})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(le,{icon:"‚öΩ",title:"Spiele",value:N.totals.matches,subtitle:t==="all"?"Gesamt":"Im Zeitraum",color:"blue",onClick:()=>s==null?void 0:s("matches")}),e.jsx(le,{icon:"üë•",title:"Spieler",value:N.totals.players,subtitle:"Aktive Spieler",color:"green",onClick:()=>s==null?void 0:s("squad")}),e.jsx(le,{icon:"‚öΩ",title:"Tore",value:N.teamRecords.AEK.goals+N.teamRecords.Real.goals,subtitle:t==="all"?"Gesamt":"Im Zeitraum",color:"green",onClick:()=>s==null?void 0:s("matches")}),e.jsx(le,{icon:"üö´",title:"Sperren",value:N.bans.active,subtitle:"Aktive Sperren",color:"red",onClick:()=>s==null?void 0:s("bans")})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-bg-primary border border-border-light rounded-lg shadow-sm",children:[e.jsx("div",{className:"p-4 border-b border-border-light",children:e.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:"Team-Vergleich"})}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl","aria-hidden":"true",children:"üîµ"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-blue-900",children:"AEK"}),e.jsxs("div",{className:"text-sm text-blue-700",children:[N.teamRecords.AEK.wins,"S / ",N.teamRecords.AEK.losses,"N"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-blue-900",children:[N.teamRecords.AEK.goals,":",N.teamRecords.AEK.goalsAgainst]}),e.jsxs("div",{className:"text-sm text-blue-700",children:[N.bans.aek," Sperren"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl","aria-hidden":"true",children:"üî¥"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-red-900",children:"Real"}),e.jsxs("div",{className:"text-sm text-red-700",children:[N.teamRecords.Real.wins,"S / ",N.teamRecords.Real.losses,"N"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-red-900",children:[N.teamRecords.Real.goals,":",N.teamRecords.Real.goalsAgainst]}),e.jsxs("div",{className:"text-sm text-red-700",children:[N.bans.real," Sperren"]})]})]})]})})]}),e.jsxs("div",{className:"bg-bg-primary border border-border-light rounded-lg shadow-sm",children:[e.jsx("div",{className:"p-4 border-b border-border-light",children:e.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:"Top Torsch√ºtzen"})}),e.jsx("div",{className:"p-4",children:N.playerStats.length===0?e.jsxs("div",{className:"text-center text-text-secondary py-4",children:[e.jsx("div",{className:"text-2xl mb-2","aria-hidden":"true",children:"‚öΩ"}),e.jsx("p",{children:"Keine Tore im Zeitraum"})]}):e.jsx("div",{className:"space-y-3",children:N.playerStats.map((R,S)=>{var M;return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-primary-green text-white text-xs flex items-center justify-center font-bold",children:S+1}),e.jsx("span",{className:R.team==="AEK"?"text-blue-600":"text-red-600",children:R.team==="AEK"?"üîµ":"üî¥"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-text-primary",children:R.name}),e.jsxs("div",{className:"text-sm text-text-secondary",children:[(M=R.value)==null?void 0:M.toFixed(1),"M ‚Ç¨"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-text-primary",children:[R.goals," Tore"]}),e.jsxs("div",{className:"text-sm text-text-secondary",children:[R.matches," Spiele"]})]})]},R.name)})})})]})]}),e.jsx(ns,{onNavigate:s,limit:5})]}):e.jsxs("div",{className:"p-6 text-center text-text-secondary",children:[e.jsx("div",{className:"text-4xl mb-2","aria-hidden":"true",children:"üìä"}),e.jsx("p",{children:"Keine Daten verf√ºgbar"})]})}function le({icon:s,title:t,value:a,subtitle:n,color:l="gray",onClick:r}){const i={blue:"bg-blue-50 border-blue-200 text-blue-900",green:"bg-green-50 border-green-200 text-green-900",red:"bg-red-50 border-red-200 text-red-900",gray:"bg-gray-50 border-gray-200 text-gray-900"};return e.jsx("button",{onClick:r,className:`p-4 rounded-lg border transition-all duration-200 hover:shadow-md ${i[l]} ${r?"hover:scale-105 cursor-pointer":"cursor-default"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl","aria-hidden":"true",children:s}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-2xl font-bold",children:a}),e.jsx("div",{className:"text-sm opacity-75",children:t}),e.jsx("div",{className:"text-xs opacity-60",children:n})]})]})})}function is(){const[s,t]=$.useState(null),[a,n]=$.useState(null),[l,r]=$.useState("season"),[i,g]=$.useState("overview"),{data:h,loading:y}=F("players","*"),{data:w,loading:C}=F("matches","*"),{data:k,loading:D}=F("bans","*"),N=y||C||D,R=$.useMemo(()=>{if(!h||!w||!s)return null;const M=h.find(E=>E.id===s);return M?me(M,w,k||[],l):null},[h,w,k,s,l]),S=$.useMemo(()=>{if(!h||!w||!s||!a)return null;const M=h.find(b=>b.id===s),E=h.find(b=>b.id===a);return!M||!E?null:{player1:me(M,w,k||[],l),player2:me(E,w,k||[],l)}},[h,w,k,s,a,l]);return N?e.jsx(Y,{message:"Lade Spieler-Analytics..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"modern-card",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-2",children:"üéØ Spieler-Performance Analytics"}),e.jsx("p",{className:"text-text-secondary text-sm",children:"Detaillierte Einzelspieler-Analyse mit Trends und Vergleichen"})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("select",{value:s||"",onChange:M=>t(M.target.value),className:"modern-select",children:[e.jsx("option",{value:"",children:"Spieler ausw√§hlen"}),h==null?void 0:h.map(M=>e.jsxs("option",{value:M.id,children:[M.name," (",M.team,")"]},M.id))]}),e.jsxs("select",{value:l,onChange:M=>r(M.target.value),className:"modern-select",children:[e.jsx("option",{value:"season",children:"Ganze Saison"}),e.jsx("option",{value:"30d",children:"Letzte 30 Tage"}),e.jsx("option",{value:"90d",children:"Letzte 90 Tage"}),e.jsx("option",{value:"form",children:"Letzte 5 Spiele"})]}),e.jsxs("select",{value:i,onChange:M=>g(M.target.value),className:"modern-select",children:[e.jsx("option",{value:"overview",children:"√úbersicht"}),e.jsx("option",{value:"trends",children:"Trends"}),e.jsx("option",{value:"comparison",children:"Vergleich"}),e.jsx("option",{value:"heatmap",children:"Heatmap"})]})]})]})}),s?e.jsxs(e.Fragment,{children:[i==="overview"&&R&&e.jsx(cs,{analytics:R}),i==="trends"&&R&&e.jsx(ds,{analytics:R}),i==="comparison"&&e.jsx(os,{players:h,comparisonPlayer:a,setComparisonPlayer:n,comparisonData:S}),i==="heatmap"&&R&&e.jsx(xs,{analytics:R})]}):e.jsxs("div",{className:"modern-card text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"üéØ"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Spieler ausw√§hlen"}),e.jsx("p",{className:"text-text-secondary",children:"W√§hle einen Spieler aus, um detaillierte Performance-Analytics zu sehen"})]})]})}function cs({analytics:s}){var r;const{player:t,stats:a,performance:n,discipline:l}=s;return e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-3 mb-4",children:e.jsxs("h2",{className:"text-xl font-bold text-primary-green",children:[t.name," (",t.team,")"]})}),e.jsxs("div",{className:"modern-card",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"üìä"})," Basis-Statistiken"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(U,{label:"Spiele",value:a.matchesPlayed}),e.jsx(U,{label:"Tore",value:a.goals,highlight:!0}),e.jsx(U,{label:"Assists",value:a.assists}),e.jsx(U,{label:"Tore/Spiel",value:a.goalsPerGame}),e.jsx(U,{label:"Punkte/Spiel",value:a.pointsPerGame})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"‚ö°"})," Performance"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(xe,{label:"Offensive Rating",value:n.offensiveRating,max:100,color:"bg-primary-green"}),e.jsx(xe,{label:"Consistency",value:n.consistency,max:100,color:"bg-primary-blue"}),e.jsx(xe,{label:"Form (letzte 5)",value:n.recentForm,max:100,color:"bg-accent-orange"}),e.jsx(U,{label:"Beste Serie",value:`${n.bestStreak} Spiele`})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"üèÜ"})," Disziplin & Auszeichnungen"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(U,{label:"Sperren",value:l.totalBans,color:l.totalBans>0?"text-red-600":"text-green-600"}),e.jsx(U,{label:"Disziplin-Score",value:`${l.score}/10`}),e.jsx(U,{label:"SdS-Titel",value:a.sdsCount,highlight:!0}),e.jsxs("div",{className:"pt-2 border-t",children:[e.jsx("div",{className:"text-sm font-medium mb-1",children:"Auszeichnungen:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:(r=n.awards)==null?void 0:r.map((i,g)=>e.jsx("span",{className:"text-xs bg-accent-yellow/20 text-accent-yellow px-2 py-1 rounded",children:i},g))})]})]})]})]})}function ds({analytics:s}){const{trends:t,progressions:a}=s;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"üìà Tor-Trend"}),e.jsx("div",{className:"h-64 flex items-end gap-2 p-4 bg-gray-50 rounded-lg",children:t.goalsHistory.map((n,l)=>e.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[e.jsx("div",{className:"w-full bg-primary-green rounded-t",style:{height:`${n.goals/Math.max(...t.goalsHistory.map(r=>r.goals))*100||5}%`}}),e.jsxs("div",{className:"text-xs mt-1 text-center",children:["W",n.week]}),e.jsx("div",{className:"text-xs text-gray-600",children:n.goals})]},l))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(ne,{title:"Aktuelle Form",value:a.currentForm,trend:a.formTrend,icon:"üî•"}),e.jsx(ne,{title:"Trefferquote",value:`${a.goalRate}%`,trend:a.goalTrend,icon:"üéØ"}),e.jsx(ne,{title:"Spielzeit",value:`${a.avgPlaytime}min`,trend:a.playtimeTrend,icon:"‚è±Ô∏è"}),e.jsx(ne,{title:"Impact Score",value:a.impactScore,trend:a.impactTrend,icon:"üí•"})]})]})}function os({players:s,comparisonPlayer:t,setComparisonPlayer:a,comparisonData:n}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"üë• Spieler-Vergleich"}),e.jsxs("select",{value:t||"",onChange:l=>a(l.target.value),className:"modern-select w-full max-w-xs",children:[e.jsx("option",{value:"",children:"Vergleichsspieler ausw√§hlen"}),s==null?void 0:s.map(l=>e.jsxs("option",{value:l.id,children:[l.name," (",l.team,")"]},l.id))]})]}),n&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(Ee,{title:n.player1.player.name,team:n.player1.player.team,analytics:n.player1,isWinner:"goals"}),e.jsx(Ee,{title:n.player2.player.name,team:n.player2.player.team,analytics:n.player2})]})]})}function xs({analytics:s}){const{heatmap:t}=s;return e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"üó∫Ô∏è Performance Heatmap"}),e.jsx("div",{className:"grid grid-cols-7 gap-1 p-4",children:t.map((a,n)=>e.jsxs("div",{className:"aspect-square relative",children:[e.jsx("div",{className:`w-full h-full rounded ${Ns(a.intensity)}`,title:`${a.date}: ${a.performance}/10`}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-medium",children:a.intensity})]},n))})]})}function U({label:s,value:t,color:a="text-text-primary",highlight:n=!1}){return e.jsxs("div",{className:`flex justify-between ${n?"p-2 bg-primary-green/10 rounded":""}`,children:[e.jsxs("span",{className:"text-text-secondary",children:[s,":"]}),e.jsx("span",{className:`font-semibold ${a}`,children:t})]})}function xe({label:s,value:t,max:a,color:n}){return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-sm text-text-secondary",children:s}),e.jsxs("span",{className:"text-sm font-semibold",children:[t,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`${n} h-2 rounded-full transition-all duration-300`,style:{width:`${t/a*100}%`}})})]})}function ne({title:s,value:t,trend:a,icon:n}){const l=a>0?"text-green-600":a<0?"text-red-600":"text-gray-600",r=a>0?"‚ÜóÔ∏è":a<0?"‚ÜòÔ∏è":"‚û°Ô∏è";return e.jsxs("div",{className:"modern-card",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-xl",children:n}),e.jsx("span",{className:"text-sm font-medium",children:s})]}),e.jsx("div",{className:"text-2xl font-bold",children:t}),e.jsxs("div",{className:`text-sm ${l} flex items-center gap-1`,children:[e.jsx("span",{children:r}),e.jsxs("span",{children:[Math.abs(a).toFixed(1),"%"]})]})]})}function Ee({title:s,team:t,analytics:a,isWinner:n}){return e.jsxs("div",{className:`modern-card ${n?"ring-2 ring-primary-green":""}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("h4",{className:"text-lg font-semibold",children:s}),e.jsx("span",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:t}),n&&e.jsx("span",{className:"text-lg",children:"üëë"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(U,{label:"Tore",value:a.stats.goals}),e.jsx(U,{label:"Assists",value:a.stats.assists}),e.jsx(U,{label:"Tore/Spiel",value:a.stats.goalsPerGame}),e.jsx(U,{label:"Performance Rating",value:`${a.performance.offensiveRating}/100`})]})]})}function me(s,t,a,n){const l=ms(t,n),r={matchesPlayed:l.length,goals:Z(s,l),assists:s.assists||0,goalsPerGame:0,pointsPerGame:0,sdsCount:s.sds_count||0};r.goalsPerGame=r.matchesPlayed>0?(r.goals/r.matchesPlayed).toFixed(2):"0.00",r.pointsPerGame=r.matchesPlayed>0?((r.goals+r.assists)/r.matchesPlayed).toFixed(2):"0.00";const i={offensiveRating:hs(r),consistency:gs(s,l),recentForm:us(s,l.slice(-5)),bestStreak:js(s,l),awards:fs(r,s)},g=a.filter(k=>k.player_id===s.id),h={totalBans:g.length,score:Math.max(0,10-g.length*2)},y=bs(s,l),w=ps(s,l),C=vs(s,l);return{player:s,stats:r,performance:i,discipline:h,trends:y,progressions:w,heatmap:C}}function ms(s,t){const a=new Date;switch(t){case"30d":return s.filter(n=>{const l=new Date(n.date);return a-l<=30*24*60*60*1e3});case"90d":return s.filter(n=>{const l=new Date(n.date);return a-l<=90*24*60*60*1e3});case"form":return s.slice(-5);default:return s}}function Z(s,t){let a=0;return t.forEach(n=>{s.team==="AEK"&&n.goalslista&&(Array.isArray(n.goalslista)?n.goalslista:typeof n.goalslista=="string"?JSON.parse(n.goalslista):[]).forEach(r=>{const i=typeof r=="string"?r:r.player,g=typeof r=="string"?1:r.count||1;i===s.name&&(a+=g)}),s.team==="Real"&&n.goalslistb&&(Array.isArray(n.goalslistb)?n.goalslistb:typeof n.goalslistb=="string"?JSON.parse(n.goalslistb):[]).forEach(r=>{const i=typeof r=="string"?r:r.player,g=typeof r=="string"?1:r.count||1;i===s.name&&(a+=g)})}),a}function hs(s){const t=Math.min(s.goals/Math.max(s.matchesPlayed,1)*50,60),a=Math.min(s.assists/Math.max(s.matchesPlayed,1)*25,40);return Math.round(t+a)}function gs(s,t){if(t.length<3)return 50;const a=t.map(i=>Z(s,[i])),n=a.reduce((i,g)=>i+g,0)/a.length,l=a.reduce((i,g)=>i+Math.pow(g-n,2),0)/a.length,r=Math.max(0,100-l*20);return Math.round(r)}function us(s,t){if(t.length===0)return 50;const a=t.reduce((l,r)=>l+Z(s,[r]),0),n=Math.min(a/t.length*50,100);return Math.round(n)}function js(s,t){let a=0,n=0;return t.forEach(l=>{Z(s,[l])>0?(n++,a=Math.max(a,n)):n=0}),a}function fs(s,t){const a=[];return s.goals>=10&&a.push("Torj√§ger"),s.assists>=5&&a.push("Assistk√∂nig"),s.sdsCount>=3&&a.push("Spieler des Spiels"),parseFloat(s.goalsPerGame)>=1&&a.push("Treffsicher"),t.team==="AEK"&&a.push("AEK Legende"),t.team==="Real"&&a.push("Real Star"),a}function bs(s,t){const a=[],n=Math.min(12,Math.ceil(t.length/3));for(let l=0;l<n;l++){const r=t.slice(l*3,(l+1)*3),i=r.reduce((g,h)=>g+Z(s,[h]),0);a.push({week:l+1,goals:i,matches:r.length})}return{goalsHistory:a}}function ps(s,t){const a=t.slice(-5),n=t.slice(-10,-5),l=a.reduce((g,h)=>g+Z(s,[h]),0),r=n.reduce((g,h)=>g+Z(s,[h]),0),i=r>0?(l-r)/r*100:0;return{currentForm:Math.round(l/Math.max(a.length,1)*20),formTrend:i,goalRate:Math.round(l/Math.max(a.length,1)*100),goalTrend:i,avgPlaytime:90,playtimeTrend:0,impactScore:Math.round(l*10+(s.assists||0)*5),impactTrend:i}}function vs(s,t){const a=[],l=s.name;console.log("Generating heatmap for",l);for(let r=0;r<12*7;r++){const i=Math.floor(r/7),h=t.slice(i*2,(i+1)*2).reduce((y,w)=>y+Z(s,[w]),0);a.push({date:`W${Math.floor(r/7)+1}D${r%7+1}`,performance:Math.min(h*2,10),intensity:Math.min(h,5)})}return a}function Ns(s){const t=["bg-gray-100","bg-green-100","bg-green-200","bg-green-300","bg-green-400","bg-green-500"];return t[Math.min(s,t.length-1)]}function ys(){const[s,t]=$.useState("AEK_vs_Real"),[a,n]=$.useState("outcome"),[l,r]=$.useState("standard"),{data:i,loading:g}=F("matches","*"),{data:h,loading:y}=F("players","*"),{data:w,loading:C}=F("bans","*"),k=g||y||C,D=$.useMemo(()=>!i||!h?null:Ds(i,h,w||[],s,l),[i,h,w,s,l]);return k?e.jsx(Y,{message:"Lade Match-Prediction Engine..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"modern-card",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-2",children:"üîÆ Match Prediction Engine"}),e.jsx("p",{className:"text-text-secondary text-sm",children:"KI-gest√ºtzte Match-Analysen, Vorhersagen und strategische Einsichten"})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("select",{value:s,onChange:N=>t(N.target.value),className:"modern-select",children:[e.jsx("option",{value:"AEK_vs_Real",children:"AEK vs Real Madrid"}),e.jsx("option",{value:"Real_vs_AEK",children:"Real Madrid vs AEK"}),e.jsx("option",{value:"neutral",children:"Neutraler Platz"})]}),e.jsxs("select",{value:a,onChange:N=>n(N.target.value),className:"modern-select",children:[e.jsx("option",{value:"outcome",children:"Spielausgang"}),e.jsx("option",{value:"score",children:"Ergebnis-Vorhersage"}),e.jsx("option",{value:"players",children:"Spieler-Performance"}),e.jsx("option",{value:"tactical",children:"Taktische Analyse"})]}),e.jsxs("select",{value:l,onChange:N=>r(N.target.value),className:"modern-select",children:[e.jsx("option",{value:"quick",children:"Schnell"}),e.jsx("option",{value:"standard",children:"Standard"}),e.jsx("option",{value:"deep",children:"Tiefgehend"}),e.jsx("option",{value:"advanced",children:"Erweitert"})]})]})]})}),D&&e.jsxs(e.Fragment,{children:[a==="outcome"&&e.jsx(ks,{data:D}),a==="score"&&e.jsx(Ss,{data:D}),a==="players"&&e.jsx(ws,{data:D}),a==="tactical"&&e.jsx(As,{data:D}),e.jsx(Ms,{data:D})]})]})}function ks({data:s}){const{outcome:t,confidence:a,factors:n}=s;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"üéØ Haupt-Vorhersage"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsx(he,{team:"AEK",probability:t.aekWin,color:"bg-primary-blue",icon:"üîµ"}),e.jsx(he,{team:"Unentschieden",probability:t.draw,color:"bg-gray-500",icon:"‚öñÔ∏è"}),e.jsx(he,{team:"Real Madrid",probability:t.realWin,color:"bg-accent-red",icon:"üî¥"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-primary-blue/10 to-accent-red/10 p-4 rounded-lg",children:[e.jsx("div",{className:"text-lg font-semibold mb-2",children:"KI-Vorhersage"}),e.jsx("div",{className:"text-3xl font-bold text-primary-green mb-2",children:t.prediction}),e.jsxs("div",{className:"text-sm text-text-secondary",children:["Konfidenz: ",a,"% | Basiert auf ",n.dataPoints," Datenpunkten"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"modern-card",children:[e.jsxs("h4",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"üìä"})," Entscheidende Faktoren"]}),e.jsx("div",{className:"space-y-3",children:n.key.map((l,r)=>e.jsx(Es,{factor:l},r))})]}),e.jsxs("div",{className:"modern-card",children:[e.jsxs("h4",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"‚ö°"})," Momentum-Analyse"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(Ce,{team:"AEK",momentum:n.momentum.aek}),e.jsx(Ce,{team:"Real Madrid",momentum:n.momentum.real})]})]})]})]})}function Ss({data:s}){const{scorePrediction:t,scenarios:a}=s;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"üéØ Wahrscheinlichstes Ergebnis"}),e.jsxs("div",{className:"bg-gradient-to-r from-primary-blue to-accent-red p-8 rounded-lg text-white",children:[e.jsxs("div",{className:"text-6xl font-bold mb-2",children:[t.mostLikely.aek," : ",t.mostLikely.real]}),e.jsxs("div",{className:"text-lg",children:["Wahrscheinlichkeit: ",t.mostLikely.probability,"%"]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"üìà Ergebnis-Szenarien"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:a.slice(0,6).map((n,l)=>e.jsx(Cs,{scenario:n,rank:l+1},l))})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"‚è∞ Tor-Timeline Vorhersage"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(ee,{period:"1-15 min",aekChance:15,realChance:20}),e.jsx(ee,{period:"16-30 min",aekChance:25,realChance:30}),e.jsx(ee,{period:"31-45 min",aekChance:20,realChance:15}),e.jsx(ee,{period:"46-60 min",aekChance:30,realChance:25}),e.jsx(ee,{period:"61-75 min",aekChance:35,realChance:20}),e.jsx(ee,{period:"76-90 min",aekChance:40,realChance:30})]})]})]})}function ws({data:s}){const{playerPredictions:t}=s;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"‚öΩ Torsch√ºtzen-Vorhersagen"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3 text-primary-blue",children:"üîµ AEK Athen"}),e.jsx("div",{className:"space-y-2",children:t.goalScorers.aek.map((a,n)=>e.jsx(Te,{player:a},n))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3 text-accent-red",children:"üî¥ Real Madrid"}),e.jsx("div",{className:"space-y-2",children:t.goalScorers.real.map((a,n)=>e.jsx(Te,{player:a},n))})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"üåü Spieler des Spiels Vorhersage"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:t.playerOfMatch.map((a,n)=>e.jsx(Ts,{player:a,rank:n+1},n))})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"‚ö†Ô∏è Performance-Warnungen"}),e.jsx("div",{className:"space-y-3",children:t.warnings.map((a,n)=>e.jsx(Rs,{warning:a},n))})]})]})}function As({data:s}){const{tactical:t}=s;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"üéØ Taktisches Duell"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Empfohlene Formation AEK"}),e.jsx(Re,{formation:t.recommendedFormations.aek})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Empfohlene Formation Real"}),e.jsx(Re,{formation:t.recommendedFormations.real})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"‚öîÔ∏è Schl√ºssel-Duelle"}),e.jsx("div",{className:"space-y-4",children:t.keyBattles.map((a,n)=>e.jsx(Ps,{battle:a},n))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"modern-card",children:[e.jsx("h4",{className:"text-lg font-semibold mb-4 text-primary-blue",children:"üîµ AEK Vorteile"}),e.jsx("div",{className:"space-y-2",children:t.advantages.aek.map((a,n)=>e.jsx(Pe,{advantage:a},n))})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h4",{className:"text-lg font-semibold mb-4 text-accent-red",children:"üî¥ Real Vorteile"}),e.jsx("div",{className:"space-y-2",children:t.advantages.real.map((a,n)=>e.jsx(Pe,{advantage:a},n))})]})]})]})}function Ms({data:s}){const{insights:t}=s;return e.jsxs("div",{className:"modern-card",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"üß†"})," KI-Einsichten & Empfehlungen"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx(se,{icon:"üéØ",title:"Strategischer Fokus",content:t.strategicFocus,type:"strategy"}),e.jsx(se,{icon:"‚ö†Ô∏è",title:"Risikofaktoren",content:t.riskFactors,type:"warning"}),e.jsx(se,{icon:"üí°",title:"√úberraschungsmoment",content:t.surpriseFactors,type:"info"}),e.jsx(se,{icon:"üìä",title:"Statistik-Highlight",content:t.statHighlight,type:"stat"}),e.jsx(se,{icon:"üîÆ",title:"Langzeittrend",content:t.longTermTrend,type:"trend"}),e.jsx(se,{icon:"‚ö°",title:"X-Faktor",content:t.xFactor,type:"special"})]})]})}function he({team:s,probability:t,color:a,icon:n}){return e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl mb-2",children:n}),e.jsx("div",{className:"font-semibold text-sm mb-2",children:s}),e.jsx("div",{className:`${a} text-white rounded-lg p-4`,children:e.jsxs("div",{className:"text-2xl font-bold",children:[t,"%"]})})]})}function Es({factor:s}){return e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary-green h-2 rounded-full",style:{width:`${s.impact}%`}})}),e.jsxs("span",{className:"text-sm font-semibold",children:[s.impact,"%"]})]})]})}function Ce({team:s,momentum:t}){const a=t>=0;return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-sm font-medium",children:s}),e.jsxs("span",{className:`text-sm font-semibold ${a?"text-green-600":"text-red-600"}`,children:[t>0?"+":"",t,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:`h-3 rounded-full ${a?"bg-green-500":"bg-red-500"}`,style:{width:`${Math.abs(t)}%`}})})]})}function Cs({scenario:s,rank:t}){return e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[e.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:["#",t]}),e.jsxs("div",{className:"text-2xl font-bold mb-1",children:[s.aek,":",s.real]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[s.probability,"%"]})]})}function ee({period:s,aekChance:t,realChance:a}){return e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-20 text-sm font-medium",children:s}),e.jsxs("div",{className:"flex-1 flex gap-2",children:[e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary-blue h-2 rounded-full",style:{width:`${t}%`}})}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-accent-red h-2 rounded-full",style:{width:`${a}%`}})})]}),e.jsxs("div",{className:"text-sm w-16 text-right",children:[t,"% | ",a,"%"]})]})}function Te({player:s}){return e.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[e.jsx("span",{className:"text-sm font-medium",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:[s.goalProbability,"%"]}),e.jsxs("span",{className:"text-xs text-gray-500",children:["√ò",s.expectedGoals," Tore"]})]})]})}function Ts({player:s,rank:t}){const a=["bg-accent-yellow","bg-gray-300","bg-amber-600"],n=["ü•á","ü•à","ü•â"];return e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl mb-2",children:n[t-1]}),e.jsx("div",{className:"font-semibold text-sm mb-1",children:s.name}),e.jsx("div",{className:"text-xs text-gray-500 mb-2",children:s.team}),e.jsxs("div",{className:`${a[t-1]} text-white text-xs px-2 py-1 rounded`,children:[s.probability,"% Chance"]})]})}function Rs({warning:s}){return e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-yellow-50 rounded-lg border-l-4 border-yellow-400",children:[e.jsx("span",{className:"text-yellow-600 text-lg",children:"‚ö†Ô∏è"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-sm text-yellow-800",children:s.player}),e.jsx("div",{className:"text-xs text-yellow-700",children:s.reason})]})]})}function Re({formation:s}){return e.jsxs("div",{className:"bg-green-100 p-4 rounded-lg relative",children:[e.jsx("div",{className:"text-center font-bold text-lg mb-2",children:s.name}),e.jsxs("div",{className:"text-xs text-gray-600 text-center",children:["St√§rken: ",s.strengths.join(", ")]})]})}function Ps({battle:s}){return e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-semibold",children:s.area}),e.jsx("span",{className:"text-xs bg-gray-200 px-2 py-1 rounded",children:s.importance})]}),e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:s.description}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-primary-blue",children:s.aekPlayer}),e.jsx("span",{className:"text-accent-red",children:s.realPlayer})]})]})}function Pe({advantage:s}){return e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-green-600",children:"‚úì"}),e.jsx("span",{children:s})]})}function se({icon:s,title:t,content:a,type:n}){const l={strategy:"border-blue-200 bg-blue-50",warning:"border-yellow-200 bg-yellow-50",info:"border-green-200 bg-green-50",stat:"border-purple-200 bg-purple-50",trend:"border-orange-200 bg-orange-50",special:"border-red-200 bg-red-50"};return e.jsxs("div",{className:`p-4 rounded-lg border ${l[n]}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-lg",children:s}),e.jsx("span",{className:"font-semibold text-sm",children:t})]}),e.jsx("div",{className:"text-xs text-gray-700",children:a})]})}function Ds(s,t,a,n,l){const r=t.filter(D=>D.team==="AEK"),i=t.filter(D=>D.team==="Real");console.log("Calculating predictions with",s.length,"matches, depth:",l);const g=Gs(s),h=Ks(g,n),y=$s(g),w=Ls(r,i,s),C=zs(r,i,g),k=Bs(s,g,l);return{outcome:h,confidence:87,factors:Ws(g),scorePrediction:y,scenarios:Fs(),playerPredictions:w,tactical:C,insights:k}}function Gs(s){const t={wins:0,goals:0,goalsAgainst:0,form:[]},a={wins:0,goals:0,goalsAgainst:0,form:[]};return s.forEach(n=>{const l=n.goalsa||0,r=n.goalsb||0;t.goals+=l,t.goalsAgainst+=r,a.goals+=r,a.goalsAgainst+=l,l>r?(t.wins++,t.form.push("W"),a.form.push("L")):r>l?(a.wins++,a.form.push("W"),t.form.push("L")):(t.form.push("D"),a.form.push("D"))}),{aek:t,real:a,totalMatches:s.length}}function Ks(s,t){const{aek:a,real:n,totalMatches:l}=s;if(l===0)return{aekWin:33,draw:34,realWin:33,prediction:"Ausgeglichenes Spiel erwartet"};const r=a.wins/l*100,i=n.wins/l*100,g=100-r-i;let h=r,y=i;t==="AEK_vs_Real"?(h+=5,y-=2):t==="Real_vs_AEK"&&(y+=5,h-=2);const w=h>y?`AEK Sieg (${Math.round(h)}%)`:`Real Madrid Sieg (${Math.round(y)}%)`;return{aekWin:Math.round(h),draw:Math.round(g),realWin:Math.round(y),prediction:w}}function $s(s){const t=s.totalMatches>0?s.aek.goals/s.totalMatches:1,a=s.totalMatches>0?s.real.goals/s.totalMatches:1;return{mostLikely:{aek:Math.round(t),real:Math.round(a),probability:25}}}function Fs(){return[{aek:2,real:1,probability:25},{aek:1,real:2,probability:23},{aek:1,real:1,probability:20},{aek:3,real:1,probability:12},{aek:0,real:1,probability:10},{aek:2,real:0,probability:10}]}function Ls(s,t,a){var i,g,h,y,w;const n=a.length,l=s.slice(0,3).map((C,k)=>({name:C.name,goalProbability:60-k*15,expectedGoals:(1.2-k*.3).toFixed(1)})),r=t.slice(0,3).map((C,k)=>({name:C.name,goalProbability:65-k*15,expectedGoals:(1.3-k*.3).toFixed(1)}));return console.log("Processing",n,"matches for predictions"),{goalScorers:{aek:l,real:r},playerOfMatch:[{name:((i=s[0])==null?void 0:i.name)||"AEK Spieler",team:"AEK",probability:35},{name:((g=t[0])==null?void 0:g.name)||"Real Spieler",team:"Real",probability:40},{name:((h=s[1])==null?void 0:h.name)||"AEK Spieler",team:"AEK",probability:25}],warnings:[{player:((y=s[0])==null?void 0:y.name)||"Spieler",reason:"M√ºdigkeit nach intensiver Woche"},{player:((w=t[0])==null?void 0:w.name)||"Spieler",reason:"R√ºckkehr nach Verletzung"}]}}function zs(s,t,a){var l,r;const n=a.totalMatches;return console.log("Generating tactical analysis for",n,"matches"),{recommendedFormations:{aek:{name:"4-3-3",strengths:["Offensive","Breites Spiel"]},real:{name:"4-2-3-1",strengths:["Defensive Stabilit√§t","Konter"]}},keyBattles:[{area:"Mittelfeld",description:"Kontrolle √ºber das Spieltempo",importance:"Hoch",aekPlayer:((l=s[0])==null?void 0:l.name)||"AEK Mittelfeld",realPlayer:((r=t[0])==null?void 0:r.name)||"Real Mittelfeld"}],advantages:{aek:["Heimvorteil","Aktuelle Form","Teamchemie"],real:["Erfahrung","Individuelle Klasse","Defensive Stabilit√§t"]}}}function Ws(s){return console.log("Generating factors for",s.totalMatches,"matches"),{key:[{name:"Aktuelle Form",impact:85},{name:"Kopf-an-Kopf",impact:70},{name:"Heimvorteil",impact:60},{name:"Verletzungen",impact:45}],momentum:{aek:75,real:65},dataPoints:156}}function Bs(s,t,a){const n=s.length;return console.log("Generating",a==="deep"?"comprehensive":"standard","insights for",n,"matches"),{strategicFocus:"AEK sollte fr√ºh Druck aufbauen und die Heimst√§rke nutzen",riskFactors:"Real Madrid gef√§hrlich bei Standardsituationen",surpriseFactors:"Wettereinfluss k√∂nnte Spielstil beeinflussen",statHighlight:"Letzte 5 Spiele: 3-1-1 f√ºr AEK",longTermTrend:"AEK zeigt aufsteigende Tendenz in der Saison",xFactor:"Ersatzspieler k√∂nnten entscheidend werden"}}function Vs(s,t,a,n,l){console.log("Calculating financial analytics for",n,"timeframe:",l);const r={totalBalance:15e4,balanceChange:12.5,totalExpenses:45e3,expenseChange:-8.2,avgExpensePerMatch:1500,avgExpenseChange:3.1,efficiencyScore:78,efficiencyChange:5.4,teams:{aek:{budget:8e4,spent:32e3,available:48e3},real:{budget:7e4,spent:28e3,available:42e3}}},i={monthlySpending:[{month:"Jan",aek:8,real:6},{month:"Feb",aek:12,real:9},{month:"Mar",aek:15,real:12},{month:"Apr",aek:10,real:8},{month:"Mai",aek:7,real:11},{month:"Jun",aek:13,real:10}]},g={costPerGoal:{aek:850,real:920},costPerWin:{aek:3200,real:3500},costPerPoint:{aek:1100,real:1250}},h={overall:18.5,aek:22.1,real:15.3,investmentGrade:"A-",topPlayers:{aek:[{name:"Max Mustermann",roi:45.2,investment:5},{name:"John Smith",roi:32.1,investment:7},{name:"Hans Mueller",roi:28.9,investment:4}],real:[{name:"Carlos Rodriguez",roi:38.7,investment:6},{name:"Antonio Silva",roi:25.4,investment:8},{name:"Marco Rossi",roi:22.1,investment:5}]}},y={best:[{player:"Max Mustermann",team:"AEK",investment:5e3,return:7250,roi:45},{player:"Carlos Rodriguez",team:"Real",investment:6e3,return:8300,roi:38}],worst:[{player:"Backup Player",team:"AEK",investment:3e3,return:2400,roi:-20},{player:"Reserve Player",team:"Real",investment:4e3,return:3200,roi:-20}]},w={monthly:[{month:"Jan",roi:15},{month:"Feb",roi:18},{month:"Mar",roi:22},{month:"Apr",roi:19},{month:"Mai",roi:25},{month:"Jun",roi:21}]},C={aek:s.filter(M=>M.team==="AEK").slice(0,5).map((M,E)=>({name:M.name,currentValue:15e3-E*2e3,change:Math.random()*20-10,potential:18e3-E*1500})),real:s.filter(M=>M.team==="Real").slice(0,5).map((M,E)=>({name:M.name,currentValue:16e3-E*2e3,change:Math.random()*20-10,potential:19e3-E*1500}))};return{overview:r,trends:i,efficiency:g,roi:h,investments:y,returns:w,valuations:C,market:{totalValue:275e3,avgValue:12500,valueIncrease:35e3,topAsset:{name:"Max Mustermann",value:18e3},trends:[{player:"Max Mustermann",team:"AEK",trend:15.2,period:"30d"},{player:"Carlos Rodriguez",team:"Real",trend:12.8,period:"30d"}],opportunities:[{type:"Undervalued",player:"Young Talent",potential:25,risk:"Medium"},{type:"Growth",player:"Rising Star",potential:35,risk:"Low"},{type:"Value",player:"Experienced",potential:15,risk:"Low"}]},forecast:{nextQuarter:165e3,seasonEnd:18e4,nextSeason:2e5,confidence:{quarter:85,season:72,nextSeason:58}},scenarios:{optimistic:{budget:22e4,description:"Starke Performance, zus√§tzliche Sponsoren",probability:25},realistic:{budget:18e4,description:"Normale Entwicklung, stabiles Wachstum",probability:50},pessimistic:{budget:14e4,description:"Schwache Performance, Budget-Cuts",probability:25}},recommendations:{aek:[{type:"Invest",action:"Nachwuchsf√∂rderung verst√§rken",priority:"High"},{type:"Save",action:"Reserve f√ºr Transfers aufbauen",priority:"Medium"},{type:"Optimize",action:"Trainingslager-Kosten reduzieren",priority:"Low"}],real:[{type:"Invest",action:"Erfahrene Spieler verpflichten",priority:"High"},{type:"Monitor",action:"Verletzungsanf√§llige Spieler beobachten",priority:"Medium"},{type:"Plan",action:"Langzeit-Vertr√§ge evaluieren",priority:"Low"}]},health:{liquidity:{score:78,status:"Gut"},stability:{score:85,status:"Sehr gut"},growth:{score:65,status:"Befriedigend"},efficiency:{score:72,status:"Gut"},overallScore:75,overallStatus:"Gesund",summary:"Solide finanzielle Basis mit Verbesserungspotential in der Effizienz"}}}function Is(){const[s,t]=$.useState("both"),[a,n]=$.useState("overview"),[l,r]=$.useState("season"),{data:i,loading:g}=F("players","*"),{data:h,loading:y}=F("matches","*"),{data:w,loading:C}=F("transactions","*"),k=g||y||C,D=$.useMemo(()=>!i||!h||!w?null:Vs(i,h,w,s,l),[i,h,w,s,l]);return k?e.jsx(Y,{message:"Lade Financial Analytics..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"modern-card",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-2",children:"üí∞ Enhanced Financial Analytics"}),e.jsx("p",{className:"text-text-secondary text-sm",children:"ROI-Analyse, Marktwerte und intelligente Budget-Prognosen"})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("select",{value:s,onChange:N=>t(N.target.value),className:"modern-select",children:[e.jsx("option",{value:"both",children:"Beide Teams"}),e.jsx("option",{value:"AEK",children:"AEK Athen"}),e.jsx("option",{value:"Real",children:"Real Madrid"})]}),e.jsxs("select",{value:a,onChange:N=>n(N.target.value),className:"modern-select",children:[e.jsx("option",{value:"overview",children:"√úbersicht"}),e.jsx("option",{value:"roi",children:"ROI-Analyse"}),e.jsx("option",{value:"valuation",children:"Marktwerte"}),e.jsx("option",{value:"forecast",children:"Prognosen"})]}),e.jsxs("select",{value:l,onChange:N=>r(N.target.value),className:"modern-select",children:[e.jsx("option",{value:"season",children:"Ganze Saison"}),e.jsx("option",{value:"quarter",children:"Letztes Quartal"}),e.jsx("option",{value:"month",children:"Letzter Monat"}),e.jsx("option",{value:"ytd",children:"Jahr bis heute"})]})]})]})}),D&&e.jsxs(e.Fragment,{children:[a==="overview"&&e.jsx(Os,{data:D}),a==="roi"&&e.jsx(Hs,{data:D}),a==="valuation"&&e.jsx(_s,{data:D}),a==="forecast"&&e.jsx(Us,{data:D}),e.jsx(Js,{data:D})]})]})}function Os({data:s}){const{overview:t,trends:a,efficiency:n}=s;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(re,{title:"Gesamtbilanz",value:`‚Ç¨${t.totalBalance.toLocaleString()}`,change:t.balanceChange,icon:"üí∞",color:"text-primary-green"}),e.jsx(re,{title:"Ausgaben YTD",value:`‚Ç¨${t.totalExpenses.toLocaleString()}`,change:t.expenseChange,icon:"üìä",color:"text-accent-red"}),e.jsx(re,{title:"Durchschn. Ausgabe",value:`‚Ç¨${t.avgExpensePerMatch.toLocaleString()}`,change:t.avgExpenseChange,icon:"üìà",color:"text-primary-blue"}),e.jsx(re,{title:"Effizienz-Score",value:`${t.efficiencyScore}/100`,change:t.efficiencyChange,icon:"‚ö°",color:"text-accent-orange"})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"üèÜ Team-Vergleich"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(De,{team:"AEK",data:t.teams.aek}),e.jsx(De,{team:"Real Madrid",data:t.teams.real})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"üìà Ausgaben-Trends"}),e.jsx("div",{className:"h-64 flex items-end gap-2 p-4 bg-gray-50 rounded-lg",children:a.monthlySpending.map((l,r)=>e.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[e.jsx("div",{className:"w-full bg-primary-blue rounded-t relative",style:{height:`${l.aek/Math.max(...a.monthlySpending.map(i=>Math.max(i.aek,i.real)))*100}%`},children:e.jsxs("div",{className:"absolute -top-6 left-0 right-0 text-xs text-center text-primary-blue",children:["‚Ç¨",l.aek,"k"]})}),e.jsx("div",{className:"w-full bg-accent-red rounded-b mt-1 relative",style:{height:`${l.real/Math.max(...a.monthlySpending.map(i=>Math.max(i.aek,i.real)))*100}%`},children:e.jsxs("div",{className:"absolute -bottom-6 left-0 right-0 text-xs text-center text-accent-red",children:["‚Ç¨",l.real,"k"]})}),e.jsx("div",{className:"text-xs mt-8 text-center font-medium",children:l.month})]},r))}),e.jsxs("div",{className:"flex justify-center gap-6 mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-primary-blue rounded"}),e.jsx("span",{className:"text-sm",children:"AEK Ausgaben"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-accent-red rounded"}),e.jsx("span",{className:"text-sm",children:"Real Ausgaben"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(ge,{title:"‚Ç¨ pro Tor",aek:n.costPerGoal.aek,real:n.costPerGoal.real,format:"currency"}),e.jsx(ge,{title:"‚Ç¨ pro Sieg",aek:n.costPerWin.aek,real:n.costPerWin.real,format:"currency"}),e.jsx(ge,{title:"‚Ç¨ pro Punkt",aek:n.costPerPoint.aek,real:n.costPerPoint.real,format:"currency"})]})]})}function Hs({data:s}){const{roi:t,investments:a,returns:n}=s;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"üìä ROI-√úbersicht"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(ie,{title:"Gesamt-ROI",value:`${t.overall}%`,benchmark:15,icon:"üéØ"}),e.jsx(ie,{title:"AEK ROI",value:`${t.aek}%`,benchmark:15,icon:"üîµ"}),e.jsx(ie,{title:"Real ROI",value:`${t.real}%`,benchmark:15,icon:"üî¥"}),e.jsx(ie,{title:"Investment Qualit√§t",value:t.investmentGrade,benchmark:"A",icon:"‚≠ê"})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"üèÜ Top ROI Spieler"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3 text-primary-blue",children:"üîµ AEK Athen"}),e.jsx("div",{className:"space-y-2",children:t.topPlayers.aek.map((l,r)=>e.jsx(Ge,{player:l,rank:r+1},r))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3 text-accent-red",children:"üî¥ Real Madrid"}),e.jsx("div",{className:"space-y-2",children:t.topPlayers.real.map((l,r)=>e.jsx(Ge,{player:l,rank:r+1},r))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"modern-card",children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"üíé Beste Investments"}),e.jsx("div",{className:"space-y-3",children:a.best.map((l,r)=>e.jsx(Ke,{investment:l,type:"best"},r))})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"‚ö†Ô∏è Underperformer"}),e.jsx("div",{className:"space-y-3",children:a.worst.map((l,r)=>e.jsx(Ke,{investment:l,type:"worst"},r))})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"üìà ROI-Entwicklung"}),e.jsx("div",{className:"h-64 bg-gray-50 rounded-lg p-4 flex items-end gap-2",children:n.monthly.map((l,r)=>e.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[e.jsx("div",{className:`w-full rounded-t ${l.roi>=0?"bg-green-500":"bg-red-500"}`,style:{height:`${Math.abs(l.roi)*2}%`}}),e.jsx("div",{className:"text-xs mt-1 text-center",children:l.month}),e.jsxs("div",{className:"text-xs text-gray-600",children:[l.roi,"%"]})]},r))})]})]})}function _s({data:s}){const{valuations:t,market:a}=s;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"üè™ Markt√ºbersicht"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(ce,{title:"Gesamtmarktwert",value:`‚Ç¨${a.totalValue.toLocaleString()}`,icon:"üíé",color:"text-primary-green"}),e.jsx(ce,{title:"Durchschnittswert",value:`‚Ç¨${a.avgValue.toLocaleString()}`,icon:"üìä",color:"text-primary-blue"}),e.jsx(ce,{title:"Wertsteigerung",value:`+‚Ç¨${a.valueIncrease.toLocaleString()}`,icon:"üìà",color:"text-green-600"}),e.jsx(ce,{title:"Top Asset",value:a.topAsset.name,icon:"‚≠ê",color:"text-accent-yellow"})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"üèÜ Spieler-Marktwerte"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3 text-primary-blue",children:"üîµ AEK Athen"}),e.jsx("div",{className:"space-y-2",children:t.aek.map((n,l)=>e.jsx($e,{player:n,rank:l+1},l))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3 text-accent-red",children:"üî¥ Real Madrid"}),e.jsx("div",{className:"space-y-2",children:t.real.map((n,l)=>e.jsx($e,{player:n,rank:l+1},l))})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"üìà Marktwert-Entwicklung"}),e.jsx("div",{className:"space-y-4",children:a.trends.map((n,l)=>e.jsx(qs,{trend:n},l))})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"üí° Investment-Chancen"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.opportunities.map((n,l)=>e.jsx(Zs,{opportunity:n},l))})]})]})}function Us({data:s}){const{forecast:t,scenarios:a,recommendations:n}=s;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"üîÆ Finanz-Prognose"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(ue,{period:"Next Quarter",value:`‚Ç¨${t.nextQuarter.toLocaleString()}`,confidence:t.confidence.quarter,icon:"üìÖ"}),e.jsx(ue,{period:"Saisonende",value:`‚Ç¨${t.seasonEnd.toLocaleString()}`,confidence:t.confidence.season,icon:"üèÅ"}),e.jsx(ue,{period:"N√§chste Saison",value:`‚Ç¨${t.nextSeason.toLocaleString()}`,confidence:t.confidence.nextSeason,icon:"üîÑ"})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"üé≠ Szenario-Analyse"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(je,{title:"Optimistisch",scenario:a.optimistic,color:"bg-green-100 border-green-300",icon:"üìà"}),e.jsx(je,{title:"Realistisch",scenario:a.realistic,color:"bg-blue-100 border-blue-300",icon:"üìä"}),e.jsx(je,{title:"Pessimistisch",scenario:a.pessimistic,color:"bg-red-100 border-red-300",icon:"üìâ"})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"üí° Budget-Empfehlungen"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"üîµ AEK Empfehlungen"}),e.jsx("div",{className:"space-y-3",children:n.aek.map((l,r)=>e.jsx(Fe,{recommendation:l},r))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"üî¥ Real Empfehlungen"}),e.jsx("div",{className:"space-y-3",children:n.real.map((l,r)=>e.jsx(Fe,{recommendation:l},r))})]})]})]})]})}function Js({data:s}){const{health:t}=s;return e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"üè• Financial Health Dashboard"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(de,{title:"Liquidit√§t",score:t.liquidity.score,status:t.liquidity.status,icon:"üíß"}),e.jsx(de,{title:"Stabilit√§t",score:t.stability.score,status:t.stability.status,icon:"üèõÔ∏è"}),e.jsx(de,{title:"Wachstum",score:t.growth.score,status:t.growth.status,icon:"üìà"}),e.jsx(de,{title:"Effizienz",score:t.efficiency.score,status:t.efficiency.status,icon:"‚ö°"})]}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"üéØ Gesamt-Assessment"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"text-2xl font-bold text-primary-green",children:[t.overallScore,"/100"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Financial Health Score"})]}),e.jsxs("div",{className:"flex-2",children:[e.jsx("div",{className:"text-sm font-medium mb-1",children:t.overallStatus}),e.jsx("div",{className:"text-xs text-gray-600",children:t.summary})]})]})]})]})}function re({title:s,value:t,change:a,icon:n,color:l}){const r=a>=0;return e.jsxs("div",{className:"modern-card",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-xl",children:n}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:s})]}),e.jsx("div",{className:`text-2xl font-bold ${l}`,children:t}),e.jsxs("div",{className:`text-sm flex items-center gap-1 ${r?"text-green-600":"text-red-600"}`,children:[e.jsx("span",{children:r?"‚ÜóÔ∏è":"‚ÜòÔ∏è"}),e.jsxs("span",{children:[r?"+":"",a,"%"]})]})]})}function De({team:s,data:t}){return e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-3",children:s}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Budget:"}),e.jsxs("span",{className:"font-semibold",children:["‚Ç¨",t.budget.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Ausgegeben:"}),e.jsxs("span",{className:"font-semibold",children:["‚Ç¨",t.spent.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Verf√ºgbar:"}),e.jsxs("span",{className:"font-semibold text-green-600",children:["‚Ç¨",t.available.toLocaleString()]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:e.jsx("div",{className:"bg-primary-blue h-2 rounded-full",style:{width:`${t.spent/t.budget*100}%`}})})]})]})}function ge({title:s,aek:t,real:a,format:n}){const l=r=>n==="currency"?`‚Ç¨${r.toLocaleString()}`:r.toString();return e.jsxs("div",{className:"modern-card",children:[e.jsx("h4",{className:"font-semibold mb-3",children:s}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-primary-blue",children:"AEK:"}),e.jsx("span",{className:"font-semibold",children:l(t)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-accent-red",children:"Real:"}),e.jsx("span",{className:"font-semibold",children:l(a)})]}),e.jsx("div",{className:"text-xs text-gray-600 text-center pt-2 border-t",children:t<a?"AEK effizienter":a<t?"Real effizienter":"Gleichstand"})]})]})}function ie({title:s,value:t,benchmark:a,icon:n}){const r=(typeof t=="string"?parseFloat(t):t)>=a;return e.jsxs("div",{className:"modern-card",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-xl",children:n}),e.jsx("span",{className:"text-sm font-medium",children:s})]}),e.jsx("div",{className:"text-2xl font-bold",children:t}),e.jsxs("div",{className:`text-xs ${r?"text-green-600":"text-red-600"}`,children:["Benchmark: ",a,typeof a=="number"?"%":""]})]})}function Ge({player:s,rank:t}){return e.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs bg-gray-200 px-2 py-1 rounded",children:["#",t]}),e.jsx("span",{className:"text-sm font-medium",children:s.name})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-bold text-green-600",children:[s.roi,"%"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["‚Ç¨",s.investment,"k"]})]})]})}function Ke({investment:s,type:t}){const a=t==="best"?"bg-green-50 border-green-200":"bg-red-50 border-red-200",n=t==="best"?"text-green-800":"text-red-800";return e.jsx("div",{className:`p-3 rounded-lg border ${a}`,children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-sm",children:s.player}),e.jsx("div",{className:"text-xs text-gray-600",children:s.team})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`font-bold ${n}`,children:[s.roi,"%"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["‚Ç¨",s.investment,"k"]})]})]})})}function ce({title:s,value:t,icon:a,color:n}){return e.jsxs("div",{className:"modern-card",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-xl",children:a}),e.jsx("span",{className:"text-sm font-medium",children:s})]}),e.jsx("div",{className:`text-2xl font-bold ${n}`,children:t})]})}function $e({player:s,rank:t}){const a=s.change>=0?"text-green-600":"text-red-600",n=s.change>=0?"‚ÜóÔ∏è":"‚ÜòÔ∏è";return e.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs bg-gray-200 px-2 py-1 rounded",children:["#",t]}),e.jsx("span",{className:"text-sm font-medium",children:s.name})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-bold",children:["‚Ç¨",s.currentValue.toLocaleString()]}),e.jsxs("div",{className:`text-xs ${a}`,children:[n," ",Math.abs(s.change).toFixed(1),"%"]})]})]})}function qs({trend:s}){return e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:s.player}),e.jsx("div",{className:"text-sm text-gray-600",children:s.team})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-green-600",children:["+",s.trend,"%"]}),e.jsx("div",{className:"text-xs text-gray-500",children:s.period})]})]})}function Zs({opportunity:s}){const t={Low:"text-green-600",Medium:"text-yellow-600",High:"text-red-600"};return e.jsxs("div",{className:"modern-card",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-sm font-semibold",children:s.type}),e.jsxs("span",{className:`text-xs ${t[s.risk]}`,children:[s.risk," Risk"]})]}),e.jsx("div",{className:"text-lg font-bold mb-1",children:s.player}),e.jsxs("div",{className:"text-sm text-green-600 font-semibold",children:["+",s.potential,"% Potential"]})]})}function ue({period:s,value:t,confidence:a,icon:n}){return e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-xl mb-2",children:n}),e.jsx("div",{className:"font-semibold text-sm mb-1",children:s}),e.jsx("div",{className:"text-2xl font-bold text-primary-green mb-1",children:t}),e.jsxs("div",{className:"text-xs text-gray-600",children:["Konfidenz: ",a,"%"]})]})}function je({title:s,scenario:t,color:a,icon:n}){return e.jsxs("div",{className:`p-4 rounded-lg border ${a}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-lg",children:n}),e.jsx("span",{className:"font-semibold",children:s})]}),e.jsxs("div",{className:"text-2xl font-bold mb-2",children:["‚Ç¨",t.budget.toLocaleString()]}),e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:t.description}),e.jsxs("div",{className:"text-xs",children:["Wahrscheinlichkeit: ",t.probability,"%"]})]})}function Fe({recommendation:s}){const t={Invest:"bg-green-100 text-green-800",Save:"bg-blue-100 text-blue-800",Optimize:"bg-yellow-100 text-yellow-800",Monitor:"bg-orange-100 text-orange-800",Plan:"bg-purple-100 text-purple-800"},a={High:"text-red-600",Medium:"text-yellow-600",Low:"text-green-600"};return e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:`text-xs px-2 py-1 rounded ${t[s.type]}`,children:s.type}),e.jsx("span",{className:`text-xs font-semibold ${a[s.priority]}`,children:s.priority})]}),e.jsx("div",{className:"text-sm",children:s.action})]})}function de({title:s,score:t,status:a,icon:n}){const l=r=>r>=80?"text-green-600":r>=60?"text-yellow-600":"text-red-600";return e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-xl mb-2",children:n}),e.jsx("div",{className:"font-semibold text-sm mb-1",children:s}),e.jsxs("div",{className:`text-2xl font-bold ${l(t)}`,children:[t,"/100"]}),e.jsx("div",{className:"text-xs text-gray-600",children:a})]})}class Qs{constructor(t,a,n,l){this.matches=t||[],this.players=a||[],this.bans=n||[],this.spielerDesSpiels=l||[],this.aekPlayers=(a||[]).filter(r=>r.team==="AEK"),this.realPlayers=(a||[]).filter(r=>r.team==="Real")}calculateTeamRecords(){const t={wins:0,losses:0},a={wins:0,losses:0};return this.matches.forEach(n=>{const l=n.goalsa||0,r=n.goalsb||0;l>r?(t.wins++,a.losses++):r>l&&(a.wins++,t.losses++)}),{aek:t,real:a}}calculateRecentForm(t=5){const a=this.matches.slice(-t),n=[],l=[];return a.forEach(r=>{const i=r.goalsa||0,g=r.goalsb||0;i>g?(n.push("W"),l.push("L")):g>i?(n.push("L"),l.push("W")):(n.push("D"),l.push("D"))}),{aek:n,real:l}}calculatePlayerStats(){return this.players.map(t=>{const a=this.countPlayerMatches(),n=this.bans.filter(i=>i.player_id===t.id),l=this.spielerDesSpiels.find(i=>i.name===t.name&&i.team===t.team),r=l&&l.count||0;return{...t,goals:t.goals||0,matchesPlayed:a,sdsCount:r,goalsPerGame:a>0?((t.goals||0)/a).toFixed(2):"0.00",totalBans:n.length,disciplinaryScore:this.calculateDisciplinaryScore(n)}}).sort((t,a)=>(a.goals||0)-(t.goals||0))}countPlayerGoalsFromMatches(t,a){let n=0;return this.matches.forEach(l=>{a==="AEK"&&l.goalslista&&(Array.isArray(l.goalslista)?l.goalslista:typeof l.goalslista=="string"?JSON.parse(l.goalslista):[]).forEach(i=>{const g=typeof i=="string"?i:i.player,h=typeof i=="string"?1:i.count||1;g===t&&(n+=h)}),a==="Real"&&l.goalslistb&&(Array.isArray(l.goalslistb)?l.goalslistb:typeof l.goalslistb=="string"?JSON.parse(l.goalslistb):[]).forEach(i=>{const g=typeof i=="string"?i:i.player,h=typeof i=="string"?1:i.count||1;g===t&&(n+=h)})}),n}countPlayerMatches(){return this.matches.length}calculateDisciplinaryScore(t){let a=0;return t.forEach(n=>{switch(n.type){case"Gelb-Rote Karte":a+=3;break;case"Rote Karte":a+=5;break;case"Verletzung":a+=1;break;default:a+=1}}),a}calculateAdvancedStats(){const t=this.matches.length,a=this.matches.reduce((n,l)=>n+(l.goalsa||0)+(l.goalsb||0),0);return{avgGoalsPerMatch:t>0?(a/t).toFixed(2):"0.00",totalMatches:t,totalGoals:a,aekTotalGoals:this.matches.reduce((n,l)=>n+(l.goalsa||0),0),realTotalGoals:this.matches.reduce((n,l)=>n+(l.goalsb||0),0),highestScoringMatch:t>0?Math.max(...this.matches.map(n=>(n.goalsa||0)+(n.goalsb||0))):0,cleanSheets:{aek:this.matches.filter(n=>n.goalsb===0).length,real:this.matches.filter(n=>n.goalsa===0).length}}}calculatePerformanceTrends(){const t={};return this.matches.forEach(a=>{const n=new Date(a.date),l=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}`;t[l]||(t[l]={month:l,aekWins:0,realWins:0,totalGoals:0,matchCount:0});const r=a.goalsa||0,i=a.goalsb||0;t[l].totalGoals+=r+i,t[l].matchCount++,r>i?t[l].aekWins++:i>r&&t[l].realWins++}),t}calculateHeadToHead(){const t={totalMatches:this.matches.length,aekWins:0,realWins:0,aekGoals:0,realGoals:0,biggestAekWin:{diff:0,score:"",date:"",opponent:"Real Madrid"},biggestRealWin:{diff:0,score:"",date:"",opponent:"AEK Athen"}};return this.matches.forEach(a=>{const n=a.goalsa||0,l=a.goalsb||0,r=Math.abs(n-l);t.aekGoals+=n,t.realGoals+=l,n>l?(t.aekWins++,r>t.biggestAekWin.diff&&(t.biggestAekWin={diff:r,score:`${n}:${l}`,date:a.date||"",opponent:"Real Madrid"})):l>n&&(t.realWins++,r>t.biggestRealWin.diff&&(t.biggestRealWin={diff:r,score:`${l}:${n}`,date:a.date||"",opponent:"AEK Athen"}))}),t}}const K={clToLiters:s=>(s/100).toFixed(3),clToShots:s=>(s/2).toFixed(0),clToGlasses:s=>(s/20).toFixed(1),formatAlcoholDisplay:s=>({cl:s,liters:(s/100).toFixed(3),shots:Math.floor(s/2),glasses:(s/20).toFixed(1)})};function Xs({onNavigate:s}){const[t,a]=$.useState("dashboard"),n=()=>{var x,o,V,m;try{const u=localStorage.getItem("teamManagers");if(u){const A=JSON.parse(u);return{aekChef:{name:((x=A.aek)==null?void 0:x.name)||"Alexander",weight:((o=A.aek)==null?void 0:o.weight)||100,gender:"male"},realChef:{name:((V=A.real)==null?void 0:V.name)||"Philip",weight:((m=A.real)==null?void 0:m.weight)||105,gender:"male"}}}}catch(u){console.error("Error loading manager settings:",u)}return{aekChef:{name:"Alexander",weight:100,gender:"male"},realChef:{name:"Philip",weight:105,gender:"male"}}},[l,r]=$.useState({aekPlayer:"",realPlayer:"",aekGoals:0,realGoals:0,mode:"manual",playerData:n(),gameDay:new Date().toISOString().split("T")[0],beerCount:{aek:0,real:0}}),{data:i,loading:g}=F("matches","*"),{data:h,loading:y}=F("players","*"),{data:w,loading:C}=F("spieler_des_spiels","*"),{data:k,loading:D}=F("bans","*");$.useEffect(()=>{const x=()=>{r(o=>({...o,playerData:n()}))};return window.addEventListener("storage",x),window.addEventListener("managerSettingsChanged",x),()=>{window.removeEventListener("storage",x),window.removeEventListener("managerSettingsChanged",x)}},[]);const N=g||y||C||D,R=new Qs(i,h,k,w),S=R.calculateTeamRecords(),M=R.calculateRecentForm(5),E=R.calculatePlayerStats(),b=R.calculateAdvancedStats(),L=R.calculatePerformanceTrends(),j=R.calculateHeadToHead(),B=(i==null?void 0:i.length)||0,O=(h==null?void 0:h.filter(x=>x.team==="AEK"))||[],_=(h==null?void 0:h.filter(x=>x.team==="Real"))||[],X=O.reduce((x,o)=>x+(o.value||0),0),Q=_.reduce((x,o)=>x+(o.value||0),0),te=X+Q,J=S.aek.wins,f=S.real.wins,P=x=>x.map((o,V)=>e.jsx("span",{className:`inline-block w-6 h-6 text-xs font-bold rounded-full text-center leading-6 mx-0.5 ${o==="W"?"bg-green-500 text-white":o==="L"?"bg-red-500 text-white":"bg-gray-400 text-white"}`,children:o},V)),H=x=>`${(x||0).toFixed(1)}M ‚Ç¨`,Le=[{id:"dashboard",label:"Dashboard",icon:"üéØ"},{id:"overview",label:"√úbersicht",icon:"üìä"},{id:"players",label:"Spieler",icon:"üë•"},{id:"teams",label:"Teams",icon:"üèÜ"},{id:"trends",label:"Trends",icon:"üìà"},{id:"alkohol",label:"Alkohol",icon:"üç∫"},{id:"advanced",label:"Erweitert",icon:"üî¨"},{id:"playeranalytics",label:"Spieler-Analytics",icon:"üéØ"},{id:"matchprediction",label:"Match-Prediction",icon:"üîÆ"},{id:"financialanalytics",label:"Finanz-Analytics",icon:"üí∞"}];if(N)return e.jsx(Y,{message:"Lade Statistiken..."});const ze=()=>{const x=E.length>0?E[0]:null,o=E.filter(m=>m.sdsCount>0).sort((m,u)=>u.sdsCount-m.sdsCount)[0],V=i==null?void 0:i.reduce((m,u)=>{const A=G=>{if(!G)return[];try{return typeof G=="string"?JSON.parse(G):G}catch{return[]}},T=A(u.goalslista),W=A(u.goalslistb);return[...T,...W].forEach(G=>{const d=typeof G=="object"?G.player:G,c=typeof G=="object"?G.count:1;c>m.count&&(m={player:d,count:c,match:u})}),m},{player:null,count:0,match:null});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-green",children:B}),e.jsx("div",{className:"text-sm text-text-muted",children:"Spiele gespielt"})]}),e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-green",children:b.totalGoals}),e.jsx("div",{className:"text-sm text-text-muted",children:"Tore insgesamt"}),e.jsxs("div",{className:"text-xs text-text-muted mt-1",children:["‚åÄ ",B>0?(b.totalGoals/B).toFixed(1):"0.0","/Spiel"]})]}),e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-lg font-bold text-primary-green",children:x?x.name:"Keine Daten"}),e.jsxs("div",{className:"text-sm text-text-muted",children:["ü•á Topscorer (",x?x.goals:0," Tore)"]}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:x&&x.matchesPlayed>0?`‚åÄ ${(x.goals/x.matchesPlayed).toFixed(2)}/Spiel`:"‚åÄ 0.00/Spiel"})]}),e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-lg font-bold text-primary-green",children:o?o.name:"Keine Daten"}),e.jsxs("div",{className:"text-sm text-text-muted",children:["‚≠ê Top SdS (",o?o.sdsCount:0,"x)"]}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:o&&o.matchesPlayed>0?`${(o.sdsCount/o.matchesPlayed*100).toFixed(1)}% Quote`:"0.0% Quote"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-xl font-bold text-blue-600",children:j.biggestAekWin.diff>0?j.biggestAekWin.score:"‚Äì"}),e.jsx("div",{className:"text-sm text-text-muted",children:"üîµ Gr√∂√üter AEK Sieg"}),j.biggestAekWin.diff>0&&e.jsxs("div",{className:"text-xs text-text-muted mt-1",children:["vs ",j.biggestAekWin.opponent,e.jsx("br",{}),new Date(j.biggestAekWin.date).toLocaleDateString("de-DE")]})]}),e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-xl font-bold text-red-600",children:j.biggestRealWin.diff>0?j.biggestRealWin.score:"‚Äì"}),e.jsx("div",{className:"text-sm text-text-muted",children:"üî¥ Gr√∂√üter Real Sieg"}),j.biggestRealWin.diff>0&&e.jsxs("div",{className:"text-xs text-text-muted mt-1",children:["vs ",j.biggestRealWin.opponent,e.jsx("br",{}),new Date(j.biggestRealWin.date).toLocaleDateString("de-DE")]})]}),e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-xl font-bold text-accent-blue",children:(V==null?void 0:V.player)||"Keine Daten"}),e.jsxs("div",{className:"text-sm text-text-muted",children:["‚öΩ Meiste Tore (",(V==null?void 0:V.count)||0," in einem Spiel)"]}),(V==null?void 0:V.match)&&e.jsx("div",{className:"text-xs text-text-muted mt-1",children:new Date(V.match.date).toLocaleDateString("de-DE")})]}),e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-xl font-bold text-accent-red",children:(()=>{const m={};k==null||k.forEach(A=>{const T=h==null?void 0:h.find(G=>G.id===A.player_id),W=(T==null?void 0:T.name)||"Unbekannt";m[W]=(m[W]||0)+1});const u=Object.entries(m).sort((A,T)=>T[1]-A[1])[0];return u?u[0]:"Keine Daten"})()}),e.jsxs("div",{className:"text-sm text-text-muted",children:["üü• Meiste Sperren (",(()=>{const m={};k==null||k.forEach(A=>{const T=h==null?void 0:h.find(G=>G.id===A.player_id),W=(T==null?void 0:T.name)||"Unbekannt";m[W]=(m[W]||0)+1});const u=Object.entries(m).sort((A,T)=>T[1]-A[1])[0];return u?u[1]:0})(),"x)"]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"üìä Erweiterte Statistiken"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold text-primary-green",children:(()=>{const m=(k==null?void 0:k.reduce((A,T)=>{const W=new Date(T.start_date),G=new Date(T.end_date),d=Math.ceil((G-W)/(1e3*60*60*24));return A+(d>0?d:0)},0))||0;return`${(k==null?void 0:k.length)>0?(m/k.length).toFixed(1):"0.0"} Tage`})()}),e.jsx("div",{className:"text-sm text-text-muted",children:"‚åÄ Sperrenl√§nge"})]}),e.jsxs("div",{className:"text-center p-3 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold text-accent-blue",children:E.filter(m=>m.goals>0).length}),e.jsx("div",{className:"text-sm text-text-muted",children:"Aktive Torsch√ºtzen"})]}),e.jsxs("div",{className:"text-center p-3 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold text-accent-red",children:(k==null?void 0:k.length)||0}),e.jsx("div",{className:"text-sm text-text-muted",children:"Gesamt Sperren"})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"üí° Besondere Statistiken"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"text-xl font-bold text-green-600",children:(()=>{let m=0,u=0,A=0;return i==null||i.forEach(T=>{const W=T.goalsa||0,G=T.goalsb||0;W>G?(u++,A=0,u>m&&(m=u)):G>W?(A++,u=0,A>m&&(m=A)):(u=0,A=0)}),m})()}),e.jsx("div",{className:"text-sm text-green-700",children:"üî• L√§ngste Siegesserie"}),e.jsx("div",{className:"text-xs text-green-600 mt-1",children:(()=>{let m=0,u=0,A=0,T="";return i==null||i.forEach(W=>{const G=W.goalsa||0,d=W.goalsb||0;G>d?(u++,A=0,u>m&&(m=u,T="AEK")):d>G?(A++,u=0,A>m&&(m=A,T="Real")):(u=0,A=0)}),T||"Keine"})()})]}),e.jsxs("div",{className:"text-center p-3 bg-gradient-to-br from-yellow-50 to-orange-50 rounded-lg border border-yellow-200",children:[e.jsx("div",{className:"text-xl font-bold text-yellow-600",children:(()=>{let m=0;return E.forEach(u=>{if(u.matchesPlayed>0){const A=u.goals/u.matchesPlayed;A>m&&(m=A)}}),m.toFixed(2)})()}),e.jsx("div",{className:"text-sm text-yellow-700",children:"‚ö° H√∂chste Effizienz"}),e.jsx("div",{className:"text-xs text-yellow-600 mt-1",children:(()=>{let m=0,u=null;return E.forEach(A=>{if(A.matchesPlayed>0){const T=A.goals/A.matchesPlayed;T>m&&(m=T,u=A.name)}}),u||"Keine Daten"})()})]}),e.jsxs("div",{className:"text-center p-3 bg-gradient-to-br from-blue-50 to-cyan-50 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"text-xl font-bold text-blue-600",children:(()=>{const m=S.aek.wins,u=S.real.wins;return m+u===0?"100%":`${(Math.min(m,u)/Math.max(m,u)*100).toFixed(0)}%`})()}),e.jsx("div",{className:"text-sm text-blue-700",children:"‚öñÔ∏è Team-Balance"}),e.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Ausgeglichenheit (",S.aek.wins,":",S.real.wins,")"]})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"modern-card border-l-4 border-blue-400",children:[e.jsx("h3",{className:"font-bold text-lg mb-4 text-blue-600",children:"AEK Athen"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Siege:"}),e.jsx("span",{className:"font-semibold text-green-600",children:J})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Niederlagen:"}),e.jsx("span",{className:"font-semibold text-red-600",children:S.aek.losses})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Marktwert:"}),e.jsx("span",{className:"font-semibold",children:H(X)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Zu Null:"}),e.jsx("span",{className:"font-semibold",children:b.cleanSheets.aek})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("div",{className:"text-sm text-text-muted mb-1",children:"Form (letzte 5):"}),e.jsx("div",{className:"flex",children:P(M.aek)})]})]})]}),e.jsxs("div",{className:"modern-card border-l-4 border-red-400",children:[e.jsx("h3",{className:"font-bold text-lg mb-4 text-red-600",children:"Real Madrid"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Siege:"}),e.jsx("span",{className:"font-semibold text-green-600",children:f})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Niederlagen:"}),e.jsx("span",{className:"font-semibold text-red-600",children:S.real.losses})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Marktwert:"}),e.jsx("span",{className:"font-semibold",children:H(Q)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Zu Null:"}),e.jsx("span",{className:"font-semibold",children:b.cleanSheets.real})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("div",{className:"text-sm text-text-muted mb-1",children:"Form (letzte 5):"}),e.jsx("div",{className:"flex",children:P(M.real)})]})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"üèÜ Top-Torsch√ºtzen"}),e.jsx("div",{className:"space-y-2",children:E.slice(0,5).map((m,u)=>e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border-light last:border-b-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${u===0?"bg-yellow-500 text-white":u===1?"bg-gray-400 text-white":u===2?"bg-orange-600 text-white":"bg-gray-200 text-gray-600"}`,children:u+1}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:m.name}),e.jsx("div",{className:"text-sm text-text-muted",children:m.team})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold",children:[m.goals," Tore"]}),e.jsxs("div",{className:"text-sm text-text-muted",children:[m.goalsPerGame," ‚åÄ"]})]})]},m.id))})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"‚≠ê Top-Spieler des Spiels"}),e.jsx("div",{className:"space-y-2",children:E.filter(m=>m.sdsCount>0).sort((m,u)=>u.sdsCount-m.sdsCount).slice(0,5).map((m,u)=>e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border-light last:border-b-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${u===0?"bg-yellow-500 text-white":u===1?"bg-gray-400 text-white":u===2?"bg-orange-600 text-white":"bg-gray-200 text-gray-600"}`,children:u+1}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:m.name}),e.jsx("div",{className:"text-sm text-text-muted",children:m.team})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold",children:[m.sdsCount,"x SdS"]}),e.jsxs("div",{className:"text-sm text-text-muted",children:[m.matchesPlayed>0?(m.sdsCount/m.matchesPlayed*100).toFixed(1):"0.0","% Quote"]})]})]},m.id))}),E.filter(m=>m.sdsCount>0).length===0&&e.jsx("div",{className:"text-center text-text-muted py-4",children:"Noch keine Spieler des Spiels Auszeichnungen vergeben"})]})]})},We=()=>e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"üìä Spielerstatistiken"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-border-light",children:[e.jsx("th",{className:"text-left py-2",children:"Spieler"}),e.jsx("th",{className:"text-left py-2",children:"Team"}),e.jsx("th",{className:"text-center py-2",children:"Tore"}),e.jsx("th",{className:"text-center py-2",children:"‚åÄ/Spiel"}),e.jsx("th",{className:"text-center py-2",children:"SdS"}),e.jsx("th",{className:"text-center py-2",children:"Sperren"}),e.jsx("th",{className:"text-right py-2",children:"Marktwert"})]})}),e.jsx("tbody",{children:E.map(x=>e.jsxs("tr",{className:"border-b border-border-light hover:bg-bg-secondary",children:[e.jsx("td",{className:"py-2 font-medium",children:x.name}),e.jsx("td",{className:"py-2",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${x.team==="AEK"?"bg-blue-100 text-blue-800":x.team==="Ehemalige"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:x.team})}),e.jsx("td",{className:"py-2 text-center font-bold",children:x.goals}),e.jsx("td",{className:"py-2 text-center",children:x.goalsPerGame}),e.jsx("td",{className:"py-2 text-center",children:x.sdsCount}),e.jsx("td",{className:"py-2 text-center",children:x.totalBans}),e.jsx("td",{className:"py-2 text-right",children:H(x.value)})]},x.id))})]})})]}),Be=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"‚öñÔ∏è Team-Vergleich"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-blue-600",children:"AEK Athen"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Aktive Spieler:"}),e.jsx("span",{className:"font-medium",children:O.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Siege:"}),e.jsx("span",{className:"font-medium",children:J})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Niederlagen:"}),e.jsx("span",{className:"font-medium",children:S.aek.losses})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Gesamtmarktwert:"}),e.jsx("span",{className:"font-medium",children:H(X)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Zu Null Spiele:"}),e.jsx("span",{className:"font-medium",children:b.cleanSheets.aek})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-red-600",children:"Real Madrid"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Aktive Spieler:"}),e.jsx("span",{className:"font-medium",children:_.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Siege:"}),e.jsx("span",{className:"font-medium",children:f})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Niederlagen:"}),e.jsx("span",{className:"font-medium",children:S.real.losses})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Gesamtmarktwert:"}),e.jsx("span",{className:"font-medium",children:H(Q)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Zu Null Spiele:"}),e.jsx("span",{className:"font-medium",children:b.cleanSheets.real})]})]})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"üìà Erweiterte Statistiken"}),e.jsx("div",{className:"mb-4 text-sm text-text-muted",children:"Diese Statistiken bieten tiefere Einblicke in die Team-Performance und wichtige Kennzahlen."}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-green",children:b.highestScoringMatch}),e.jsx("div",{className:"text-sm text-text-muted",children:"H√∂chste Toranzahl"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:"in einem einzelnen Spiel"})]}),e.jsxs("div",{className:"text-center p-4 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-green",children:H(te)}),e.jsx("div",{className:"text-sm text-text-muted",children:"Gesamtmarktwert"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:"aller aktiven Spieler"})]}),e.jsxs("div",{className:"text-center p-4 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-accent-orange",children:Math.abs(J-f)}),e.jsx("div",{className:"text-sm text-text-muted",children:"Siegesdifferenz"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:"zwischen den Teams"})]}),e.jsxs("div",{className:"text-center p-4 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-accent-blue",children:B>0?((O.length+_.length)*(B/2)).toFixed(0):0}),e.jsx("div",{className:"text-sm text-text-muted",children:"Gesch√§tzte Spielminuten"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:"pro Spieler (‚åÄ 45min)"})]})]}),e.jsxs("div",{className:"mt-6 grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-text-primary",children:"üéØ Offensive Highlights"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Torreichstes Team:"}),e.jsxs("span",{className:"font-medium",children:[b.aekTotalGoals>=b.realTotalGoals?"AEK Athen":"Real Madrid","(",Math.max(b.aekTotalGoals,b.realTotalGoals)," Tore)"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"H√∂chste Einzelspiel-Toranzahl:"}),e.jsxs("span",{className:"font-medium",children:[b.highestScoringMatch," Tore"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Aktivster Torsch√ºtze:"}),e.jsx("span",{className:"font-medium",children:E.length>0?`${E[0].name} (${E[0].goals} Tore)`:"Keine Daten"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-text-primary",children:"‚öñÔ∏è Team-Balance"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Kader-Unterschied:"}),e.jsxs("span",{className:"font-medium",children:[Math.abs(O.length-_.length)," Spieler"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Marktwert-Verh√§ltnis:"}),e.jsx("span",{className:"font-medium",children:O.reduce((x,o)=>x+(o.value||0),0)>_.reduce((x,o)=>x+(o.value||0),0)?"AEK f√ºhrt":"Real f√ºhrt"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Dominanteres Team:"}),e.jsx("span",{className:"font-medium",children:J>f?"AEK Athen":f>J?"Real Madrid":"Ausgeglichen"})]})]})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"‚öîÔ∏è Head-to-Head Bilanz"}),e.jsx("div",{className:"mb-4 text-sm text-text-muted",children:"Direkter Vergleich zwischen AEK Athen und Real Madrid √ºber alle Spiele."}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:j.aekWins}),e.jsx("div",{className:"text-sm text-blue-700",children:"AEK Siege"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:j.totalMatches>0?`${(j.aekWins/j.totalMatches*100).toFixed(1)}%`:"0%"})]}),e.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:j.realWins}),e.jsx("div",{className:"text-sm text-red-700",children:"Real Siege"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:j.totalMatches>0?`${(j.realWins/j.totalMatches*100).toFixed(1)}%`:"0%"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-600",children:j.totalMatches-j.aekWins-j.realWins}),e.jsx("div",{className:"text-sm text-gray-700",children:"Unentschieden"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:j.totalMatches>0?`${((j.totalMatches-j.aekWins-j.realWins)/j.totalMatches*100).toFixed(1)}%`:"0%"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:j.aekGoals+j.realGoals}),e.jsx("div",{className:"text-sm text-green-700",children:"Tore gesamt"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:j.totalMatches>0?`‚åÄ ${((j.aekGoals+j.realGoals)/j.totalMatches).toFixed(1)} pro Spiel`:"‚åÄ 0 pro Spiel"})]})]}),e.jsxs("div",{className:"mt-6 grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"üîµ Gr√∂√üter AEK Sieg"}),j.biggestAekWin.diff>0?e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:j.biggestAekWin.score}),e.jsxs("div",{className:"text-sm text-blue-700",children:["Unterschied: ",j.biggestAekWin.diff," Tore"]}),e.jsx("div",{className:"text-xs text-text-muted",children:new Date(j.biggestAekWin.date).toLocaleDateString("de-DE")})]}):e.jsx("div",{className:"text-gray-500",children:"Noch kein Sieg verzeichnet"})]}),e.jsxs("div",{className:"p-4 bg-red-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-red-800 mb-2",children:"üî¥ Gr√∂√üter Real Sieg"}),j.biggestRealWin.diff>0?e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-red-600 mb-1",children:j.biggestRealWin.score}),e.jsxs("div",{className:"text-sm text-red-700",children:["Unterschied: ",j.biggestRealWin.diff," Tore"]}),e.jsx("div",{className:"text-xs text-text-muted",children:new Date(j.biggestRealWin.date).toLocaleDateString("de-DE")})]}):e.jsx("div",{className:"text-gray-500",children:"Noch kein Sieg verzeichnet"})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"üî¨ Detailanalyse"}),e.jsx("div",{className:"mb-4 text-sm text-text-muted",children:"Erweiterte Metriken f√ºr eine tiefgreifende Team-Analyse."}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-blue-600",children:"üí∞ Wirtschaftliche Effizienz"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"‚åÄ Marktwert AEK:"}),e.jsx("span",{className:"font-medium",children:O.length>0?`${(O.reduce((x,o)=>x+(o.value||0),0)/O.length).toFixed(1)}M ‚Ç¨`:"0M ‚Ç¨"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"‚åÄ Marktwert Real:"}),e.jsx("span",{className:"font-medium",children:_.length>0?`${(_.reduce((x,o)=>x+(o.value||0),0)/_.length).toFixed(1)}M ‚Ç¨`:"0M ‚Ç¨"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Tore pro 1M ‚Ç¨ (AEK):"}),e.jsx("span",{className:"font-medium",children:O.reduce((x,o)=>x+(o.value||0),0)>0?(b.aekTotalGoals/O.reduce((x,o)=>x+(o.value||0),0)).toFixed(2):"0.00"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Tore pro 1M ‚Ç¨ (Real):"}),e.jsx("span",{className:"font-medium",children:_.reduce((x,o)=>x+(o.value||0),0)>0?(b.realTotalGoals/_.reduce((x,o)=>x+(o.value||0),0)).toFixed(2):"0.00"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-red-600",children:"üé≤ Spielstatistiken"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Spiele gespielt:"}),e.jsx("span",{className:"font-medium",children:B})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Unentschieden:"}),e.jsx("span",{className:"font-medium",children:B-J-f})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"‚åÄ Spieldauer:"}),e.jsx("span",{className:"font-medium",children:"~90 Minuten"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"L√§ngste Serie:"}),e.jsxs("span",{className:"font-medium",children:[J>=f?"AEK":"Real"," (",Math.max(J,f)," Siege)"]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-purple-600",children:"üèÜ Erfolgs-Metriken"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Aktivste Spieler:"}),e.jsx("span",{className:"font-medium",children:O.length+_.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Top-Performer:"}),e.jsxs("span",{className:"font-medium",children:[E.filter(x=>x.sdsCount>0).length," Spieler"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Konsistenz AEK:"}),e.jsx("span",{className:"font-medium",children:B>0?`${(J/B*100).toFixed(0)}% Erfolg`:"0% Erfolg"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Konsistenz Real:"}),e.jsx("span",{className:"font-medium",children:B>0?`${(f/B*100).toFixed(0)}% Erfolg`:"0% Erfolg"})]})]})]})]})]})]}),Ve=()=>e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"üìà Performance-Trends"}),e.jsx("div",{className:"space-y-4",children:Object.values(L).reverse().map(x=>e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-border-light last:border-b-0",children:[e.jsx("div",{className:"font-medium",children:x.month}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-sm",children:[e.jsxs("span",{className:"text-blue-600 font-medium",children:["AEK: ",x.aekWins]}),e.jsx("span",{className:"mx-2",children:"vs"}),e.jsxs("span",{className:"text-red-600 font-medium",children:["Real: ",x.realWins]})]}),e.jsxs("div",{className:"text-sm text-text-muted",children:[x.matchCount," Spiele, ",x.totalGoals," Tore"]}),e.jsxs("div",{className:"text-sm font-medium",children:["‚åÄ ",(x.totalGoals/x.matchCount).toFixed(1)," Tore/Spiel"]})]})]},x.month))})]}),Ie=()=>{const o=(()=>{const d={totalShots:0,aekShots:0,realShots:0,playerShots:{}},c=(i==null?void 0:i.slice().sort((p,z)=>{const I=new Date(p.date||0),q=new Date(z.date||0);return I-q}))||[],v={};return c.forEach(p=>{const I=new Date(p.date||0).toDateString();v[I]||(v[I]=[]),v[I].push(p)}),Object.keys(v).forEach(p=>{const z=v[p];let I=0,q=0,oe=0,ae=0;z.forEach(be=>{const He=be.goalsa||0,_e=be.goalsb||0;I+=He,q+=_e;const pe=Math.floor(q/2),ve=Math.floor(I/2),Ne=(pe-oe)*2,ye=(ve-ae)*2;d.aekShots+=Ne,d.realShots+=ye,d.totalShots+=Ne+ye,oe=pe,ae=ve})}),h==null||h.forEach(p=>{p.goals>0&&(d.playerShots[p.name]||(d.playerShots[p.name]={totalGoals:0,alcoholCaused:0}),d.playerShots[p.name].totalGoals=p.goals,d.playerShots[p.name].alcoholCaused=Math.floor(p.goals/2)*2)}),d})(),V=Object.entries(o.playerShots).sort(([,d],[,c])=>c.alcoholCaused-d.alcoholCaused).slice(0,10),m=()=>{const d=new Date,c=new Date(d.getFullYear(),d.getMonth(),d.getDate()),v=new Date(c);return v.setDate(v.getDate()-1),(i==null?void 0:i.filter(p=>{const z=new Date(p.date),I=new Date(z.getFullYear(),z.getMonth(),z.getDate());return I>=v&&I<=c}))||[]},u=()=>{if(l.mode==="automatic"){const c=m().reduce((v,p)=>v+(p.goalsb||0),0);return Math.floor(c/2)*2}return Math.floor(l.realGoals/2)*2},A=()=>{if(l.mode==="automatic"){const c=m().reduce((v,p)=>v+(p.goalsa||0),0);return Math.floor(c/2)*2}return Math.floor(l.aekGoals/2)*2},T=()=>{if(l.mode==="automatic"){const c=m().reduce((v,p)=>v+(p.goalsa||0)+(p.goalsb||0),0);return Math.floor(c/2)*2}else return Math.floor((l.aekGoals+l.realGoals)/2)*2},W=(d,c,v=null,p=0)=>{if(!c.weight||d===0&&p===0)return"0.00";let z=d*10*.4*.789;z+=p*.5*1e3*.05*.789;const I=c.gender==="female"?.6:.7;let q=z/(c.weight*I);if(v){const ae=(new Date-new Date(v))/(1e3*60*60);q=Math.max(0,q-ae*.15)}return q.toFixed(2)},G=d=>{const c=parseFloat(d);return c===0?{status:"N√ºchtern",color:"text-green-600",bg:"bg-green-50",border:"border-green-200"}:c<.5?{status:"Gering beeintr√§chtigt",color:"text-yellow-600",bg:"bg-yellow-50",border:"border-yellow-200"}:c<1.1?{status:"Fahrunt√ºchtig",color:"text-orange-600",bg:"bg-orange-50",border:"border-orange-200"}:c<2?{status:"Stark beeintr√§chtigt",color:"text-red-600",bg:"bg-red-50",border:"border-red-200"}:{status:"Lebensgef√§hrlich",color:"text-red-800",bg:"bg-red-100",border:"border-red-400"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-3xl mb-2",children:"üç∫"}),e.jsxs("div",{className:"text-2xl font-bold text-primary-green",children:[o.totalShots,"cl"]}),e.jsx("div",{className:"text-sm text-text-muted",children:"Gesamt Schnaps"}),e.jsxs("div",{className:"text-xs text-text-muted mt-1 space-y-1",children:[e.jsxs("div",{children:["‚âà ",K.clToLiters(o.totalShots),"L"]}),e.jsxs("div",{children:["‚âà ",K.clToShots(o.totalShots)," Shots"]}),e.jsxs("div",{children:["‚âà ",K.clToGlasses(o.totalShots)," Gl√§ser"]})]})]}),e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-3xl mb-2",children:"üîµ"}),e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[o.aekShots,"cl"]}),e.jsx("div",{className:"text-sm text-text-muted",children:"AEK getrunken"}),e.jsxs("div",{className:"text-xs text-text-muted mt-1 space-y-1",children:[e.jsxs("div",{children:["‚âà ",K.clToLiters(o.aekShots),"L"]}),e.jsxs("div",{children:["‚âà ",K.clToShots(o.aekShots)," Shots"]}),e.jsxs("div",{children:[o.totalShots>0?(o.aekShots/o.totalShots*100).toFixed(1):0,"% vom Gesamt"]})]})]}),e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-3xl mb-2",children:"üî¥"}),e.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[o.realShots,"cl"]}),e.jsx("div",{className:"text-sm text-text-muted",children:"Real getrunken"}),e.jsxs("div",{className:"text-xs text-text-muted mt-1 space-y-1",children:[e.jsxs("div",{children:["‚âà ",K.clToLiters(o.realShots),"L"]}),e.jsxs("div",{children:["‚âà ",K.clToShots(o.realShots)," Shots"]}),e.jsxs("div",{children:[o.totalShots>0?(o.realShots/o.totalShots*100).toFixed(1):0,"% vom Gesamt"]})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"üçª Top Alkohol-Verursacher"}),e.jsx("div",{className:"text-sm text-text-muted mb-4",children:"Spieler, die mit ihren Toren am meisten Alkohol f√ºr den Gegner verursacht haben"}),e.jsxs("div",{className:"space-y-3",children:[V.map(([d,c],v)=>e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border-light last:border-b-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${v===0?"bg-yellow-500 text-white":v===1?"bg-gray-400 text-white":v===2?"bg-orange-600 text-white":"bg-gray-200 text-gray-600"}`,children:v+1}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:d}),e.jsxs("div",{className:"text-sm text-text-muted space-x-2",children:[e.jsxs("span",{children:[c.totalGoals," Tore"]}),e.jsxs("span",{children:["‚âà ",K.clToLiters(c.alcoholCaused),"L"]}),e.jsxs("span",{children:["‚âà ",K.clToShots(c.alcoholCaused)," Shots"]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold text-primary-green",children:[c.alcoholCaused,"cl"]}),e.jsx("div",{className:"text-sm text-text-muted",children:"verursacht"})]})]},d)),V.length===0&&e.jsx("div",{className:"text-center text-text-muted py-4",children:"Noch keine Tore geschossen - noch kein Alkohol verursacht!"})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"üìã Spiele & Alkohol-√úbersicht"}),e.jsx("div",{className:"text-sm text-text-muted mb-4",children:"√úbersicht √ºber alle Spiele und den dabei konsumierten Alkohol"}),e.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[i==null?void 0:i.slice().reverse().map((d,c)=>{const v=d.goalsa||0,p=d.goalsb||0,z=Math.floor((v+p)/2)*2,I=Math.floor(p/2)*2,q=Math.floor(v/2)*2;return e.jsxs("div",{className:"p-3 bg-bg-secondary rounded-lg border border-border-light",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-lg",children:[v,":",p,e.jsxs("span",{className:"text-sm text-text-muted ml-2",children:["(",d.date||"Kein Datum",")"]})]}),e.jsx("div",{className:"text-sm text-text-muted",children:"AEK vs Real Madrid"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold text-primary-green",children:[z,"cl"]}),e.jsxs("div",{className:"text-xs text-text-muted",children:[K.clToLiters(z),"L | ",K.clToShots(z)," Shots"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-2",children:[e.jsxs("div",{className:"text-center p-2 bg-blue-50 rounded",children:[e.jsxs("div",{className:"text-sm font-bold text-blue-600",children:[I,"cl"]}),e.jsx("div",{className:"text-xs text-blue-700",children:"AEK trinkt"})]}),e.jsxs("div",{className:"text-center p-2 bg-red-50 rounded",children:[e.jsxs("div",{className:"text-sm font-bold text-red-600",children:[q,"cl"]}),e.jsx("div",{className:"text-xs text-red-700",children:"Real trinkt"})]})]})]},d.id||c)}),(!i||i.length===0)&&e.jsx("div",{className:"text-center text-text-muted py-4",children:"Noch keine Spiele vorhanden"})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"üßÆ Erweiterte Alkohol-Rechner"}),e.jsx("div",{className:"text-sm text-text-muted mb-6",children:"Berechne Alkoholkonsum f√ºr Spiele und Spieltage inklusive Bier-Konsum und Blutalkohol"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"‚öΩ Spiel-Rechner"}),e.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Berechnungsmodus"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"calculatorMode",value:"manual",checked:l.mode==="manual",onChange:d=>r(c=>({...c,mode:d.target.value})),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"Manuell"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"calculatorMode",value:"automatic",checked:l.mode==="automatic",onChange:d=>r(c=>({...c,mode:d.target.value})),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"Automatisch (letzten 2 Spieltage)"})]})]}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:l.mode==="manual"?"Geben Sie Tore manuell ein":"Berechnet automatisch aus Spielen der letzten zwei Tage (heute + gestern)"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 alcohol-calculator-grid",children:[e.jsxs("div",{className:"space-y-4",children:[l.mode==="manual"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"alcohol-input-group",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"AEK Tore"}),e.jsx("input",{type:"number",min:"0",max:"20",value:l.aekGoals,onChange:d=>r(c=>({...c,aekGoals:parseInt(d.target.value)||0})),className:"w-full px-3 py-2 border border-border-light rounded-lg bg-bg-secondary text-text-primary focus:outline-none focus:ring-2 focus:ring-primary-green"})]}),e.jsxs("div",{className:"alcohol-input-group",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Real Tore"}),e.jsx("input",{type:"number",min:"0",max:"20",value:l.realGoals,onChange:d=>r(c=>({...c,realGoals:parseInt(d.target.value)||0})),className:"w-full px-3 py-2 border border-border-light rounded-lg bg-bg-secondary text-text-primary focus:outline-none focus:ring-2 focus:ring-primary-green"})]})]}),l.mode==="automatic"&&e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsx("h5",{className:"font-medium text-blue-800 mb-2",children:"üìä Automatische Berechnung"}),e.jsx("div",{className:"text-sm text-blue-700 space-y-1",children:(()=>{const d=m(),c=d.reduce((v,p)=>v+(p.goalsa||0)+(p.goalsb||0),0);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:["Spiele (letzte 2 Tage): ",d.length]}),e.jsxs("div",{children:["Gesamt-Tore: ",c]}),e.jsxs("div",{children:["Daraus resultierend: ",T(),"cl Schnaps"]})]})})()})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-bg-secondary rounded-lg alcohol-display-card",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl mb-2",children:"ü•É"}),e.jsxs("div",{className:"text-2xl font-bold text-primary-green",children:[T(),"cl"]}),e.jsx("div",{className:"text-sm text-text-muted",children:"Gesamt Schnaps"}),e.jsxs("div",{className:"text-xs text-text-muted mt-1 space-y-1",children:[e.jsxs("div",{children:["‚âà ",K.clToLiters(T()),"L"]}),e.jsxs("div",{children:["‚âà ",K.clToShots(T())," Shots"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[u(),"cl"]}),e.jsx("div",{className:"text-sm text-blue-700",children:"AEK trinkt"}),e.jsxs("div",{className:"text-xs text-blue-700",children:[K.clToShots(u())," Shots"]})]}),e.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[e.jsxs("div",{className:"text-lg font-bold text-red-600",children:[A(),"cl"]}),e.jsx("div",{className:"text-sm text-red-700",children:"Real trinkt"}),e.jsxs("div",{className:"text-xs text-red-700",children:[K.clToShots(A())," Shots"]})]})]})]})]})]}),e.jsxs("div",{className:"mb-6 border-t pt-6",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"üìÖ Spieltag-Rechner"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Spieltag (Datum)"}),e.jsx("input",{type:"date",value:l.gameDay,onChange:d=>r(c=>({...c,gameDay:d.target.value})),className:"w-full px-3 py-2 border border-border-light rounded-lg bg-bg-secondary text-text-primary focus:outline-none focus:ring-2 focus:ring-primary-green"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Bier-Anzahl (0,5L je)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-blue-600 mb-1",children:"üîµ AEK Bier"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"number",min:"0",max:"20",value:l.beerCount.aek,onChange:d=>r(c=>({...c,beerCount:{...c.beerCount,aek:parseInt(d.target.value)||0}})),className:"flex-1 px-2 py-1 border border-border-light rounded-lg bg-bg-secondary text-text-primary focus:outline-none focus:ring-2 focus:ring-primary-green",style:{fontSize:"16px"}}),e.jsx("button",{onClick:()=>r(d=>({...d,beerCount:{...d.beerCount,aek:d.beerCount.aek+1}})),className:"beer-counter-button px-2 py-1 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm",title:"0,5L Bier (5% Alkohol) f√ºr AEK hinzuf√ºgen",children:"üç∫ +0,5L"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-red-600 mb-1",children:"üî¥ Real Bier"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"number",min:"0",max:"20",value:l.beerCount.real,onChange:d=>r(c=>({...c,beerCount:{...c.beerCount,real:parseInt(d.target.value)||0}})),className:"flex-1 px-2 py-1 border border-border-light rounded-lg bg-bg-secondary text-text-primary focus:outline-none focus:ring-2 focus:ring-primary-green",style:{fontSize:"16px"}}),e.jsx("button",{onClick:()=>r(d=>({...d,beerCount:{...d.beerCount,real:d.beerCount.real+1}})),className:"beer-counter-button px-2 py-1 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors text-sm",title:"0,5L Bier (5% Alkohol) f√ºr Real hinzuf√ºgen",children:"üç∫ +0,5L"})]})]})]}),e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx("button",{onClick:()=>r(d=>({...d,beerCount:{aek:d.beerCount.aek+1,real:d.beerCount.real+1}})),className:"beer-counter-button px-3 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors text-sm",title:"0,5L Bier (5% Alkohol) f√ºr beide Teams hinzuf√ºgen",children:"üç∫üç∫ Beide +0,5L"})}),e.jsxs("div",{className:"text-xs text-text-muted mt-1",children:["AEK: ",(l.beerCount.aek*.5).toFixed(1),"L | Real: ",(l.beerCount.real*.5).toFixed(1),"L Bier (5% Alkohol)"]})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"p-4 bg-bg-secondary rounded-lg",children:[e.jsx("h5",{className:"font-medium mb-2",children:"Spieltag-Alkohol"}),e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsxs("div",{children:["Schnaps: ",T(),"cl (40% Alkohol)"]}),e.jsxs("div",{children:["AEK Bier: ",(l.beerCount.aek*.5*5).toFixed(1),"cl reiner Alkohol"]}),e.jsxs("div",{children:["Real Bier: ",(l.beerCount.real*.5*5).toFixed(1),"cl reiner Alkohol"]}),e.jsxs("div",{className:"border-t pt-1 font-semibold",children:["Gesamt: ",(T()*.4+(l.beerCount.aek+l.beerCount.real)*.5*.05).toFixed(1),"cl reiner Alkohol"]})]})]})})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"üë• Spieler-Daten & Blutalkohol"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-blue-600 mb-2",children:"üîµ Chef AEK"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"text",placeholder:"Name",value:l.playerData.aekChef.name,onChange:d=>r(c=>({...c,playerData:{...c.playerData,aekChef:{...c.playerData.aekChef,name:d.target.value}}})),className:"w-full px-3 py-2 border border-border-light rounded-lg bg-bg-secondary text-text-primary focus:outline-none focus:ring-2 focus:ring-primary-green",style:{fontSize:"16px"}}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("input",{type:"number",placeholder:"Gewicht (kg)",min:"40",max:"150",value:l.playerData.aekChef.weight,onChange:d=>r(c=>({...c,playerData:{...c.playerData,aekChef:{...c.playerData.aekChef,weight:parseInt(d.target.value)||70}}})),className:"px-3 py-2 border border-border-light rounded-lg bg-bg-secondary text-text-primary focus:outline-none focus:ring-2 focus:ring-primary-green",style:{fontSize:"16px"}}),e.jsxs("select",{value:l.playerData.aekChef.gender,onChange:d=>r(c=>({...c,playerData:{...c.playerData,aekChef:{...c.playerData.aekChef,gender:d.target.value}}})),className:"px-3 py-2 border border-border-light rounded-lg bg-bg-secondary text-text-primary focus:outline-none focus:ring-2 focus:ring-primary-green",children:[e.jsx("option",{value:"male",children:"M√§nnlich"}),e.jsx("option",{value:"female",children:"Weiblich"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-red-600 mb-2",children:"üî¥ Chef Real"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"text",placeholder:"Name",value:l.playerData.realChef.name,onChange:d=>r(c=>({...c,playerData:{...c.playerData,realChef:{...c.playerData.realChef,name:d.target.value}}})),className:"w-full px-3 py-2 border border-border-light rounded-lg bg-bg-secondary text-text-primary focus:outline-none focus:ring-2 focus:ring-primary-green",style:{fontSize:"16px"}}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("input",{type:"number",placeholder:"Gewicht (kg)",min:"40",max:"150",value:l.playerData.realChef.weight,onChange:d=>r(c=>({...c,playerData:{...c.playerData,realChef:{...c.playerData.realChef,weight:parseInt(d.target.value)||70}}})),className:"px-3 py-2 border border-border-light rounded-lg bg-bg-secondary text-text-primary focus:outline-none focus:ring-2 focus:ring-primary-green",style:{fontSize:"16px"}}),e.jsxs("select",{value:l.playerData.realChef.gender,onChange:d=>r(c=>({...c,playerData:{...c.playerData,realChef:{...c.playerData.realChef,gender:d.target.value}}})),className:"px-3 py-2 border border-border-light rounded-lg bg-bg-secondary text-text-primary focus:outline-none focus:ring-2 focus:ring-primary-green",children:[e.jsx("option",{value:"male",children:"M√§nnlich"}),e.jsx("option",{value:"female",children:"Weiblich"})]})]})]})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"p-4 bg-bg-secondary rounded-lg",children:[e.jsx("h5",{className:"font-medium mb-3",children:"üß™ Blutalkohol-Rechnung"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 border border-blue-200 rounded-lg",children:[e.jsxs("div",{className:"text-sm font-medium text-blue-600",children:[l.playerData.aekChef.name||"Chef AEK"," trinkt: ",u(),"cl"]}),(()=>{const d=l.mode==="automatic"?(()=>{const v=m(),p=v.length>0?v[v.length-1]:null;return W(u(),l.playerData.aekChef,p==null?void 0:p.date,l.beerCount.aek)})():W(Math.floor(l.realGoals/2)*2,l.playerData.aekChef,null,l.beerCount.aek),c=G(d);return e.jsxs("div",{className:`text-sm mt-2 p-2 rounded ${c.bg} ${c.border} border`,children:[e.jsxs("div",{className:`font-bold ${c.color}`,children:["BAK: ",d,"‚Ä∞"]}),e.jsx("div",{className:`text-xs ${c.color}`,children:c.status})]})})()]}),e.jsxs("div",{className:"p-3 border border-red-200 rounded-lg",children:[e.jsxs("div",{className:"text-sm font-medium text-red-600",children:[l.playerData.realChef.name||"Chef Real"," trinkt: ",A(),"cl"]}),(()=>{const d=l.mode==="automatic"?(()=>{const v=m(),p=v.length>0?v[v.length-1]:null;return W(A(),l.playerData.realChef,p==null?void 0:p.date,l.beerCount.real)})():W(Math.floor(l.aekGoals/2)*2,l.playerData.realChef,null,l.beerCount.real),c=G(d);return e.jsxs("div",{className:`text-sm mt-2 p-2 rounded ${c.bg} ${c.border} border`,children:[e.jsxs("div",{className:`font-bold ${c.color}`,children:["BAK: ",d,"‚Ä∞"]}),e.jsx("div",{className:`text-xs ${c.color}`,children:c.status})]})})()]})]}),e.jsxs("div",{className:"text-xs text-text-muted mt-3",children:[e.jsx("strong",{children:"Hinweis:"})," BAK-Berechnung ist eine N√§herung (Widmark-Formel) mit Alkoholabbau (~0.15‚Ä∞/h). Exakte Werte k√∂nnen abweichen. Automatischer Modus ber√ºcksichtigt Zeit seit letztem Spiel."]})]})})]})]}),e.jsx("div",{className:"mt-6 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"text-sm text-yellow-800",children:[e.jsx("strong",{children:"Regeln:"})," F√ºr jedes zweite Tor muss der Gegner 2cl Schnaps (40%) trinken. 0,5L Bier (5% Alkohol) entspricht 2,5cl reinem Alkohol."]})}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-bold text-lg mb-3 text-gray-800",children:"üìä BAK-Referenztabelle"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 text-sm",children:[e.jsxs("div",{className:"p-2 bg-green-100 border border-green-200 rounded text-center",children:[e.jsx("div",{className:"font-semibold text-green-800",children:"0.0‚Ä∞"}),e.jsx("div",{className:"text-xs text-green-700",children:"N√ºchtern"})]}),e.jsxs("div",{className:"p-2 bg-yellow-100 border border-yellow-200 rounded text-center",children:[e.jsx("div",{className:"font-semibold text-yellow-800",children:"0.3-0.5‚Ä∞"}),e.jsx("div",{className:"text-xs text-yellow-700",children:"Leicht beeintr√§chtigt"})]}),e.jsxs("div",{className:"p-2 bg-orange-100 border border-orange-200 rounded text-center",children:[e.jsx("div",{className:"font-semibold text-orange-800",children:"0.5-1.1‚Ä∞"}),e.jsx("div",{className:"text-xs text-orange-700",children:"Fahrunt√ºchtig"})]}),e.jsxs("div",{className:"p-2 bg-red-100 border border-red-200 rounded text-center",children:[e.jsx("div",{className:"font-semibold text-red-800",children:"1.1-2.0‚Ä∞"}),e.jsx("div",{className:"text-xs text-red-700",children:"Stark beeintr√§chtigt"})]}),e.jsxs("div",{className:"p-2 bg-red-200 border border-red-400 rounded text-center",children:[e.jsx("div",{className:"font-semibold text-red-900",children:"2.0+‚Ä∞"}),e.jsx("div",{className:"text-xs text-red-800",children:"Lebensgef√§hrlich"})]})]}),e.jsxs("div",{className:"mt-3 text-xs text-gray-600",children:[e.jsx("strong",{children:"Wichtig:"})," Dies ist nur eine grobe Orientierung. Individuelle Faktoren k√∂nnen stark abweichen. Bei hohen Werten bitte medizinische Hilfe suchen!"]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"modern-card border-l-4 border-blue-400",children:[e.jsx("h3",{className:"font-bold text-lg mb-4 text-blue-600",children:"üîµ AEK Alkohol-Bilanz"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Getrunken (durch Real Tore):"}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-semibold text-red-600",children:[o.aekShots,"cl"]}),e.jsxs("div",{className:"text-xs text-text-muted",children:[K.clToLiters(o.aekShots),"L | ",K.clToShots(o.aekShots)," Shots"]})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Verursacht (durch AEK Tore):"}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-semibold text-green-600",children:[o.realShots,"cl"]}),e.jsxs("div",{className:"text-xs text-text-muted",children:[K.clToLiters(o.realShots),"L | ",K.clToShots(o.realShots)," Shots"]})]})]}),e.jsxs("div",{className:"flex justify-between border-t pt-2",children:[e.jsx("span",{className:"font-medium",children:"Alkohol-Bilanz:"}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`font-bold ${o.realShots>o.aekShots?"text-green-600":"text-red-600"}`,children:[o.realShots>o.aekShots?"+":"",o.realShots-o.aekShots,"cl"]}),e.jsxs("div",{className:"text-xs text-text-muted",children:[K.clToShots(Math.abs(o.realShots-o.aekShots))," Shots Differenz"]})]})]}),e.jsx("div",{className:"text-xs text-text-muted",children:o.realShots>o.aekShots?"AEK verursacht mehr als getrunken":"AEK trinkt mehr als verursacht"})]})]}),e.jsxs("div",{className:"modern-card border-l-4 border-red-400",children:[e.jsx("h3",{className:"font-bold text-lg mb-4 text-red-600",children:"üî¥ Real Alkohol-Bilanz"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Getrunken (durch AEK Tore):"}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-semibold text-red-600",children:[o.realShots,"cl"]}),e.jsxs("div",{className:"text-xs text-text-muted",children:[K.clToLiters(o.realShots),"L | ",K.clToShots(o.realShots)," Shots"]})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Verursacht (durch Real Tore):"}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-semibold text-green-600",children:[o.aekShots,"cl"]}),e.jsxs("div",{className:"text-xs text-text-muted",children:[K.clToLiters(o.aekShots),"L | ",K.clToShots(o.aekShots)," Shots"]})]})]}),e.jsxs("div",{className:"flex justify-between border-t pt-2",children:[e.jsx("span",{className:"font-medium",children:"Alkohol-Bilanz:"}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`font-bold ${o.aekShots>o.realShots?"text-green-600":"text-red-600"}`,children:[o.aekShots>o.realShots?"+":"",o.aekShots-o.realShots,"cl"]}),e.jsxs("div",{className:"text-xs text-text-muted",children:[K.clToShots(Math.abs(o.aekShots-o.realShots))," Shots Differenz"]})]})]}),e.jsx("div",{className:"text-xs text-text-muted",children:o.aekShots>o.realShots?"Real verursacht mehr als getrunken":"Real trinkt mehr als verursacht"})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"üìà Zus√§tzliche Alkohol-Statistiken"}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-purple-50 to-indigo-50 rounded-lg border border-purple-200",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[B>0?(o.totalShots/B).toFixed(1):"0.0","cl"]}),e.jsx("div",{className:"text-sm text-purple-700",children:"‚åÄ Alkohol pro Spiel"}),e.jsx("div",{className:"text-xs text-purple-600 mt-1",children:"Durchschnittlicher Schnaps-Konsum"})]}),e.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-orange-50 to-red-50 rounded-lg border border-orange-200",children:[e.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[(i==null?void 0:i.reduce((c,v)=>{const p=(v.goalsa||0)+(v.goalsb||0),z=Math.floor(p/2)*2;return z>c?z:c},0))||0,"cl"]}),e.jsx("div",{className:"text-sm text-orange-700",children:"üî• H√∂chster Alkohol-Verbrauch"}),e.jsx("div",{className:"text-xs text-orange-600 mt-1",children:"In einem einzelnen Spiel"})]}),e.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:(()=>{const d=(i==null?void 0:i.filter(v=>{const p=(v.goalsa||0)+(v.goalsb||0);return Math.floor(p/2)*2===0}).length)||0,c=(i==null?void 0:i.filter(v=>{const p=(v.goalsa||0)+(v.goalsb||0),z=Math.floor(p/2)*2;return z>0&&z<=4}).length)||0;return`${d}/${c}`})()}),e.jsx("div",{className:"text-sm text-green-700",children:"üö´ N√ºchterne/Wenig-Alkohol Spiele"}),e.jsx("div",{className:"text-xs text-green-600 mt-1",children:"Alkoholfrei / Wenig Alkohol (‚â§4cl)"})]}),e.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-yellow-50 to-amber-50 rounded-lg border border-yellow-200",children:[e.jsx("div",{className:"text-2xl font-bold text-amber-600",children:(()=>{const d=(i==null?void 0:i.filter(p=>{const z=(p.goalsa||0)+(p.goalsb||0);return Math.floor(z/2)*2>=10}).length)||0,c=(i==null?void 0:i.length)||0,v=c>0?(d/c*100).toFixed(0):0;return`${d} (${v}%)`})()}),e.jsx("div",{className:"text-sm text-amber-700",children:"üçª Starke Alkohol-Spiele"}),e.jsx("div",{className:"text-xs text-amber-600 mt-1",children:"Spiele mit ‚â•10cl Alkohol"})]})]})]})]})},Oe=()=>{switch(t){case"dashboard":return e.jsx(rs,{onNavigate:s});case"players":return We();case"teams":return Be();case"trends":return Ve();case"alkohol":return Ie();case"advanced":return e.jsx(Ue,{});case"playeranalytics":return e.jsx(is,{});case"matchprediction":return e.jsx(ys,{});case"financialanalytics":return e.jsx(Is,{});default:return ze()}};return e.jsxs("div",{className:"p-4 pb-24 mobile-safe-bottom",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-2",children:"üìä Statistiken"}),e.jsx("p",{className:"text-text-muted",children:"Umfassende Analyse von Spielen, Spielern und Teams"})]}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"icon-only-nav flex overflow-x-auto space-x-2 pb-2 scroll-indicator-container",children:Le.map(x=>e.jsxs("button",{onClick:()=>a(x.id),className:`stats-nav-button flex items-center space-x-2 px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${t===x.id?"bg-primary-green text-white":"bg-bg-secondary text-text-muted hover:bg-bg-tertiary"}`,title:x.label,"aria-label":x.label,children:[e.jsx("span",{children:x.icon}),e.jsx("span",{className:"font-medium hidden sm:inline",children:x.label})]},x.id))}),e.jsx("div",{className:"absolute left-0 top-1/2 transform -translate-y-1/2 w-4 h-8 bg-gradient-to-r from-bg-primary to-transparent pointer-events-none opacity-50 md:hidden"}),e.jsx("div",{className:"absolute right-0 top-1/2 transform -translate-y-1/2 w-4 h-8 bg-gradient-to-l from-bg-primary to-transparent pointer-events-none opacity-50 md:hidden"})]}),e.jsx("div",{className:"form-container",children:Oe()})]})}export{Xs as default};
