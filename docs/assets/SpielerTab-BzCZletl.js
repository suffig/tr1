import{r as N,j as e,L as w}from"./index-DDMJU8Si.js";import{u as f}from"./useSupabase-tF-njSao.js";function T(){const[i,d]=N.useState("tore"),{data:o,loading:g}=f("matches","*"),{data:c,loading:b}=f("players","*"),j=g||b,y=()=>{if(!o||!c)return[];const s={};return o.forEach(t=>{t.torschuetzen&&t.torschuetzen.split(",").map(a=>a.trim()).forEach(a=>{a&&(s[a]=(s[a]||0)+1)})}),Object.entries(s).map(([t,r])=>({name:t,goals:r,player:c.find(a=>a.name===t)})).sort((t,r)=>r.goals-t.goals).slice(0,10)},v=()=>{if(!o||!c)return[];const s={};return o.forEach(t=>{if(t.spieler_des_spiels){const r=t.spieler_des_spiels.trim();r&&(s[r]=(s[r]||0)+1)}}),Object.entries(s).map(([t,r])=>({name:t,awards:r,player:c.find(a=>a.name===t)})).sort((t,r)=>r.awards-t.awards).slice(0,10)},x=s=>s==="Ehemalige"?e.jsx("span",{className:"w-3 h-3 bg-slate-400 rounded-full inline-block mr-2"}):s==="AEK"?e.jsx("span",{className:"w-3 h-3 bg-blue-400 rounded-full inline-block mr-2"}):s==="Real"?e.jsx("span",{className:"w-3 h-3 bg-purple-400 rounded-full inline-block mr-2"}):e.jsx("span",{className:"w-3 h-3 bg-gray-400 rounded-full inline-block mr-2"}),m=s=>s===0?e.jsx("span",{className:"text-2xl mr-2",children:"ü•á"}):s===1?e.jsx("span",{className:"text-2xl mr-2",children:"ü•à"}):s===2?e.jsx("span",{className:"text-2xl mr-2",children:"ü•â"}):null,h=(s,l)=>{const t="modern-card transition-all duration-300";if(l<3){if(s==="AEK")return`${t} bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200`;if(s==="Real")return`${t} bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200`;if(s==="Ehemalige")return`${t} bg-gradient-to-br from-slate-50 to-slate-100 border-slate-200`}return t};if(j)return e.jsx(w,{message:"Lade Spieler-Statistiken..."});const p=y(),u=v();return e.jsxs("div",{className:"p-4 pb-20",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-4",children:"Spieler-√úbersicht"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("button",{onClick:()=>d("tore"),className:`flex-1 transition-all duration-150 font-bold rounded-xl px-4 py-3 shadow-lg focus:ring-2 focus:outline-none min-h-[48px] text-sm sm:text-base ${i==="tore"?"bg-gradient-to-r from-blue-400 to-blue-600 text-white hover:from-blue-500 hover:to-blue-700 focus:ring-blue-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 hover:from-gray-200 hover:to-gray-300 focus:ring-gray-300"}`,children:[e.jsx("i",{className:"fas fa-futbol mr-2"}),"Torsch√ºtzen"]}),e.jsxs("button",{onClick:()=>d("sds"),className:`flex-1 transition-all duration-150 font-bold rounded-xl px-4 py-3 shadow-lg focus:ring-2 focus:outline-none min-h-[48px] text-sm sm:text-base ${i==="sds"?"bg-gradient-to-r from-yellow-300 to-yellow-500 text-yellow-900 hover:from-yellow-400 hover:to-yellow-600 focus:ring-yellow-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 hover:from-gray-200 hover:to-gray-300 focus:ring-gray-300"}`,children:[e.jsx("i",{className:"fas fa-star mr-2"}),"Spieler des Spiels"]})]})]}),e.jsxs("div",{id:"spieler-content",children:[i==="tore"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"üèÜ Top Torsch√ºtzen"}),p.length>0?e.jsx("div",{className:"space-y-3",children:p.map((s,l)=>{var t,r,a,n;return e.jsx("div",{className:h((t=s.player)==null?void 0:t.team,l),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[m(l),x((r=s.player)==null?void 0:r.team),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-text-primary",children:s.name}),e.jsxs("div",{className:"text-sm text-text-muted",children:[((a=s.player)==null?void 0:a.position)||"Unbekannt"," ‚Ä¢ ",((n=s.player)==null?void 0:n.team)||"Unbekannt"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-green",children:s.goals}),e.jsx("div",{className:"text-xs text-text-muted",children:s.goals===1?"Tor":"Tore"})]})]})},s.name)})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-4",children:"‚öΩ"}),e.jsx("p",{className:"text-text-muted",children:"Noch keine Torsch√ºtzen verf√ºgbar"})]})]}),i==="sds"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"‚≠ê Top Spieler des Spiels"}),u.length>0?e.jsx("div",{className:"space-y-3",children:u.map((s,l)=>{var t,r,a,n;return e.jsx("div",{className:h((t=s.player)==null?void 0:t.team,l),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[m(l),x((r=s.player)==null?void 0:r.team),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-text-primary",children:s.name}),e.jsxs("div",{className:"text-sm text-text-muted",children:[((a=s.player)==null?void 0:a.position)||"Unbekannt"," ‚Ä¢ ",((n=s.player)==null?void 0:n.team)||"Unbekannt"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-accent-orange",children:s.awards}),e.jsx("div",{className:"text-xs text-text-muted",children:s.awards===1?"Auszeichnung":"Auszeichnungen"})]})]})},s.name)})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-4",children:"‚≠ê"}),e.jsx("p",{className:"text-text-muted",children:"Noch keine Spieler des Spiels verf√ºgbar"})]})]})]})]})}export{T as default};
