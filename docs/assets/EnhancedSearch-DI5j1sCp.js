import{r as g,j as t}from"./index-CkuXuksq.js";function F({data:l=[],searchFields:d=[],filterOptions:i=[],onResults:m,placeholder:C="Suchen...",showCount:k=!0}){const[c,y]=g.useState(""),[u,v]=g.useState({}),[o,f]=g.useState(""),[x,j]=g.useState("asc"),p=g.useMemo(()=>{let e=[...l];if(c.trim()){const s=c.toLowerCase().trim();e=e.filter(a=>d.some(n=>{const r=h(a,n);return r&&r.toString().toLowerCase().includes(s)}))}return Object.entries(u).forEach(([s,a])=>{if(a&&a!=="all"){const n=i.find(r=>r.key===s);n&&n.filterFn?e=e.filter(r=>n.filterFn(r,a)):e=e.filter(r=>h(r,s)===a)}}),o&&e.sort((s,a)=>{const n=h(s,o),r=h(a,o);let b=0;return typeof n=="number"&&typeof r=="number"?b=n-r:n instanceof Date&&r instanceof Date?b=n.getTime()-r.getTime():b=String(n).localeCompare(String(r)),x==="desc"?-b:b}),e},[l,c,u,o,x,d,i]);g.useMemo(()=>{m==null||m(p)},[p,m]);const w=(e,s)=>{v(a=>({...a,[e]:s}))},A=e=>{o===e?j(x==="asc"?"desc":"asc"):(f(e),j("asc"))},E=()=>{y(""),v({}),f(""),j("asc")},N=c||Object.values(u).some(e=>e&&e!=="all")||o;return t.jsxs("div",{className:"bg-bg-primary border border-border-light rounded-lg shadow-sm mb-4",children:[t.jsx("div",{className:"p-4 border-b border-border-light",children:t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:t.jsx("span",{className:"text-text-secondary","aria-hidden":"true",children:"🔍"})}),t.jsx("input",{type:"text",value:c,onChange:e=>y(e.target.value),placeholder:C,className:"w-full pl-10 pr-10 py-2 bg-bg-secondary border border-border-light rounded-lg text-text-primary placeholder-text-secondary focus:outline-none focus:ring-2 focus:ring-primary-green focus:border-transparent"}),c&&t.jsx("button",{onClick:()=>y(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-text-secondary hover:text-text-primary",children:t.jsx("span",{"aria-hidden":"true",children:"✕"})})]})}),(i.length>0||o)&&t.jsx("div",{className:"p-4 border-b border-border-light",children:t.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[i.map(e=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("label",{className:"text-sm font-medium text-text-primary",children:[e.label,":"]}),t.jsxs("select",{value:u[e.key]||"",onChange:s=>w(e.key,s.target.value),className:"px-3 py-1 bg-bg-secondary border border-border-light rounded text-sm text-text-primary focus:outline-none focus:ring-2 focus:ring-primary-green",children:[t.jsx("option",{value:"",children:"Alle"}),e.options.map(s=>t.jsx("option",{value:s.value,children:s.label},s.value))]})]},e.key)),d.length>0&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("label",{className:"text-sm font-medium text-text-primary",children:"Sortieren:"}),t.jsxs("select",{value:o,onChange:e=>f(e.target.value),className:"px-3 py-1 bg-bg-secondary border border-border-light rounded text-sm text-text-primary focus:outline-none focus:ring-2 focus:ring-primary-green",children:[t.jsx("option",{value:"",children:"Standard"}),d.map(e=>t.jsx("option",{value:e,children:S(e)},e))]}),o&&t.jsx("button",{onClick:()=>A(o),className:"px-2 py-1 bg-bg-secondary border border-border-light rounded text-sm text-text-primary hover:bg-bg-tertiary transition-colors duration-200",title:`Sortierung: ${x==="asc"?"Aufsteigend":"Absteigend"}`,children:x==="asc"?"↑":"↓"})]}),N&&t.jsx("button",{onClick:E,className:"px-3 py-1 bg-red-100 text-red-800 border border-red-200 rounded text-sm hover:bg-red-200 transition-colors duration-200",children:"Filter zurücksetzen"})]})}),k&&t.jsx("div",{className:"px-4 py-2 bg-bg-secondary border-b border-border-light",children:t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-text-secondary",children:p.length===l.length?`${l.length} Einträge`:`${p.length} von ${l.length} Einträgen`}),N&&t.jsxs("div",{className:"flex items-center gap-2",children:[c&&t.jsxs("span",{className:"bg-primary-green bg-opacity-10 text-primary-green px-2 py-1 rounded text-xs",children:['🔍 "',c,'"']}),Object.entries(u).filter(([,e])=>e&&e!=="all").map(([e,s])=>{const a=i.find(r=>r.key===e),n=a==null?void 0:a.options.find(r=>r.value===s);return t.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs",children:[a==null?void 0:a.label,": ",(n==null?void 0:n.label)||s]},e)}),o&&t.jsxs("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs",children:["📊 ",S(o)," ",x==="asc"?"↑":"↓"]})]})]})})]})}function h(l,d){return d.split(".").reduce((i,m)=>i==null?void 0:i[m],l)}function S(l){return{name:"Name",team:"Team",position:"Position",value:"Wert",date:"Datum",goalsa:"AEK Tore",goalsb:"Real Tore",type:"Typ",amount:"Betrag",description:"Beschreibung",totalgames:"Gesamt Spiele",matchesserved:"Gespielte Spiele"}[l]||l.charAt(0).toUpperCase()+l.slice(1)}export{F as E};
