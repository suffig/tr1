import{j as e,L as F}from"./index-BjZB2Rii.js";import{u as y}from"./useSupabase-D-rP1CVJ.js";function G(){const{data:a,loading:w}=y("matches","*"),{data:l,loading:k}=y("players","*"),M=w||k,r=(a==null?void 0:a.length)||0,E=(l==null?void 0:l.length)||0,h=(l==null?void 0:l.filter(t=>t.team==="AEK"))||[],N=(l==null?void 0:l.filter(t=>t.team==="Real"))||[],b=(a==null?void 0:a.reduce((t,s)=>t+(s.goalsa||0)+(s.goalsb||0),0))||0,u=h.reduce((t,s)=>t+(s.value||0),0),v=N.reduce((t,s)=>t+(s.value||0),0),A=u+v,K=()=>{const t={};return a==null||a.forEach(s=>{var i,m;(i=s.goalslista)==null||i.forEach(n=>{const x=typeof n=="object"&&n!==null,c=x?n.player:n,o=x&&n.count||1;if(!t[c]){const d=l==null?void 0:l.find(j=>j.name===c);t[c]={name:c,goals:0,team:(d==null?void 0:d.team)||"AEK",value:(d==null?void 0:d.value)||0}}t[c].goals+=o}),(m=s.goalslistb)==null||m.forEach(n=>{const x=typeof n=="object"&&n!==null,c=x?n.player:n,o=x&&n.count||1;if(!t[c]){const d=l==null?void 0:l.find(j=>j.name===c);t[c]={name:c,goals:0,team:(d==null?void 0:d.team)||"Real",value:(d==null?void 0:d.value)||0}}t[c].goals+=o})}),Object.values(t).sort((s,i)=>i.goals-s.goals).slice(0,5)},T=()=>{const t={};return a==null||a.forEach(s=>{if(s.manofthematch){if(!t[s.manofthematch]){const i=l==null?void 0:l.find(m=>m.name===s.manofthematch);t[s.manofthematch]={name:s.manofthematch,count:0,team:(i==null?void 0:i.team)||"Unbekannt",value:(i==null?void 0:i.value)||0}}t[s.manofthematch].count++}}),Object.values(t).sort((s,i)=>i.count-s.count).slice(0,5)},f=K(),g=T(),p=(a==null?void 0:a.filter(t=>t.teama==="AEK"&&t.goalsa>t.goalsb||t.teamb==="AEK"&&t.goalsb>t.goalsa).length)||0,S=(a==null?void 0:a.filter(t=>t.teama==="Real"&&t.goalsa>t.goalsb||t.teamb==="Real"&&t.goalsb>t.goalsa).length)||0;return M?e.jsx(F,{message:"Lade Statistiken..."}):e.jsxs("div",{className:"p-4 pb-20",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-2",children:"Statistiken"}),e.jsx("p",{className:"text-text-muted",children:"Übersicht über alle wichtigen Zahlen"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-primary-green mb-2",children:r}),e.jsx("div",{className:"text-sm text-text-muted",children:"Gesamt Spiele"})]}),e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-accent-orange mb-2",children:b}),e.jsx("div",{className:"text-sm text-text-muted",children:"Gesamt Tore"})]}),e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-accent-blue mb-2",children:E}),e.jsx("div",{className:"text-sm text-text-muted",children:"Gesamt Spieler"})]}),e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-text-primary mb-2",children:r>0?(b/r).toFixed(1):"0.0"}),e.jsx("div",{className:"text-sm text-text-muted",children:"⌀ Tore/Spiel"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"Marktwert-Statistiken"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"modern-card text-center border-l-4 border-blue-400",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600 mb-2",children:[u.toFixed(1),"M €"]}),e.jsx("div",{className:"text-sm text-text-muted",children:"AEK Kaderwert"})]}),e.jsxs("div",{className:"modern-card text-center border-l-4 border-red-400",children:[e.jsxs("div",{className:"text-2xl font-bold text-red-600 mb-2",children:[v.toFixed(1),"M €"]}),e.jsx("div",{className:"text-sm text-text-muted",children:"Real Kaderwert"})]}),e.jsxs("div",{className:"modern-card text-center border-l-4 border-green-400",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600 mb-2",children:[A.toFixed(1),"M €"]}),e.jsx("div",{className:"text-sm text-text-muted",children:"Gesamt Kaderwert"})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"Team-Statistiken"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"modern-card border-l-4 border-blue-400",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("span",{className:"text-2xl mr-3",children:"🔵"}),e.jsx("h4",{className:"text-lg font-semibold text-blue-600",children:"AEK Athen"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-text-muted",children:"Spieler:"}),e.jsx("span",{className:"font-medium",children:h.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-text-muted",children:"Siege:"}),e.jsx("span",{className:"font-medium text-primary-green",children:p})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-text-muted",children:"Siegesrate:"}),e.jsxs("span",{className:"font-medium",children:[r>0?(p/r*100).toFixed(1):"0.0","%"]})]})]})]}),e.jsxs("div",{className:"modern-card border-l-4 border-purple-400",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("span",{className:"text-2xl mr-3",children:"🟣"}),e.jsx("h4",{className:"text-lg font-semibold text-purple-600",children:"Real Madrid"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-text-muted",children:"Spieler:"}),e.jsx("span",{className:"font-medium",children:N.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-text-muted",children:"Siege:"}),e.jsx("span",{className:"font-medium text-primary-green",children:S})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-text-muted",children:"Siegesrate:"}),e.jsxs("span",{className:"font-medium",children:[r>0?(S/r*100).toFixed(1):"0.0","%"]})]})]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"⚽ Top Torschützen"}),f.length>0?e.jsx("div",{className:"space-y-3",children:f.map((t,s)=>e.jsx("div",{className:"modern-card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:`text-2xl font-bold ${s===0?"text-yellow-500":s===1?"text-gray-400":s===2?"text-orange-600":"text-text-muted"}`,children:["#",s+1]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-text-primary",children:t.name}),e.jsxs("div",{className:"text-sm text-text-muted",children:[t.team," • Marktwert: ",t.value.toFixed(1),"M €"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-green",children:t.goals}),e.jsx("div",{className:"text-xs text-text-muted",children:"Tore"})]})]})},t.name))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-4",children:"⚽"}),e.jsx("p",{className:"text-text-muted",children:"Noch keine Torschützen verfügbar"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"⭐ Spieler des Spiels (SdS)"}),g.length>0?e.jsx("div",{className:"space-y-3",children:g.map((t,s)=>e.jsx("div",{className:"modern-card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:`text-2xl font-bold ${s===0?"text-yellow-500":s===1?"text-gray-400":s===2?"text-orange-600":"text-text-muted"}`,children:["#",s+1]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-text-primary",children:t.name}),e.jsxs("div",{className:"text-sm text-text-muted",children:[t.team," • Marktwert: ",t.value.toFixed(1),"M €"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:t.count}),e.jsx("div",{className:"text-xs text-text-muted",children:"SdS"})]})]})},t.name))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-4",children:"⭐"}),e.jsx("p",{className:"text-text-muted",children:"Noch keine Spieler des Spiels vergeben"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"Letzte Aktivität"}),a&&a.length>0?e.jsx("div",{className:"space-y-3",children:a.sort((t,s)=>new Date(s.date)-new Date(t.date)).slice(0,5).map(t=>e.jsx("div",{className:"modern-card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-text-primary",children:[t.teama," vs ",t.teamb]}),e.jsx("div",{className:"text-sm text-text-muted",children:new Date(t.date).toLocaleDateString("de-DE")})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"text-lg font-bold text-text-primary",children:[t.goalsa," : ",t.goalsb]})})]})},t.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-4",children:"📊"}),e.jsx("p",{className:"text-text-muted",children:"Noch keine Spiele für Statistiken verfügbar"})]})]}),e.jsx("div",{className:"modern-card bg-blue-50 border-blue-200",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"text-blue-600 mr-3",children:e.jsx("i",{className:"fas fa-info-circle"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-1",children:"Statistiken-Modul"}),e.jsx("p",{className:"text-blue-700 text-sm",children:"Grundlegende Statistiken sind implementiert. Erweiterte Analysen und Charts können bei Bedarf hinzugefügt werden."})]})]})})]})}export{G as default};
