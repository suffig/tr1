import{r as j,j as e,L as w}from"./index-DMFQIllG.js";import f from"./BansTab-CiCF9P7-.js";import{u as g}from"./useSupabase-D--VuRvA.js";function T(){const[i,d]=j.useState("tore"),{data:o,loading:x}=g("matches","*"),{data:l,loading:y}=g("players","*"),v=x||y,N=()=>{if(!o||!l)return[];const s={};return o.forEach(t=>{t.torschuetzen&&t.torschuetzen.split(",").map(a=>a.trim()).forEach(a=>{a&&(s[a]=(s[a]||0)+1)})}),Object.entries(s).map(([t,r])=>({name:t,goals:r,player:l.find(a=>a.name===t)})).sort((t,r)=>r.goals-t.goals).slice(0,10)},S=()=>{if(!o||!l)return[];const s={};return o.forEach(t=>{if(t.spieler_des_spiels){const r=t.spieler_des_spiels.trim();r&&(s[r]=(s[r]||0)+1)}}),Object.entries(s).map(([t,r])=>({name:t,awards:r,player:l.find(a=>a.name===t)})).sort((t,r)=>r.awards-t.awards).slice(0,10)},m=s=>s==="Ehemalige"?e.jsx("span",{className:"w-3 h-3 bg-slate-400 rounded-full inline-block mr-2"}):s==="AEK"?e.jsx("span",{className:"w-3 h-3 bg-blue-400 rounded-full inline-block mr-2"}):s==="Real"?e.jsx("span",{className:"w-3 h-3 bg-purple-400 rounded-full inline-block mr-2"}):e.jsx("span",{className:"w-3 h-3 bg-gray-400 rounded-full inline-block mr-2"}),u=s=>s===0?e.jsx("span",{className:"text-2xl mr-2",children:"🥇"}):s===1?e.jsx("span",{className:"text-2xl mr-2",children:"🥈"}):s===2?e.jsx("span",{className:"text-2xl mr-2",children:"🥉"}):null,p=(s,n)=>{const t="modern-card transition-all duration-300";if(n<3){if(s==="AEK")return`${t} bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200`;if(s==="Real")return`${t} bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200`;if(s==="Ehemalige")return`${t} bg-gradient-to-br from-slate-50 to-slate-100 border-slate-200`}return t};if(v)return e.jsx(w,{message:"Lade Spieler-Statistiken..."});const b=N(),h=S();return e.jsxs("div",{className:"p-4 pb-20",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-4",children:"Spieler-Übersicht"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("button",{onClick:()=>d("tore"),className:`flex-1 transition-all duration-150 font-bold rounded-xl px-4 py-3 shadow-lg focus:ring-2 focus:outline-none min-h-[48px] text-sm sm:text-base ${i==="tore"?"bg-gradient-to-r from-blue-400 to-blue-600 text-white hover:from-blue-500 hover:to-blue-700 focus:ring-blue-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 hover:from-gray-200 hover:to-gray-300 focus:ring-gray-300"}`,children:[e.jsx("i",{className:"fas fa-futbol mr-2"}),"Torschützen"]}),e.jsxs("button",{onClick:()=>d("sds"),className:`flex-1 transition-all duration-150 font-bold rounded-xl px-4 py-3 shadow-lg focus:ring-2 focus:outline-none min-h-[48px] text-sm sm:text-base ${i==="sds"?"bg-gradient-to-r from-yellow-300 to-yellow-500 text-yellow-900 hover:from-yellow-400 hover:to-yellow-600 focus:ring-yellow-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 hover:from-gray-200 hover:to-gray-300 focus:ring-gray-300"}`,children:[e.jsx("i",{className:"fas fa-star mr-2"}),"Spieler des Spiels"]})]})]}),e.jsxs("div",{id:"spieler-content",children:[i==="tore"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"🏆 Top Torschützen"}),b.length>0?e.jsx("div",{className:"space-y-3",children:b.map((s,n)=>{var t,r,a,c;return e.jsx("div",{className:p((t=s.player)==null?void 0:t.team,n),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[u(n),m((r=s.player)==null?void 0:r.team),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-text-primary",children:s.name}),e.jsxs("div",{className:"text-sm text-text-muted",children:[((a=s.player)==null?void 0:a.position)||"Unbekannt"," • ",((c=s.player)==null?void 0:c.team)||"Unbekannt"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-green",children:s.goals}),e.jsx("div",{className:"text-xs text-text-muted",children:s.goals===1?"Tor":"Tore"})]})]})},s.name)})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-4",children:"⚽"}),e.jsx("p",{className:"text-text-muted",children:"Noch keine Torschützen verfügbar"})]})]}),i==="sds"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"⭐ Top Spieler des Spiels"}),h.length>0?e.jsx("div",{className:"space-y-3",children:h.map((s,n)=>{var t,r,a,c;return e.jsx("div",{className:p((t=s.player)==null?void 0:t.team,n),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[u(n),m((r=s.player)==null?void 0:r.team),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-text-primary",children:s.name}),e.jsxs("div",{className:"text-sm text-text-muted",children:[((a=s.player)==null?void 0:a.position)||"Unbekannt"," • ",((c=s.player)==null?void 0:c.team)||"Unbekannt"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-accent-orange",children:s.awards}),e.jsx("div",{className:"text-xs text-text-muted",children:s.awards===1?"Auszeichnung":"Auszeichnungen"})]})]})},s.name)})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-4",children:"⭐"}),e.jsx("p",{className:"text-text-muted",children:"Noch keine Spieler des Spiels verfügbar"})]})]})]})]})}function A(){const[i,d]=j.useState("bans"),o=[{id:"bans",label:"Sperren",icon:"fas fa-ban"},{id:"spieler",label:"Spieler",icon:"fas fa-star"}],x=()=>{switch(i){case"bans":return e.jsx(f,{});case"spieler":return e.jsx(T,{});default:return e.jsx(f,{})}};return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"bg-bg-secondary border-b border-border-light mb-4",children:e.jsx("div",{className:"flex",children:o.map(l=>e.jsxs("button",{onClick:()=>d(l.id),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${i===l.id?"text-primary border-b-2 border-primary bg-bg-primary":"text-text-secondary hover:text-text-primary hover:bg-bg-hover"}`,children:[e.jsx("i",{className:`${l.icon} mr-2`}),l.label]},l.id))})}),e.jsx("div",{className:"flex-1",children:x()})]})}export{A as default};
