import{r as x,j as e}from"./index-CkcE2VlK.js";import{a as j,u as k}from"./useSupabase-k8lW7j4T.js";function g(){const{insert:m}=j("matches"),{data:u}=k("players","*"),[o,l]=x.useState(!1),[t,n]=x.useState({teama:"",teamb:"",date:new Date().toISOString().split("T")[0],goalsa:0,goalsb:0,yellowa:0,reda:0,yellowb:0,redb:0,prizeaek:0,prizereal:0,manofthematch:""}),[i,c]=x.useState(!1),d=(s,r)=>{n(h=>({...h,[s]:r}))},b=async s=>{s.preventDefault(),c(!0);try{await m({date:t.date,teama:t.teama.trim(),teamb:t.teamb.trim(),goalsa:parseInt(t.goalsa)||0,goalsb:parseInt(t.goalsb)||0,goalslista:[],goalslistb:[],yellowa:parseInt(t.yellowa)||0,reda:parseInt(t.reda)||0,yellowb:parseInt(t.yellowb)||0,redb:parseInt(t.redb)||0,manofthematch:t.manofthematch?parseInt(t.manofthematch):null,prizeaek:parseInt(t.prizeaek)||0,prizereal:parseInt(t.prizereal)||0}),n({teama:"",teamb:"",date:new Date().toISOString().split("T")[0],goalsa:0,goalsb:0,yellowa:0,reda:0,yellowb:0,redb:0,prizeaek:0,prizereal:0,manofthematch:""}),l(!1),alert("Spiel erfolgreich hinzugefügt!")}catch(r){alert("Fehler beim Hinzufügen des Spiels: "+r.message)}finally{c(!1)}},a=t.teama&&t.teamb&&t.date;return e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:"Neues Spiel hinzufügen"}),e.jsx("p",{className:"text-text-muted text-sm",children:"Fügen Sie ein neues Spiel zur Datenbank hinzu."})]}),e.jsx("div",{className:"modern-card",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-4",children:"⚽"}),e.jsx("h4",{className:"text-lg font-medium text-text-primary mb-2",children:"Spiel hinzufügen"}),e.jsx("p",{className:"text-text-muted mb-6",children:"Klicken Sie auf den Button, um ein neues Spiel zu erfassen."}),e.jsxs("button",{onClick:()=>l(!0),className:"btn-primary",children:[e.jsx("i",{className:"fas fa-plus mr-2"}),"Neues Spiel erfassen"]})]})}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-bg-secondary rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-text-primary",children:"Neues Spiel"}),e.jsx("button",{onClick:()=>l(!1),className:"text-text-muted hover:text-text-primary text-2xl",disabled:i,children:"×"})]}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Heimteam *"}),e.jsx("input",{type:"text",value:t.teama,onChange:s=>d("teama",s.target.value),className:"form-input",placeholder:"z.B. AEK Athen",required:!0,disabled:i})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Gastteam *"}),e.jsx("input",{type:"text",value:t.teamb,onChange:s=>d("teamb",s.target.value),className:"form-input",placeholder:"z.B. Real Madrid",required:!0,disabled:i})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Datum *"}),e.jsx("input",{type:"date",value:t.date,onChange:s=>d("date",s.target.value),className:"form-input",required:!0,disabled:i})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Tore Heimteam"}),e.jsx("input",{type:"number",min:"0",value:t.goalsa,onChange:s=>d("goalsa",s.target.value),className:"form-input",disabled:i})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Tore Gastteam"}),e.jsx("input",{type:"number",min:"0",value:t.goalsb,onChange:s=>d("goalsb",s.target.value),className:"form-input",disabled:i})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-text-primary mb-3",children:"🟨🟥 Karten"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Heimteam"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"🟨 Gelbe Karten"}),e.jsx("input",{type:"number",min:"0",value:t.yellowa,onChange:s=>d("yellowa",s.target.value),className:"form-input",disabled:i})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"🟥 Rote Karten"}),e.jsx("input",{type:"number",min:"0",value:t.reda,onChange:s=>d("reda",s.target.value),className:"form-input",disabled:i})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-xs text-red-600 font-medium",children:"Gastteam"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"🟨 Gelbe Karten"}),e.jsx("input",{type:"number",min:"0",value:t.yellowb,onChange:s=>d("yellowb",s.target.value),className:"form-input",disabled:i})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"🟥 Rote Karten"}),e.jsx("input",{type:"number",min:"0",value:t.redb,onChange:s=>d("redb",s.target.value),className:"form-input",disabled:i})]})]})]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-text-primary mb-3",children:"💰 Preisgelder"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Preisgeld AEK (€)"}),e.jsx("input",{type:"number",min:"0",value:t.prizeaek,onChange:s=>d("prizeaek",s.target.value),className:"form-input",placeholder:"0",disabled:i})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Preisgeld Real (€)"}),e.jsx("input",{type:"number",min:"0",value:t.prizereal,onChange:s=>d("prizereal",s.target.value),className:"form-input",placeholder:"0",disabled:i})]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-text-primary mb-3",children:"⭐ Spieler des Spiels"}),e.jsxs("select",{value:t.manofthematch,onChange:s=>d("manofthematch",s.target.value),className:"form-input",disabled:i,children:[e.jsx("option",{value:"",children:"Keinen Spieler auswählen"}),u&&u.map(s=>e.jsxs("option",{value:s.id,children:[s.name," (",s.team," - ",s.position,")"]},s.id))]}),!u||u.length===0&&e.jsx("p",{className:"text-xs text-text-muted mt-1",children:"Keine Spieler verfügbar. Bitte fügen Sie erst Spieler hinzu."})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 px-4 py-2 border border-border-light rounded-lg text-text-secondary hover:bg-bg-tertiary transition-colors",disabled:i,children:"Abbrechen"}),e.jsx("button",{type:"submit",disabled:!a||i,className:"flex-1 btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:i?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"spinner w-4 h-4 mr-2"}),"Speichern..."]}):"Speichern"})]})]})]})})}),e.jsx("div",{className:"mt-6 modern-card bg-blue-50 border-blue-200",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"text-blue-600 mr-3",children:e.jsx("i",{className:"fas fa-info-circle"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-1",children:"Hinweis"}),e.jsx("p",{className:"text-blue-700 text-sm",children:"Nach dem Hinzufügen können Sie das Spiel in der Spiele-Übersicht einsehen und bearbeiten."})]})]})})]})}const f=[{value:"Gelb-Rote Karte",label:"Gelb-Rote Karte",duration:1,icon:"🟨🟥"},{value:"Rote Karte",label:"Rote Karte",duration:2,icon:"🟥"},{value:"Verletzung",label:"Verletzung",duration:3,icon:"🏥"},{value:"Unsportlichkeit",label:"Unsportlichkeit",duration:1,icon:"⚠️"}];function z(){const{data:m}=k("players","*"),{insert:u}=j("bans"),[o,l]=x.useState(!1),[t,n]=x.useState({player_id:"",type:"",reason:""}),[i,c]=x.useState(!1),d=(r,h)=>{n(p=>({...p,[r]:h}))},b=async r=>{r.preventDefault(),c(!0);try{const h=m.find(v=>v.id===parseInt(t.player_id)),p=f.find(v=>v.value===t.type);if(!h||!p)throw new Error("Spieler oder Sperrart nicht gefunden");await u({player_id:h.id,team:h.team,type:p.value,totalgames:p.duration,matchesserved:0,reason:t.reason||p.value}),n({player_id:"",type:"",reason:""}),l(!1),alert("Sperre erfolgreich hinzugefügt!")}catch(h){alert("Fehler beim Hinzufügen der Sperre: "+h.message)}finally{c(!1)}},a=t.player_id&&t.type,s=f.find(r=>r.value===t.type);return e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:"Neue Sperre hinzufügen"}),e.jsx("p",{className:"text-text-muted text-sm",children:"Erstellen Sie eine neue Spielersperre in der Datenbank."})]}),e.jsx("div",{className:"modern-card",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-4",children:"🚫"}),e.jsx("h4",{className:"text-lg font-medium text-text-primary mb-2",children:"Sperre hinzufügen"}),e.jsx("p",{className:"text-text-muted mb-6",children:"Klicken Sie auf den Button, um eine neue Spielersperre zu erfassen."}),e.jsxs("button",{onClick:()=>l(!0),className:"btn-primary",children:[e.jsx("i",{className:"fas fa-plus mr-2"}),"Neue Sperre erfassen"]})]})}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-bg-secondary rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-text-primary",children:"Neue Sperre"}),e.jsx("button",{onClick:()=>l(!1),className:"text-text-muted hover:text-text-primary text-2xl",disabled:i,children:"×"})]}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Spieler *"}),e.jsxs("select",{value:t.player_id,onChange:r=>d("player_id",r.target.value),className:"form-input",required:!0,disabled:i,children:[e.jsx("option",{value:"",children:"Spieler wählen"}),m&&m.map(r=>e.jsxs("option",{value:r.id,children:[r.name," (",r.team," - ",r.position,")"]},r.id))]}),!m||m.length===0&&e.jsx("p",{className:"text-xs text-text-muted mt-1",children:"Keine Spieler verfügbar. Bitte fügen Sie erst Spieler hinzu."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Sperrart *"}),e.jsxs("select",{value:t.type,onChange:r=>d("type",r.target.value),className:"form-input",required:!0,disabled:i,children:[e.jsx("option",{value:"",children:"Sperrart wählen"}),f.map(r=>e.jsxs("option",{value:r.value,children:[r.icon," ",r.label," (",r.duration," Spiel",r.duration!==1?"e":"",")"]},r.value))]}),s&&e.jsxs("p",{className:"text-xs text-text-muted mt-1",children:["Sperre dauert ",s.duration," Spiel",s.duration!==1?"e":""]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Zusätzlicher Grund (optional)"}),e.jsx("input",{type:"text",value:t.reason,onChange:r=>d("reason",r.target.value),className:"form-input",placeholder:"Weitere Details zur Sperre...",disabled:i})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 px-4 py-2 border border-border-light rounded-lg text-text-secondary hover:bg-bg-tertiary transition-colors",disabled:i,children:"Abbrechen"}),e.jsx("button",{type:"submit",disabled:!a||i||!m||m.length===0,className:"flex-1 btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:i?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"spinner w-4 h-4 mr-2"}),"Speichern..."]}):"Speichern"})]})]})]})})}),e.jsxs("div",{className:"mt-6 modern-card",children:[e.jsx("h4",{className:"font-semibold text-text-primary mb-3",children:"Verfügbare Sperrarten"}),e.jsx("div",{className:"space-y-2",children:f.map(r=>e.jsxs("div",{className:"flex justify-between items-center p-3 bg-bg-secondary rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-xl mr-2",children:r.icon}),e.jsx("span",{className:"font-medium text-text-primary",children:r.label})]}),e.jsxs("span",{className:"text-sm text-text-muted",children:[r.duration," Spiel",r.duration!==1?"e":""]})]},r.value))})]}),e.jsx("div",{className:"mt-6 modern-card bg-yellow-50 border-yellow-200",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"text-yellow-600 mr-3",children:e.jsx("i",{className:"fas fa-info-circle"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-yellow-800 mb-1",children:"Hinweis"}),e.jsx("p",{className:"text-yellow-700 text-sm",children:"Nach dem Hinzufügen können Sie die Sperre in der Sperren-Übersicht einsehen und verwalten."})]})]})})]})}const N=[{value:"TH",label:"Torwart (TH)"},{value:"IV",label:"Innenverteidiger (IV)"},{value:"AV",label:"Außenverteidiger (AV)"},{value:"ZM",label:"Zentrales Mittelfeld (ZM)"},{value:"OM",label:"Offensives Mittelfeld (OM)"},{value:"ST",label:"Stürmer (ST)"}],y=[{value:"AEK",label:"AEK Athen",color:"blue"},{value:"Real",label:"Real Madrid",color:"red"},{value:"Ehemalige",label:"Ehemalige",color:"gray"}];function C(){const{insert:m}=j("players"),[u,o]=x.useState(!1),[l,t]=x.useState({name:"",team:"",position:"",goals:0,value:0}),[n,i]=x.useState(!1),c=(a,s)=>{t(r=>({...r,[a]:s}))},d=async a=>{a.preventDefault(),i(!0);try{await m({name:l.name.trim(),team:l.team.trim(),position:l.position.trim().toUpperCase(),goals:parseInt(l.goals)||0,value:parseFloat(l.value)||0}),t({name:"",team:"",position:"",goals:0,value:0}),o(!1),alert("Spieler erfolgreich hinzugefügt!")}catch(s){alert("Fehler beim Hinzufügen des Spielers: "+s.message)}finally{i(!1)}},b=l.name&&l.team&&l.position&&l.value!=="";return e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:"Neuen Spieler hinzufügen"}),e.jsx("p",{className:"text-text-muted text-sm",children:"Fügen Sie einen neuen Spieler zur Datenbank hinzu."})]}),e.jsx("div",{className:"modern-card",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-4",children:"👤"}),e.jsxs("h4",{className:"text-lg font-medium text-text-primary mb-2",children:[e.jsx("i",{className:"fas fa-user-plus mr-2"}),"Spieler hinzufügen"]}),e.jsx("p",{className:"text-text-muted mb-6",children:"Klicken Sie auf den Button, um einen neuen Spieler zu erfassen."}),e.jsxs("button",{onClick:()=>o(!0),className:"btn-primary",children:[e.jsx("i",{className:"fas fa-plus mr-2"}),"Neuen Spieler erfassen"]})]})}),u&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-bg-secondary rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-text-primary",children:"Neuer Spieler"}),e.jsx("button",{onClick:()=>o(!1),className:"text-text-muted hover:text-text-primary text-2xl",disabled:n,children:"×"})]}),e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Spielername *"}),e.jsx("input",{type:"text",value:l.name,onChange:a=>c("name",a.target.value),className:"form-input",placeholder:"z.B. Max Mustermann",required:!0,disabled:n})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Team *"}),e.jsxs("select",{value:l.team,onChange:a=>c("team",a.target.value),className:"form-input",required:!0,disabled:n,children:[e.jsx("option",{value:"",children:"Team wählen"}),y.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Position *"}),e.jsxs("select",{value:l.position,onChange:a=>c("position",a.target.value),className:"form-input",required:!0,disabled:n,children:[e.jsx("option",{value:"",children:"Position wählen"}),N.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Anzahl Tore"}),e.jsx("input",{type:"number",min:"0",value:l.goals,onChange:a=>c("goals",a.target.value),className:"form-input",placeholder:"0",disabled:n})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Marktwert (Millionen €) *"}),e.jsx("input",{type:"number",min:"0",step:"0.1",value:l.value,onChange:a=>c("value",a.target.value),className:"form-input",placeholder:"0.0",disabled:n}),e.jsx("p",{className:"text-xs text-text-muted mt-1",children:"Marktwert in Millionen Euro (z.B. 1.5 für 1.5M €)"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>o(!1),className:"flex-1 px-4 py-2 border border-border-light rounded-lg text-text-secondary hover:bg-bg-tertiary transition-colors",disabled:n,children:"Abbrechen"}),e.jsx("button",{type:"submit",disabled:!b||n,className:"flex-1 btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:n?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"spinner w-4 h-4 mr-2"}),"Speichern..."]}):"Speichern"})]})]})]})})}),e.jsxs("div",{className:"mt-6 modern-card",children:[e.jsx("h4",{className:"font-semibold text-text-primary mb-3",children:"Verfügbare Teams"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:y.map(a=>e.jsxs("div",{className:"p-3 bg-bg-secondary rounded-lg text-center",children:[e.jsxs("span",{className:`font-medium ${a.color==="blue"?"text-blue-600":a.color==="red"?"text-red-600":"text-gray-600"}`,children:[a.color==="blue"?"🔵":a.color==="red"?"🔴":"⚫"," ",a.label]}),e.jsxs("div",{className:"text-xs text-text-muted mt-1",children:["(",a.value,")"]})]},a.value))})]}),e.jsxs("div",{className:"mt-6 modern-card",children:[e.jsx("h4",{className:"font-semibold text-text-primary mb-3",children:"Verfügbare Positionen"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:N.map(a=>e.jsx("div",{className:"p-3 bg-bg-secondary rounded-lg text-center",children:e.jsx("span",{className:"font-medium text-text-primary text-sm",children:a.label})},a.value))})]}),e.jsx("div",{className:"mt-6 modern-card bg-green-50 border-green-200",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"text-green-600 mr-3",children:e.jsx("i",{className:"fas fa-info-circle"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-green-800 mb-1",children:"Hinweis"}),e.jsx("p",{className:"text-green-700 text-sm",children:"Nach dem Hinzufügen können Sie den Spieler in der Kader-Übersicht einsehen und verwalten."})]})]})})]})}const S=[{value:"Preisgeld",label:"Preisgeld",icon:"🏆"},{value:"Strafe",label:"Strafe",icon:"📉"},{value:"Spielerkauf",label:"Spielerkauf",icon:"👤"},{value:"Spielerverkauf",label:"Spielerverkauf",icon:"💰"},{value:"Echtgeld-Ausgleich",label:"Echtgeld-Ausgleich",icon:"💳"},{value:"SdS Bonus",label:"Spieler des Spiels Bonus",icon:"⭐"},{value:"Sonstiges",label:"Sonstiges",icon:"📈"}],w=[{value:"AEK",label:"AEK Athen",color:"blue"},{value:"Real",label:"Real Madrid",color:"red"}];function T(){const{insert:m}=j("transactions"),[u,o]=x.useState(!1),[l,t]=x.useState({team:"",type:"",amount:"",info:"",date:new Date().toISOString().split("T")[0]}),[n,i]=x.useState(!1),c=(a,s)=>{t(r=>({...r,[a]:s}))},d=async a=>{a.preventDefault(),i(!0);try{await m({date:l.date,type:l.type.trim(),team:l.team.trim(),amount:parseFloat(l.amount),info:l.info.trim(),match_id:null}),t({team:"",type:"",amount:"",info:"",date:new Date().toISOString().split("T")[0]}),o(!1),alert("Transaktion erfolgreich hinzugefügt!")}catch(s){alert("Fehler beim Hinzufügen der Transaktion: "+s.message)}finally{i(!1)}},b=l.team&&l.type&&l.amount&&l.date;return e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:"Neue Transaktion hinzufügen"}),e.jsx("p",{className:"text-text-muted text-sm",children:"Erfassen Sie eine neue finanzielle Transaktion."})]}),e.jsx("div",{className:"modern-card",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-4",children:"💰"}),e.jsx("h4",{className:"text-lg font-medium text-text-primary mb-2",children:"Transaktion hinzufügen"}),e.jsx("p",{className:"text-text-muted mb-6",children:"Klicken Sie auf den Button, um eine neue Transaktion zu erfassen."}),e.jsxs("button",{onClick:()=>o(!0),className:"btn-primary",children:[e.jsx("i",{className:"fas fa-plus mr-2"}),"Neue Transaktion erfassen"]})]})}),u&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-bg-secondary rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-text-primary",children:"Neue Transaktion"}),e.jsx("button",{onClick:()=>o(!1),className:"text-text-muted hover:text-text-primary text-2xl",disabled:n,children:"×"})]}),e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Team *"}),e.jsxs("select",{value:l.team,onChange:a=>c("team",a.target.value),className:"form-input",required:!0,disabled:n,children:[e.jsx("option",{value:"",children:"Team wählen"}),w.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Transaktionsart *"}),e.jsxs("select",{value:l.type,onChange:a=>c("type",a.target.value),className:"form-input",required:!0,disabled:n,children:[e.jsx("option",{value:"",children:"Typ wählen"}),S.map(a=>e.jsxs("option",{value:a.value,children:[a.icon," ",a.label]},a.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Betrag (€) *"}),e.jsx("input",{type:"number",step:"0.01",value:l.amount,onChange:a=>c("amount",a.target.value),className:"form-input",placeholder:"0.00",required:!0,disabled:n}),e.jsx("p",{className:"text-xs text-text-muted mt-1",children:"Negative Werte für Ausgaben, positive für Einnahmen"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Beschreibung"}),e.jsx("input",{type:"text",value:l.info,onChange:a=>c("info",a.target.value),className:"form-input",placeholder:"Zusätzliche Informationen...",disabled:n})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Datum *"}),e.jsx("input",{type:"date",value:l.date,onChange:a=>c("date",a.target.value),className:"form-input",required:!0,disabled:n})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>o(!1),className:"flex-1 px-4 py-2 border border-border-light rounded-lg text-text-secondary hover:bg-bg-tertiary transition-colors",disabled:n,children:"Abbrechen"}),e.jsx("button",{type:"submit",disabled:!b||n,className:"flex-1 btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:n?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"spinner w-4 h-4 mr-2"}),"Speichern..."]}):"Speichern"})]})]})]})})}),e.jsxs("div",{className:"mt-6 modern-card",children:[e.jsx("h4",{className:"font-semibold text-text-primary mb-3",children:"Transaktionsarten"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:S.map(a=>e.jsxs("div",{className:"p-3 bg-bg-secondary rounded-lg text-center",children:[e.jsx("div",{className:"text-2xl mb-2",children:a.icon}),e.jsx("span",{className:"font-medium text-text-primary",children:a.label})]},a.value))})]}),e.jsxs("div",{className:"mt-6 modern-card",children:[e.jsx("h4",{className:"font-semibold text-text-primary mb-3",children:"Verfügbare Teams"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:w.map(a=>e.jsxs("div",{className:"p-3 bg-bg-secondary rounded-lg text-center",children:[e.jsxs("span",{className:`font-medium ${a.color==="blue"?"text-blue-600":"text-red-600"}`,children:[a.color==="blue"?"🔵":"🔴"," ",a.label]}),e.jsxs("div",{className:"text-xs text-text-muted mt-1",children:["(",a.value,")"]})]},a.value))})]}),e.jsx("div",{className:"mt-6 modern-card bg-blue-50 border-blue-200",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"text-blue-600 mr-3",children:e.jsx("i",{className:"fas fa-info-circle"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-1",children:"Hinweis"}),e.jsx("p",{className:"text-blue-700 text-sm",children:"Nach dem Hinzufügen können Sie die Transaktion in der Finanzen-Übersicht einsehen."})]})]})})]})}function I(){const[m,u]=x.useState("matches"),o=[{id:"matches",label:"Spiele hinzufügen",icon:"fas fa-futbol"},{id:"bans",label:"Sperren hinzufügen",icon:"fas fa-ban"},{id:"players",label:"Spieler hinzufügen",icon:"fas fa-user-plus"},{id:"transactions",label:"Transaktionen hinzufügen",icon:"fas fa-euro-sign"}],l=()=>{switch(m){case"matches":return e.jsx(g,{});case"bans":return e.jsx(z,{});case"players":return e.jsx(C,{});case"transactions":return e.jsx(T,{});default:return e.jsx(g,{})}};return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"p-4 bg-bg-secondary border-b border-border-light",children:[e.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-1",children:"Verwaltung"}),e.jsx("p",{className:"text-text-muted text-sm",children:"Hinzufügen und verwalten von Daten"})]}),e.jsx("div",{className:"bg-bg-secondary border-b border-border-light",children:e.jsx("div",{className:"flex overflow-x-auto",children:o.map(t=>e.jsxs("button",{onClick:()=>u(t.id),className:`flex-shrink-0 px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${m===t.id?"text-primary border-b-2 border-primary bg-bg-primary":"text-text-secondary hover:text-text-primary hover:bg-bg-hover"}`,children:[e.jsx("i",{className:`${t.icon} mr-2`}),t.label]},t.id))})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:l()})]})}export{I as default};
