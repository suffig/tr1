import{r as v,j as e,L as y}from"./index-DGijRFiP.js";import{u as x}from"./useSupabase-DVOWh2ON.js";function T(){const[t,o]=v.useState("AEK"),{data:i,loading:h}=x("finances","*"),{data:d,loading:b}=x("transactions","*",{order:{column:"id",ascending:!1},limit:20}),u=h||b,r=s=>i?i.find(l=>l.team===s)||{balance:0}:{balance:0},j=s=>d?d.filter(l=>l.team===s):[],a=s=>new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(s),N=s=>{switch(s){case"Einnahme":case"einnahme":return"text-primary-green";case"Ausgabe":case"ausgabe":return"text-accent-red";default:return"text-text-primary"}},g=s=>{switch(s){case"Einnahme":case"einnahme":return"üìà";case"Ausgabe":case"ausgabe":return"üìâ";default:return"üí∞"}};if(u)return e.jsx(y,{message:"Lade Finanzen..."});const c=r("AEK"),m=r("Real"),f=c.balance+m.balance,p=r(t),n=j(t);return e.jsxs("div",{className:"p-4 pb-20",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-2",children:"Finanzen"}),e.jsx("p",{className:"text-text-muted",children:"Team-Budgets und Transaktions√ºbersicht"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"modern-card text-center border-l-4 border-blue-400",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx("span",{className:"text-2xl mr-2",children:"üîµ"}),e.jsx("h3",{className:"font-semibold text-blue-600",children:"AEK Athen"})]}),e.jsx("div",{className:"text-2xl font-bold text-text-primary",children:a(c.balance)}),e.jsx("div",{className:"text-sm text-text-muted",children:"Aktueller Kontostand"})]}),e.jsxs("div",{className:"modern-card text-center border-l-4 border-purple-400",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx("span",{className:"text-2xl mr-2",children:"üü£"}),e.jsx("h3",{className:"font-semibold text-purple-600",children:"Real Madrid"})]}),e.jsx("div",{className:"text-2xl font-bold text-text-primary",children:a(m.balance)}),e.jsx("div",{className:"text-sm text-text-muted",children:"Aktueller Kontostand"})]}),e.jsxs("div",{className:"modern-card text-center border-l-4 border-primary-green",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx("span",{className:"text-2xl mr-2",children:"üí∞"}),e.jsx("h3",{className:"font-semibold text-primary-green",children:"Gesamt"})]}),e.jsx("div",{className:"text-2xl font-bold text-text-primary",children:a(f)}),e.jsx("div",{className:"text-sm text-text-muted",children:"Gesamtkapital"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-3",children:"Transaktionen"}),e.jsx("div",{className:"flex gap-2 mb-4",children:["AEK","Real"].map(s=>e.jsx("button",{onClick:()=>o(s),className:`px-4 py-2 rounded-lg font-medium transition-all ${t===s?s==="AEK"?"bg-blue-600 text-white":"bg-purple-600 text-white":"bg-bg-secondary text-text-muted hover:bg-bg-tertiary border border-border-light"}`,children:s==="AEK"?"üîµ AEK Athen":"üü£ Real Madrid"},s))})]}),e.jsxs("div",{className:"modern-card mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"font-semibold text-text-primary",children:[t==="AEK"?"üîµ AEK Athen":"üü£ Real Madrid"," - Details"]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-bold text-text-primary",children:a(p.balance)}),e.jsx("div",{className:"text-sm text-text-muted",children:"Aktueller Kontostand"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-primary-green/10 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-primary-green",children:n.filter(s=>s.art==="Einnahme"||s.art==="einnahme").length}),e.jsx("div",{className:"text-sm text-text-muted",children:"Einnahmen"})]}),e.jsxs("div",{className:"text-center p-3 bg-accent-red/10 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-accent-red",children:n.filter(s=>s.art==="Ausgabe"||s.art==="ausgabe").length}),e.jsx("div",{className:"text-sm text-text-muted",children:"Ausgaben"})]})]})]}),n.length>0?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-semibold text-text-primary",children:["Letzte Transaktionen - ",t==="AEK"?"AEK Athen":"Real Madrid"]}),n.map(s=>e.jsx("div",{className:"modern-card",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"text-xl",children:g(s.art)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h5",{className:"font-medium text-text-primary",children:s.beschreibung||"Transaktion"}),e.jsx("span",{className:`text-sm font-medium ${s.art==="Einnahme"||s.art==="einnahme"?"text-primary-green":"text-accent-red"}`,children:s.art})]}),s.datum&&e.jsx("p",{className:"text-xs text-text-muted",children:new Date(s.datum).toLocaleDateString("de-DE")})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:`text-lg font-bold ${N(s.art)}`,children:[s.art==="Ausgabe"||s.art==="ausgabe"?"-":"+",a(Math.abs(s.betrag||0))]})})]})},s.id))]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-4",children:"üí∞"}),e.jsx("h4",{className:"text-lg font-medium text-text-primary mb-2",children:"Keine Transaktionen"}),e.jsxs("p",{className:"text-text-muted",children:["F√ºr ",t==="AEK"?"AEK Athen":"Real Madrid"," wurden noch keine Transaktionen erfasst."]})]}),e.jsxs("div",{className:"mt-6 space-y-3",children:[e.jsxs("button",{className:"w-full btn-primary",children:[e.jsx("i",{className:"fas fa-plus mr-2"}),"Neue Transaktion hinzuf√ºgen"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{className:"btn-secondary",children:[e.jsx("i",{className:"fas fa-upload mr-2"}),"Einnahme"]}),e.jsxs("button",{className:"btn-secondary",children:[e.jsx("i",{className:"fas fa-download mr-2"}),"Ausgabe"]})]})]}),e.jsx("div",{className:"mt-6 modern-card bg-yellow-50 border-yellow-200",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"text-yellow-600 mr-3",children:e.jsx("i",{className:"fas fa-info-circle"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-yellow-800 mb-1",children:"Finanz-Modul"}),e.jsx("p",{className:"text-yellow-700 text-sm",children:"Grundlegende Finanz√ºbersicht implementiert. CRUD-Operationen f√ºr Transaktionen k√∂nnen bei Bedarf vollst√§ndig ausgebaut werden."})]})]})})]})}export{T as default};
