import{r as f,j as e}from"./index-Co4i9UEE.js";import{a as z,u as F}from"./useSupabase-DupcPWsO.js";function M(){const{insert:x}=z("matches"),{data:b}=F("players","*"),[u,l]=f.useState(!1),[t,n]=f.useState({teama:"AEK",teamb:"Real",date:new Date().toISOString().split("T")[0],goalsa:0,goalsb:0,goalslista:[],goalslistb:[],yellowa:0,reda:0,yellowb:0,redb:0,prizeaek:0,prizereal:0,manofthematch:""}),[i,o]=f.useState(!1),m=(a,c)=>{n(d=>{const h={...d,[a]:c};if(["goalsa","goalsb","yellowa","reda","yellowb","redb"].includes(a)){const v=parseInt(h.goalsa)||0,N=parseInt(h.goalsb)||0,S=parseInt(h.yellowa)||0,K=parseInt(h.reda)||0,E=parseInt(h.yellowb)||0,I=parseInt(h.redb)||0;let A=0,C=0,w=null,T=null;v>N?(w="AEK",T="Real"):v<N&&(w="Real",T="AEK"),w&&T&&(w==="AEK"?(A=1e6-N*5e4-S*2e4-K*5e4,C=-(5e5+v*5e4+E*2e4+I*5e4)):(C=1e6-v*5e4-E*2e4-I*5e4,A=-(5e5+N*5e4+S*2e4+K*5e4))),h.prizeaek=A,h.prizereal=C}return h})},y=async a=>{a.preventDefault(),o(!0);try{await x({date:t.date,teama:t.teama.trim(),teamb:t.teamb.trim(),goalsa:parseInt(t.goalsa)||0,goalsb:parseInt(t.goalsb)||0,goalslista:t.goalslista||[],goalslistb:t.goalslistb||[],yellowa:parseInt(t.yellowa)||0,reda:parseInt(t.reda)||0,yellowb:parseInt(t.yellowb)||0,redb:parseInt(t.redb)||0,manofthematch:t.manofthematch?parseInt(t.manofthematch):null,prizeaek:parseInt(t.prizeaek)||0,prizereal:parseInt(t.prizereal)||0}),n({teama:"AEK",teamb:"Real",date:new Date().toISOString().split("T")[0],goalsa:0,goalsb:0,goalslista:[],goalslistb:[],yellowa:0,reda:0,yellowb:0,redb:0,prizeaek:0,prizereal:0,manofthematch:""}),l(!1),alert("Spiel erfolgreich hinzugef√ºgt!")}catch(c){alert("Fehler beim Hinzuf√ºgen des Spiels: "+c.message)}finally{o(!1)}},s=t.teama&&t.teamb&&t.date,p=a=>b?b.filter(c=>c.team===a):[],r=a=>{const c=a==="AEK"?"goalslista":"goalslistb";n(d=>({...d,[c]:[...d[c],""]}))},j=(a,c)=>{const d=a==="AEK"?"goalslista":"goalslistb";n(h=>({...h,[d]:h[d].filter((v,N)=>N!==c)}))},g=(a,c,d)=>{const h=a==="AEK"?"goalslista":"goalslistb";n(v=>({...v,[h]:v[h].map((N,S)=>S===c?d:N)}))};return e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:"Neues Spiel hinzuf√ºgen"}),e.jsx("p",{className:"text-text-muted text-sm",children:"F√ºgen Sie ein neues Spiel zur Datenbank hinzu."})]}),e.jsx("div",{className:"modern-card",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-4",children:"‚öΩ"}),e.jsx("h4",{className:"text-lg font-medium text-text-primary mb-2",children:"Spiel hinzuf√ºgen"}),e.jsx("p",{className:"text-text-muted mb-6",children:"Klicken Sie auf den Button, um ein neues Spiel zu erfassen."}),e.jsxs("button",{onClick:()=>l(!0),className:"btn-primary",children:[e.jsx("i",{className:"fas fa-plus mr-2"}),"Neues Spiel erfassen"]})]})}),u&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-bg-secondary rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-text-primary",children:"Neues Spiel"}),e.jsx("button",{onClick:()=>l(!1),className:"text-text-muted hover:text-text-primary text-2xl",disabled:i,children:"√ó"})]}),e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Heimteam *"}),e.jsxs("select",{value:t.teama,onChange:a=>m("teama",a.target.value),className:"form-input",required:!0,disabled:i,children:[e.jsx("option",{value:"AEK",children:"AEK Athen"}),e.jsx("option",{value:"Real",children:"Real Madrid"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Gastteam *"}),e.jsxs("select",{value:t.teamb,onChange:a=>m("teamb",a.target.value),className:"form-input",required:!0,disabled:i,children:[e.jsx("option",{value:"Real",children:"Real Madrid"}),e.jsx("option",{value:"AEK",children:"AEK Athen"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Datum *"}),e.jsx("input",{type:"date",value:t.date,onChange:a=>m("date",a.target.value),className:"form-input",required:!0,disabled:i})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Tore Heimteam"}),e.jsx("input",{type:"number",min:"0",value:t.goalsa,onChange:a=>m("goalsa",a.target.value),className:"form-input",disabled:i})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Tore Gastteam"}),e.jsx("input",{type:"number",min:"0",value:t.goalsb,onChange:a=>m("goalsb",a.target.value),className:"form-input",disabled:i})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-text-primary mb-3",children:"‚öΩ Torsch√ºtzen"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"AEK Athen"}),e.jsx("button",{type:"button",onClick:()=>r("AEK"),className:"text-xs bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded",disabled:i,children:"+ Torsch√ºtze"})]}),t.goalslista.map((a,c)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:a,onChange:d=>g("AEK",c,d.target.value),className:"form-input text-sm flex-1",disabled:i,children:[e.jsx("option",{value:"",children:"Spieler w√§hlen"}),p("AEK").map(d=>e.jsx("option",{value:d.name,children:d.name},d.id))]}),e.jsx("button",{type:"button",onClick:()=>j("AEK",c),className:"text-red-600 hover:text-red-800 p-1",disabled:i,children:"√ó"})]},c)),t.goalslista.length===0&&e.jsx("p",{className:"text-xs text-text-muted",children:"Keine Torsch√ºtzen hinzugef√ºgt"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-xs text-red-600 font-medium",children:"Real Madrid"}),e.jsx("button",{type:"button",onClick:()=>r("Real"),className:"text-xs bg-red-600 hover:bg-red-700 text-white px-2 py-1 rounded",disabled:i,children:"+ Torsch√ºtze"})]}),t.goalslistb.map((a,c)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:a,onChange:d=>g("Real",c,d.target.value),className:"form-input text-sm flex-1",disabled:i,children:[e.jsx("option",{value:"",children:"Spieler w√§hlen"}),p("Real").map(d=>e.jsx("option",{value:d.name,children:d.name},d.id))]}),e.jsx("button",{type:"button",onClick:()=>j("Real",c),className:"text-red-600 hover:text-red-800 p-1",disabled:i,children:"√ó"})]},c)),t.goalslistb.length===0&&e.jsx("p",{className:"text-xs text-text-muted",children:"Keine Torsch√ºtzen hinzugef√ºgt"})]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-text-primary mb-3",children:"üü®üü• Karten"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Heimteam"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"üü® Gelbe Karten"}),e.jsx("input",{type:"number",min:"0",value:t.yellowa,onChange:a=>m("yellowa",a.target.value),className:"form-input",disabled:i})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"üü• Rote Karten"}),e.jsx("input",{type:"number",min:"0",value:t.reda,onChange:a=>m("reda",a.target.value),className:"form-input",disabled:i})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-xs text-red-600 font-medium",children:"Gastteam"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"üü® Gelbe Karten"}),e.jsx("input",{type:"number",min:"0",value:t.yellowb,onChange:a=>m("yellowb",a.target.value),className:"form-input",disabled:i})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"üü• Rote Karten"}),e.jsx("input",{type:"number",min:"0",value:t.redb,onChange:a=>m("redb",a.target.value),className:"form-input",disabled:i})]})]})]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-text-primary mb-3",children:"üí∞ Preisgelder (automatisch berechnet)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Preisgeld AEK (‚Ç¨)"}),e.jsx("input",{type:"number",value:t.prizeaek,className:"form-input bg-gray-100",placeholder:"Automatisch berechnet",disabled:!0,readOnly:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Preisgeld Real (‚Ç¨)"}),e.jsx("input",{type:"number",value:t.prizereal,className:"form-input bg-gray-100",placeholder:"Automatisch berechnet",disabled:!0,readOnly:!0})]})]}),e.jsx("p",{className:"text-xs text-text-muted mt-2",children:"Basierend auf Ergebnis und Karten: Gewinner 1M‚Ç¨ - (Verlierer-Tore √ó 50k‚Ç¨) - (Karten √ó 20k‚Ç¨/50k‚Ç¨)"})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-text-primary mb-3",children:"‚≠ê Spieler des Spiels"}),e.jsxs("select",{value:t.manofthematch,onChange:a=>m("manofthematch",a.target.value),className:"form-input",disabled:i,children:[e.jsx("option",{value:"",children:"Keinen Spieler ausw√§hlen"}),b&&b.map(a=>e.jsxs("option",{value:a.id,children:[a.name," (",a.team," - ",a.position,")"]},a.id))]}),!b||b.length===0&&e.jsx("p",{className:"text-xs text-text-muted mt-1",children:"Keine Spieler verf√ºgbar. Bitte f√ºgen Sie erst Spieler hinzu."})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 px-4 py-2 border border-border-light rounded-lg text-text-secondary hover:bg-bg-tertiary transition-colors",disabled:i,children:"Abbrechen"}),e.jsx("button",{type:"submit",disabled:!s||i,className:"flex-1 btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:i?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"spinner w-4 h-4 mr-2"}),"Speichern..."]}):"Speichern"})]})]})]})})}),e.jsx("div",{className:"mt-6 modern-card bg-blue-50 border-blue-200",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"text-blue-600 mr-3",children:e.jsx("i",{className:"fas fa-info-circle"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-1",children:"Hinweis"}),e.jsx("p",{className:"text-blue-700 text-sm",children:"Nach dem Hinzuf√ºgen k√∂nnen Sie das Spiel in der Spiele-√úbersicht einsehen und bearbeiten."})]})]})})]})}const k=[{value:"Gelb-Rote Karte",label:"Gelb-Rote Karte",duration:1,icon:"üü®üü•"},{value:"Rote Karte",label:"Rote Karte",duration:2,icon:"üü•"},{value:"Verletzung",label:"Verletzung",duration:3,icon:"üè•"},{value:"Unsportlichkeit",label:"Unsportlichkeit",duration:1,icon:"‚ö†Ô∏è"}];function V(){const{data:x}=F("players","*"),{insert:b}=z("bans"),[u,l]=f.useState(!1),[t,n]=f.useState({player_id:"",type:"",reason:""}),[i,o]=f.useState(!1),m=(r,j)=>{n(g=>({...g,[r]:j}))},y=async r=>{r.preventDefault(),o(!0);try{const j=x.find(a=>a.id===parseInt(t.player_id)),g=k.find(a=>a.value===t.type);if(!j||!g)throw new Error("Spieler oder Sperrart nicht gefunden");await b({player_id:j.id,team:j.team,type:g.value,totalgames:g.duration,matchesserved:0,reason:t.reason||g.value}),n({player_id:"",type:"",reason:""}),l(!1),alert("Sperre erfolgreich hinzugef√ºgt!")}catch(j){alert("Fehler beim Hinzuf√ºgen der Sperre: "+j.message)}finally{o(!1)}},s=t.player_id&&t.type,p=k.find(r=>r.value===t.type);return e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:"Neue Sperre hinzuf√ºgen"}),e.jsx("p",{className:"text-text-muted text-sm",children:"Erstellen Sie eine neue Spielersperre in der Datenbank."})]}),e.jsx("div",{className:"modern-card",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-4",children:"üö´"}),e.jsx("h4",{className:"text-lg font-medium text-text-primary mb-2",children:"Sperre hinzuf√ºgen"}),e.jsx("p",{className:"text-text-muted mb-6",children:"Klicken Sie auf den Button, um eine neue Spielersperre zu erfassen."}),e.jsxs("button",{onClick:()=>l(!0),className:"btn-primary",children:[e.jsx("i",{className:"fas fa-plus mr-2"}),"Neue Sperre erfassen"]})]})}),u&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-bg-secondary rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-text-primary",children:"Neue Sperre"}),e.jsx("button",{onClick:()=>l(!1),className:"text-text-muted hover:text-text-primary text-2xl",disabled:i,children:"√ó"})]}),e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Spieler *"}),e.jsxs("select",{value:t.player_id,onChange:r=>m("player_id",r.target.value),className:"form-input",required:!0,disabled:i,children:[e.jsx("option",{value:"",children:"Spieler w√§hlen"}),x&&x.map(r=>e.jsxs("option",{value:r.id,children:[r.name," (",r.team," - ",r.position,")"]},r.id))]}),!x||x.length===0&&e.jsx("p",{className:"text-xs text-text-muted mt-1",children:"Keine Spieler verf√ºgbar. Bitte f√ºgen Sie erst Spieler hinzu."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Sperrart *"}),e.jsxs("select",{value:t.type,onChange:r=>m("type",r.target.value),className:"form-input",required:!0,disabled:i,children:[e.jsx("option",{value:"",children:"Sperrart w√§hlen"}),k.map(r=>e.jsxs("option",{value:r.value,children:[r.icon," ",r.label," (",r.duration," Spiel",r.duration!==1?"e":"",")"]},r.value))]}),p&&e.jsxs("p",{className:"text-xs text-text-muted mt-1",children:["Sperre dauert ",p.duration," Spiel",p.duration!==1?"e":""]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Zus√§tzlicher Grund (optional)"}),e.jsx("input",{type:"text",value:t.reason,onChange:r=>m("reason",r.target.value),className:"form-input",placeholder:"Weitere Details zur Sperre...",disabled:i})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 px-4 py-2 border border-border-light rounded-lg text-text-secondary hover:bg-bg-tertiary transition-colors",disabled:i,children:"Abbrechen"}),e.jsx("button",{type:"submit",disabled:!s||i||!x||x.length===0,className:"flex-1 btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:i?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"spinner w-4 h-4 mr-2"}),"Speichern..."]}):"Speichern"})]})]})]})})}),e.jsxs("div",{className:"mt-6 modern-card",children:[e.jsx("h4",{className:"font-semibold text-text-primary mb-3",children:"Verf√ºgbare Sperrarten"}),e.jsx("div",{className:"space-y-2",children:k.map(r=>e.jsxs("div",{className:"flex justify-between items-center p-3 bg-bg-secondary rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-xl mr-2",children:r.icon}),e.jsx("span",{className:"font-medium text-text-primary",children:r.label})]}),e.jsxs("span",{className:"text-sm text-text-muted",children:[r.duration," Spiel",r.duration!==1?"e":""]})]},r.value))})]}),e.jsx("div",{className:"mt-6 modern-card bg-yellow-50 border-yellow-200",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"text-yellow-600 mr-3",children:e.jsx("i",{className:"fas fa-info-circle"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-yellow-800 mb-1",children:"Hinweis"}),e.jsx("p",{className:"text-yellow-700 text-sm",children:"Nach dem Hinzuf√ºgen k√∂nnen Sie die Sperre in der Sperren-√úbersicht einsehen und verwalten."})]})]})})]})}const R=[{value:"TH",label:"Torwart (TH)"},{value:"IV",label:"Innenverteidiger (IV)"},{value:"AV",label:"Au√üenverteidiger (AV)"},{value:"ZM",label:"Zentrales Mittelfeld (ZM)"},{value:"OM",label:"Offensives Mittelfeld (OM)"},{value:"ST",label:"St√ºrmer (ST)"}],D=[{value:"AEK",label:"AEK Athen",color:"blue"},{value:"Real",label:"Real Madrid",color:"red"},{value:"Ehemalige",label:"Ehemalige",color:"gray"}];function P(){const{insert:x}=z("players"),[b,u]=f.useState(!1),[l,t]=f.useState({name:"",team:"",position:"",goals:0,value:0}),[n,i]=f.useState(!1),o=(s,p)=>{t(r=>({...r,[s]:p}))},m=async s=>{s.preventDefault(),i(!0);try{await x({name:l.name.trim(),team:l.team.trim(),position:l.position.trim().toUpperCase(),goals:parseInt(l.goals)||0,value:parseFloat(l.value)||0}),t({name:"",team:"",position:"",goals:0,value:0}),u(!1),alert("Spieler erfolgreich hinzugef√ºgt!")}catch(p){alert("Fehler beim Hinzuf√ºgen des Spielers: "+p.message)}finally{i(!1)}},y=l.name&&l.team&&l.position&&l.value!=="";return e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:"Neuen Spieler hinzuf√ºgen"}),e.jsx("p",{className:"text-text-muted text-sm",children:"F√ºgen Sie einen neuen Spieler zur Datenbank hinzu."})]}),e.jsx("div",{className:"modern-card",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-4",children:"üë§"}),e.jsxs("h4",{className:"text-lg font-medium text-text-primary mb-2",children:[e.jsx("i",{className:"fas fa-user-plus mr-2"}),"Spieler hinzuf√ºgen"]}),e.jsx("p",{className:"text-text-muted mb-6",children:"Klicken Sie auf den Button, um einen neuen Spieler zu erfassen."}),e.jsxs("button",{onClick:()=>u(!0),className:"btn-primary",children:[e.jsx("i",{className:"fas fa-plus mr-2"}),"Neuen Spieler erfassen"]})]})}),b&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-bg-secondary rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-text-primary",children:"Neuer Spieler"}),e.jsx("button",{onClick:()=>u(!1),className:"text-text-muted hover:text-text-primary text-2xl",disabled:n,children:"√ó"})]}),e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Spielername *"}),e.jsx("input",{type:"text",value:l.name,onChange:s=>o("name",s.target.value),className:"form-input",placeholder:"z.B. Max Mustermann",required:!0,disabled:n})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Team *"}),e.jsxs("select",{value:l.team,onChange:s=>o("team",s.target.value),className:"form-input",required:!0,disabled:n,children:[e.jsx("option",{value:"",children:"Team w√§hlen"}),D.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Position *"}),e.jsxs("select",{value:l.position,onChange:s=>o("position",s.target.value),className:"form-input",required:!0,disabled:n,children:[e.jsx("option",{value:"",children:"Position w√§hlen"}),R.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Anzahl Tore"}),e.jsx("input",{type:"number",min:"0",value:l.goals,onChange:s=>o("goals",s.target.value),className:"form-input",placeholder:"0",disabled:n})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Marktwert (Millionen ‚Ç¨) *"}),e.jsx("input",{type:"number",min:"0",step:"0.1",value:l.value,onChange:s=>o("value",s.target.value),className:"form-input",placeholder:"0.0",disabled:n}),e.jsx("p",{className:"text-xs text-text-muted mt-1",children:"Marktwert in Millionen Euro (z.B. 1.5 f√ºr 1.5M ‚Ç¨)"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>u(!1),className:"flex-1 px-4 py-2 border border-border-light rounded-lg text-text-secondary hover:bg-bg-tertiary transition-colors",disabled:n,children:"Abbrechen"}),e.jsx("button",{type:"submit",disabled:!y||n,className:"flex-1 btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:n?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"spinner w-4 h-4 mr-2"}),"Speichern..."]}):"Speichern"})]})]})]})})}),e.jsxs("div",{className:"mt-6 modern-card",children:[e.jsx("h4",{className:"font-semibold text-text-primary mb-3",children:"Verf√ºgbare Teams"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:D.map(s=>e.jsxs("div",{className:"p-3 bg-bg-secondary rounded-lg text-center",children:[e.jsxs("span",{className:`font-medium ${s.color==="blue"?"text-blue-600":s.color==="red"?"text-red-600":"text-gray-600"}`,children:[s.color==="blue"?"üîµ":s.color==="red"?"üî¥":"‚ö´"," ",s.label]}),e.jsxs("div",{className:"text-xs text-text-muted mt-1",children:["(",s.value,")"]})]},s.value))})]}),e.jsxs("div",{className:"mt-6 modern-card",children:[e.jsx("h4",{className:"font-semibold text-text-primary mb-3",children:"Verf√ºgbare Positionen"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:R.map(s=>e.jsx("div",{className:"p-3 bg-bg-secondary rounded-lg text-center",children:e.jsx("span",{className:"font-medium text-text-primary text-sm",children:s.label})},s.value))})]}),e.jsx("div",{className:"mt-6 modern-card bg-green-50 border-green-200",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"text-green-600 mr-3",children:e.jsx("i",{className:"fas fa-info-circle"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-green-800 mb-1",children:"Hinweis"}),e.jsx("p",{className:"text-green-700 text-sm",children:"Nach dem Hinzuf√ºgen k√∂nnen Sie den Spieler in der Kader-√úbersicht einsehen und verwalten."})]})]})})]})}const H=[{value:"Preisgeld",label:"Preisgeld",icon:"üèÜ"},{value:"Strafe",label:"Strafe",icon:"üìâ"},{value:"Spielerkauf",label:"Spielerkauf",icon:"üë§"},{value:"Spielerverkauf",label:"Spielerverkauf",icon:"üí∞"},{value:"Echtgeld-Ausgleich",label:"Echtgeld-Ausgleich",icon:"üí≥"},{value:"SdS Bonus",label:"Spieler des Spiels Bonus",icon:"‚≠ê"},{value:"Sonstiges",label:"Sonstiges",icon:"üìà"}],B=[{value:"AEK",label:"AEK Athen",color:"blue"},{value:"Real",label:"Real Madrid",color:"red"}];function q(){const{insert:x}=z("transactions"),[b,u]=f.useState(!1),[l,t]=f.useState({team:"",type:"",amount:"",info:"",date:new Date().toISOString().split("T")[0]}),[n,i]=f.useState(!1),o=(s,p)=>{t(r=>({...r,[s]:p}))},m=async s=>{s.preventDefault(),i(!0);try{await x({date:l.date,type:l.type.trim(),team:l.team.trim(),amount:parseFloat(l.amount),info:l.info.trim(),match_id:null}),t({team:"",type:"",amount:"",info:"",date:new Date().toISOString().split("T")[0]}),u(!1),alert("Transaktion erfolgreich hinzugef√ºgt!")}catch(p){alert("Fehler beim Hinzuf√ºgen der Transaktion: "+p.message)}finally{i(!1)}},y=l.team&&l.type&&l.amount&&l.date;return e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:"Neue Transaktion hinzuf√ºgen"}),e.jsx("p",{className:"text-text-muted text-sm",children:"Erfassen Sie eine neue finanzielle Transaktion."})]}),e.jsx("div",{className:"modern-card",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-4",children:"üí∞"}),e.jsx("h4",{className:"text-lg font-medium text-text-primary mb-2",children:"Transaktion hinzuf√ºgen"}),e.jsx("p",{className:"text-text-muted mb-6",children:"Klicken Sie auf den Button, um eine neue Transaktion zu erfassen."}),e.jsxs("button",{onClick:()=>u(!0),className:"btn-primary",children:[e.jsx("i",{className:"fas fa-plus mr-2"}),"Neue Transaktion erfassen"]})]})}),b&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-bg-secondary rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-text-primary",children:"Neue Transaktion"}),e.jsx("button",{onClick:()=>u(!1),className:"text-text-muted hover:text-text-primary text-2xl",disabled:n,children:"√ó"})]}),e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Team *"}),e.jsxs("select",{value:l.team,onChange:s=>o("team",s.target.value),className:"form-input",required:!0,disabled:n,children:[e.jsx("option",{value:"",children:"Team w√§hlen"}),B.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Transaktionsart *"}),e.jsxs("select",{value:l.type,onChange:s=>o("type",s.target.value),className:"form-input",required:!0,disabled:n,children:[e.jsx("option",{value:"",children:"Typ w√§hlen"}),H.map(s=>e.jsxs("option",{value:s.value,children:[s.icon," ",s.label]},s.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Betrag (‚Ç¨) *"}),e.jsx("input",{type:"number",step:"0.01",value:l.amount,onChange:s=>o("amount",s.target.value),className:"form-input",placeholder:"0.00",required:!0,disabled:n}),e.jsx("p",{className:"text-xs text-text-muted mt-1",children:"Negative Werte f√ºr Ausgaben, positive f√ºr Einnahmen"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Beschreibung"}),e.jsx("input",{type:"text",value:l.info,onChange:s=>o("info",s.target.value),className:"form-input",placeholder:"Zus√§tzliche Informationen...",disabled:n})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Datum *"}),e.jsx("input",{type:"date",value:l.date,onChange:s=>o("date",s.target.value),className:"form-input",required:!0,disabled:n})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>u(!1),className:"flex-1 px-4 py-2 border border-border-light rounded-lg text-text-secondary hover:bg-bg-tertiary transition-colors",disabled:n,children:"Abbrechen"}),e.jsx("button",{type:"submit",disabled:!y||n,className:"flex-1 btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:n?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"spinner w-4 h-4 mr-2"}),"Speichern..."]}):"Speichern"})]})]})]})})}),e.jsxs("div",{className:"mt-6 modern-card",children:[e.jsx("h4",{className:"font-semibold text-text-primary mb-3",children:"Transaktionsarten"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:H.map(s=>e.jsxs("div",{className:"p-3 bg-bg-secondary rounded-lg text-center",children:[e.jsx("div",{className:"text-2xl mb-2",children:s.icon}),e.jsx("span",{className:"font-medium text-text-primary",children:s.label})]},s.value))})]}),e.jsxs("div",{className:"mt-6 modern-card",children:[e.jsx("h4",{className:"font-semibold text-text-primary mb-3",children:"Verf√ºgbare Teams"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:B.map(s=>e.jsxs("div",{className:"p-3 bg-bg-secondary rounded-lg text-center",children:[e.jsxs("span",{className:`font-medium ${s.color==="blue"?"text-blue-600":"text-red-600"}`,children:[s.color==="blue"?"üîµ":"üî¥"," ",s.label]}),e.jsxs("div",{className:"text-xs text-text-muted mt-1",children:["(",s.value,")"]})]},s.value))})]}),e.jsx("div",{className:"mt-6 modern-card bg-blue-50 border-blue-200",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"text-blue-600 mr-3",children:e.jsx("i",{className:"fas fa-info-circle"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-1",children:"Hinweis"}),e.jsx("p",{className:"text-blue-700 text-sm",children:"Nach dem Hinzuf√ºgen k√∂nnen Sie die Transaktion in der Finanzen-√úbersicht einsehen."})]})]})})]})}function _(){const[x,b]=f.useState("matches"),u=[{id:"matches",label:"Spiele hinzuf√ºgen",icon:"fas fa-futbol"},{id:"bans",label:"Sperren hinzuf√ºgen",icon:"fas fa-ban"},{id:"players",label:"Spieler hinzuf√ºgen",icon:"fas fa-user-plus"},{id:"transactions",label:"Transaktionen hinzuf√ºgen",icon:"fas fa-euro-sign"}],l=()=>{switch(x){case"matches":return e.jsx(M,{});case"bans":return e.jsx(V,{});case"players":return e.jsx(P,{});case"transactions":return e.jsx(q,{});default:return e.jsx(M,{})}};return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"p-4 bg-bg-secondary border-b border-border-light",children:[e.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-1",children:"Verwaltung"}),e.jsx("p",{className:"text-text-muted text-sm",children:"Hinzuf√ºgen und verwalten von Daten"})]}),e.jsx("div",{className:"bg-bg-secondary border-b border-border-light",children:e.jsx("div",{className:"flex overflow-x-auto",children:u.map(t=>e.jsxs("button",{onClick:()=>b(t.id),className:`flex-shrink-0 px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${x===t.id?"text-primary border-b-2 border-primary bg-bg-primary":"text-text-secondary hover:text-text-primary hover:bg-bg-hover"}`,children:[e.jsx("i",{className:`${t.icon} mr-2`}),t.label]},t.id))})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:l()})]})}export{_ as default};
