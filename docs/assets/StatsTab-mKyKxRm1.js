import{r as L,u as $,j as e,L as U}from"./index-Dd_uAWxQ.js";function ie(){const[s,l]=L.useState("performance"),[a,t]=L.useState("all"),{data:n,loading:r}=$("matches","*"),{data:h,loading:j}=$("players","*"),F=r||j,E=L.useMemo(()=>{if(!n||!h)return null;const G=new Date,f=n.filter(V=>{if(a==="all")return!0;const B=new Date(V.date),u=Math.floor((G-B)/(1e3*60*60*24));switch(a){case"30d":return u<=30;case"90d":return u<=90;case"1y":return u<=365;default:return!0}});return{performance:ge(f),trends:je(f),efficiency:fe(f),predictions:ue(f),playerComparison:be(f,h)}},[n,h,a]);return F?e.jsx(U,{message:"Lade erweiterte Analysen..."}):E?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:"ðŸ”¬ Erweiterte Analysen"}),e.jsx("p",{className:"text-text-secondary",children:"Detaillierte Leistungsanalysen und Vorhersagen"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("select",{value:a,onChange:G=>t(G.target.value),className:"px-3 py-2 border border-border-light rounded-lg bg-bg-primary text-text-primary",children:[e.jsx("option",{value:"all",children:"Alle Zeiten"}),e.jsx("option",{value:"30d",children:"Letzte 30 Tage"}),e.jsx("option",{value:"90d",children:"Letzte 90 Tage"}),e.jsx("option",{value:"1y",children:"Letztes Jahr"})]})})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[{id:"performance",label:"ðŸ“ˆ Leistung",icon:"ðŸ“ˆ"},{id:"trends",label:"ðŸ“Š Trends",icon:"ðŸ“Š"},{id:"efficiency",label:"âš¡ Effizienz",icon:"âš¡"},{id:"predictions",label:"ðŸ”® Vorhersagen",icon:"ðŸ”®"},{id:"comparison",label:"âš–ï¸ Vergleich",icon:"âš–ï¸"}].map(G=>e.jsxs("button",{onClick:()=>l(G.id),className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-colors ${s===G.id?"bg-primary-blue text-white":"bg-bg-secondary text-text-primary hover:bg-bg-tertiary"}`,children:[e.jsx("span",{children:G.icon}),e.jsx("span",{className:"hidden sm:inline",children:G.label})]},G.id))}),e.jsxs("div",{className:"grid gap-6",children:[s==="performance"&&e.jsx(ce,{data:E.performance}),s==="trends"&&e.jsx(de,{data:E.trends}),s==="efficiency"&&e.jsx(oe,{data:E.efficiency}),s==="predictions"&&e.jsx(xe,{data:E.predictions}),s==="comparison"&&e.jsx(me,{data:E.playerComparison})]})]}):e.jsx("div",{className:"p-4 text-center text-gray-500",children:"Nicht genÃ¼gend Daten fÃ¼r erweiterte Analysen verfÃ¼gbar."})}function ce({data:s}){return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"modern-card",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸŽ¯"})," Trefferquote"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"AEK Athen:"}),e.jsxs("span",{className:"font-semibold text-primary-blue",children:[s.shotAccuracy.aek,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Real Madrid:"}),e.jsxs("span",{className:"font-semibold text-accent-red",children:[s.shotAccuracy.real,"%"]})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸƒâ€â™‚ï¸"})," Form-Index"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"AEK Form:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${J(s.formIndex.aek)}`}),e.jsx("span",{className:"font-semibold",children:s.formIndex.aek.toFixed(1)})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Real Form:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${J(s.formIndex.real)}`}),e.jsx("span",{className:"font-semibold",children:s.formIndex.real.toFixed(1)})]})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ’ª"})," Leistungs-Rating"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Offensiv:"}),e.jsxs("span",{className:"font-semibold text-primary-green",children:[s.offensiveRating,"/10"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Defensiv:"}),e.jsxs("span",{className:"font-semibold text-primary-blue",children:[s.defensiveRating,"/10"]})]})]})]})]})}function de({data:s}){return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"modern-card",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ“ˆ"})," Leistungstrends (letzte 10 Spiele)"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2 text-primary-blue",children:"ðŸ”µ AEK Athen"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Tore/Spiel Trend:"}),e.jsxs("span",{className:`font-semibold ${s.goalTrend.aek>=0?"text-green-600":"text-red-600"}`,children:[s.goalTrend.aek>=0?"â†—ï¸":"â†˜ï¸"," ",Math.abs(s.goalTrend.aek).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Siegesserie:"}),e.jsxs("span",{className:"font-semibold",children:[s.winStreak.aek," Spiele"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Formkurve:"}),e.jsx("span",{className:"font-mono text-sm",children:s.formPattern.aek})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2 text-accent-red",children:"ðŸ”´ Real Madrid"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Tore/Spiel Trend:"}),e.jsxs("span",{className:`font-semibold ${s.goalTrend.real>=0?"text-green-600":"text-red-600"}`,children:[s.goalTrend.real>=0?"â†—ï¸":"â†˜ï¸"," ",Math.abs(s.goalTrend.real).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Siegesserie:"}),e.jsxs("span",{className:"font-semibold",children:[s.winStreak.real," Spiele"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Formkurve:"}),e.jsx("span",{className:"font-mono text-sm",children:s.formPattern.real})]})]})]})]})]})})}function oe({data:s}){return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"modern-card",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"âš¡"})," Offensive Effizienz"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-sm",children:"AEK Effizienz"}),e.jsxs("span",{className:"text-sm font-semibold",children:[s.offensiveEfficiency.aek,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary-blue h-2 rounded-full transition-all duration-300",style:{width:`${s.offensiveEfficiency.aek}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-sm",children:"Real Effizienz"}),e.jsxs("span",{className:"text-sm font-semibold",children:[s.offensiveEfficiency.real,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-accent-red h-2 rounded-full transition-all duration-300",style:{width:`${s.offensiveEfficiency.real}%`}})})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ›¡ï¸"})," Defensive StabilitÃ¤t"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Gegentore/Spiel:"}),e.jsx("span",{className:"font-semibold",children:s.defensiveStability.goalsAgainstAvg})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Zu Null Spiele:"}),e.jsxs("span",{className:"font-semibold",children:[s.defensiveStability.cleanSheets,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"StabilitÃ¤t-Index:"}),e.jsxs("span",{className:"font-semibold text-primary-green",children:[s.defensiveStability.stabilityIndex,"/10"]})]})]})]})]})}function xe({data:s}){return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"modern-card",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ”®"})," NÃ¤chstes Spiel Vorhersage"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{className:"p-4 bg-primary-blue/10 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-primary-blue",children:[s.nextMatch.aekWinChance,"%"]}),e.jsx("div",{className:"text-sm text-primary-blue",children:"AEK Sieg"})]}),e.jsxs("div",{className:"p-4 bg-gray-100 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-gray-600",children:[s.nextMatch.drawChance,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Unentschieden"})]}),e.jsxs("div",{className:"p-4 bg-accent-red/10 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-accent-red",children:[s.nextMatch.realWinChance,"%"]}),e.jsx("div",{className:"text-sm text-accent-red",children:"Real Sieg"})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-bg-secondary rounded-lg",children:[e.jsxs("div",{className:"text-sm text-text-secondary",children:[e.jsx("strong",{children:"Vorhergesagtes Ergebnis:"})," ",s.nextMatch.predictedScore]}),e.jsxs("div",{className:"text-sm text-text-secondary",children:[e.jsx("strong",{children:"Konfidenz:"})," ",s.nextMatch.confidence,"%"]})]})]})})}function me({data:s}){return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"modern-card",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"âš–ï¸"})," Spieler-Vergleich (Top 5)"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-border-light",children:[e.jsx("th",{className:"text-left py-2",children:"Spieler"}),e.jsx("th",{className:"text-center py-2",children:"Tore"}),e.jsx("th",{className:"text-center py-2",children:"âŒ€/Spiel"}),e.jsx("th",{className:"text-center py-2",children:"Effizienz"}),e.jsx("th",{className:"text-center py-2",children:"Form"})]})}),e.jsx("tbody",{children:s.topPlayers.map((l,a)=>e.jsxs("tr",{className:"border-b border-border-light/50",children:[e.jsx("td",{className:"py-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-6 h-6 bg-bg-secondary rounded-full flex items-center justify-center text-xs font-bold",children:a+1}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:l.name}),e.jsx("div",{className:"text-xs text-text-secondary",children:l.team})]})]})}),e.jsx("td",{className:"text-center py-2 font-semibold",children:l.goals}),e.jsx("td",{className:"text-center py-2",children:l.avgPerGame}),e.jsx("td",{className:"text-center py-2",children:e.jsxs("span",{className:`px-2 py-1 rounded text-xs ${he(l.efficiency)}`,children:[l.efficiency,"%"]})}),e.jsx("td",{className:"text-center py-2",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:`w-3 h-3 rounded-full ${J(l.form)}`})})})]},l.id))})]})})]})})}function J(s){return s>=8?"bg-green-500":s>=6?"bg-yellow-500":s>=4?"bg-orange-500":"bg-red-500"}function he(s){return s>=80?"bg-green-100 text-green-800":s>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}function ge(s){const l=s.reduce((n,r)=>n+(r.goalsa||0),0),a=s.reduce((n,r)=>n+(r.goalsb||0),0),t=s.length;return{shotAccuracy:{aek:t>0?Math.round(l/t*10):0,real:t>0?Math.round(a/t*10):0},formIndex:{aek:Q(s,"AEK"),real:Q(s,"Real")},offensiveRating:Math.min(10,Math.round((l+a)/t*2)),defensiveRating:Math.min(10,Math.round(10-(l+a)/t))}}function je(s){const l=s.slice(-10);return{goalTrend:{aek:q(l,"AEK"),real:q(l,"Real")},winStreak:{aek:Y(s,"AEK"),real:Y(s,"Real")},formPattern:{aek:X(l,"AEK"),real:X(l,"Real")}}}function fe(s){const l=s.length,a=s.reduce((t,n)=>t+(n.goalsa||0)+(n.goalsb||0),0);return{offensiveEfficiency:{aek:Math.round(s.reduce((t,n)=>t+(n.goalsa||0),0)/a*100),real:Math.round(s.reduce((t,n)=>t+(n.goalsb||0),0)/a*100)},defensiveStability:{goalsAgainstAvg:(a/l).toFixed(2),cleanSheets:Math.round(s.filter(t=>t.goalsa===0||t.goalsb===0).length/l*100),stabilityIndex:Math.min(10,Math.round(10-a/l))}}}function ue(s){const l=s.filter(r=>(r.goalsa||0)>(r.goalsb||0)).length,a=s.filter(r=>(r.goalsb||0)>(r.goalsa||0)).length,t=s.filter(r=>(r.goalsa||0)===(r.goalsb||0)).length,n=s.length;return{nextMatch:{aekWinChance:Math.round(l/n*100),realWinChance:Math.round(a/n*100),drawChance:Math.round(t/n*100),predictedScore:`${Math.round(s.reduce((r,h)=>r+(h.goalsa||0),0)/n)}-${Math.round(s.reduce((r,h)=>r+(h.goalsb||0),0)/n)}`,confidence:Math.min(95,60+Math.round(n/5))}}}function be(s,l){return{topPlayers:l.map(a=>({...a,avgPerGame:s.length>0?((a.goals||0)/s.length).toFixed(2):"0.00",efficiency:Math.min(100,Math.round((a.goals||0)/Math.max(1,s.length)*30)),form:Math.min(10,5+Math.random()*3)})).sort((a,t)=>(t.goals||0)-(a.goals||0)).slice(0,5)}}function Q(s,l){const a=s.slice(-5);let t=0;return a.forEach(n=>{const r=l==="AEK",h=r?n.goalsa||0:n.goalsb||0,j=r?n.goalsb||0:n.goalsa||0;h>j?t+=3:h===j&&(t+=1)}),Math.min(10,t/15*10)}function q(s,l){if(s.length<5)return 0;const a=s.slice(0,Math.floor(s.length/2)),t=s.slice(Math.floor(s.length/2)),n=a.reduce((h,j)=>h+(l==="AEK"?j.goalsa||0:j.goalsb||0),0)/a.length;return t.reduce((h,j)=>h+(l==="AEK"?j.goalsa||0:j.goalsb||0),0)/t.length-n}function Y(s,l){let a=0;for(let t=s.length-1;t>=0;t--){const n=s[t],r=l==="AEK",h=r?n.goalsa||0:n.goalsb||0,j=r?n.goalsb||0:n.goalsa||0;if(h>j)a++;else break}return a}function X(s,l){return s.slice(-5).map(a=>{const t=l==="AEK",n=t?a.goalsa||0:a.goalsb||0,r=t?a.goalsb||0:a.goalsa||0;return n>r?"W":n<r?"L":"D"}).join("")}function pe({limit:s=10,showTitle:l=!0,onNavigate:a}){const[t,n]=L.useState("all"),{data:r,loading:h}=$("matches","*",{order:{column:"date",ascending:!1}}),{data:j,loading:F}=$("players","*"),{data:E,loading:G}=$("bans","*",{order:{column:"id",ascending:!1}}),{data:f,loading:V}=$("transactions","*",{order:{column:"date",ascending:!1}}),B=h||F||G||V,u=L.useMemo(()=>{if(!r||!j||!E||!f)return[];const N=[];r==null||r.slice(0,5).forEach(v=>{const x=new Date(v.date);N.push({id:`match-${v.id}`,type:"match",icon:"âš½",title:`AEK ${v.goalsa||0} - ${v.goalsb||0} Real`,description:v.sds?`â­ SdS: ${v.sds}`:"Spiel gespielt",date:x,dateText:ee(x),action:()=>a==null?void 0:a("matches",{highlightMatch:v.id})})}),E==null||E.slice(0,3).forEach(v=>{const x=j.find(K=>K.id===v.player_id),w=(x==null?void 0:x.name)||v.player_name||"Unbekannt",R=(v.totalgames||0)-(v.matchesserved||0);N.push({id:`ban-${v.id}`,type:"ban",icon:"ðŸš«",title:`Sperre: ${w}`,description:`${v.type} â€¢ ${R>0?`${R} Spiele verbleibend`:"Abgelaufen"}`,date:new Date,dateText:"KÃ¼rzlich",action:()=>a==null?void 0:a("bans",{highlightBan:v.id})})}),f==null||f.slice(0,5).forEach(v=>{const x=new Date(v.date),w=v.amount||0;N.push({id:`transaction-${v.id}`,type:"transaction",icon:w>0?"ðŸ’°":"ðŸ’¸",title:`${w>0?"+":""}${w}â‚¬`,description:v.description||v.type||"Transaktion",date:x,dateText:ee(x),action:()=>a==null?void 0:a("finanzen",{highlightTransaction:v.id})})});const k=N.sort((v,x)=>x.date-v.date);return(t==="all"?k:k.filter(v=>v.type===t)).slice(0,s)},[r,j,E,f,t,s,a]),y=L.useMemo(()=>{if(!r||!E||!f)return{};const N=new Date,k=new Date(N.getTime()-7*24*60*60*1e3);return{matches:r.filter(S=>new Date(S.date)>=k).length,bans:E.filter(S=>(S.totalgames||0)-(S.matchesserved||0)>0).length,transactions:f.filter(S=>new Date(S.date)>=k).length}},[r,E,f]);return B?e.jsx(U,{message:"Lade AktivitÃ¤ten..."}):e.jsxs("div",{className:"bg-bg-primary border border-border-light rounded-lg shadow-sm",children:[l&&e.jsxs("div",{className:"p-4 border-b border-border-light",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:"Letzte AktivitÃ¤ten"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded border border-blue-200",children:[y.matches||0," Spiele (7T)"]}),e.jsxs("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded border border-red-200",children:[y.bans||0," aktive Sperren"]}),e.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded border border-green-200",children:[y.transactions||0," Transaktionen (7T)"]})]})})]}),e.jsx("div",{className:"flex gap-2 mt-3",children:[{key:"all",label:"Alle",count:u.length},{key:"match",label:"Spiele",count:u.filter(N=>N.type==="match").length},{key:"transaction",label:"Finanzen",count:u.filter(N=>N.type==="transaction").length},{key:"ban",label:"Sperren",count:u.filter(N=>N.type==="ban").length}].map(({key:N,label:k,count:S})=>e.jsxs("button",{onClick:()=>n(N),className:`px-3 py-1.5 rounded-lg text-sm transition-all duration-200 ${t===N?"bg-primary-green text-white":"bg-bg-secondary text-text-secondary hover:bg-bg-tertiary hover:text-text-primary"}`,children:[k," ",S>0&&`(${S})`]},N))})]}),e.jsx("div",{className:"divide-y divide-border-light",children:u.length===0?e.jsxs("div",{className:"p-6 text-center text-text-secondary",children:[e.jsx("div",{className:"text-4xl mb-2","aria-hidden":"true",children:"ðŸ“Š"}),e.jsx("p",{children:"Keine AktivitÃ¤ten gefunden"}),e.jsx("p",{className:"text-sm mt-1",children:t==="all"?"Beginne Daten hinzuzufÃ¼gen":`Keine ${t==="match"?"Spiele":t==="transaction"?"Transaktionen":"Sperren"} gefunden`})]}):u.map(N=>e.jsx("button",{onClick:N.action,className:"w-full p-4 text-left hover:bg-bg-secondary transition-colors duration-200 focus:outline-none focus:bg-bg-secondary",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl","aria-hidden":"true",children:N.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-medium text-text-primary truncate",children:N.title}),e.jsx("span",{className:"text-xs text-text-secondary whitespace-nowrap ml-2",children:N.dateText})]}),e.jsx("p",{className:"text-sm text-text-secondary truncate",children:N.description})]})]})},N.id))}),u.length>0&&l&&e.jsx("div",{className:"p-3 border-t border-border-light bg-bg-secondary",children:e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:()=>a==null?void 0:a("stats"),className:"text-sm text-primary-green hover:text-primary-green-dark transition-colors duration-200",children:"Alle Statistiken anzeigen â†’"})})})]})}function ee(s){const a=Math.floor((new Date-s)/(1e3*60)),t=Math.floor(a/60),n=Math.floor(t/24);return a<1?"Gerade eben":a<60?`vor ${a}m`:t<24?`vor ${t}h`:n<7?`vor ${n}d`:n<30?`vor ${Math.floor(n/7)}w`:s.toLocaleDateString("de-DE",{day:"numeric",month:"short"})}function Ne({onNavigate:s}){const[l,a]=L.useState("all"),{data:t,loading:n}=$("matches","*",{order:{column:"date",ascending:!1}}),{data:r,loading:h}=$("players","*"),{data:j,loading:F}=$("bans","*"),{data:E,loading:G}=$("transactions","*",{order:{column:"date",ascending:!1}}),{data:f,loading:V}=$("finances","*"),B=n||h||F||G||V,u=L.useMemo(()=>{if(!t||!r||!j||!E||!f)return null;const y=new Date,N={week:new Date(y.getTime()-7*24*60*60*1e3),month:new Date(y.getTime()-30*24*60*60*1e3),all:new Date(0)},k=N[l]||N.all,S=t.filter(g=>new Date(g.date)>=k),v=E.filter(g=>new Date(g.date)>=k),x={AEK:{wins:0,losses:0,goals:0,goalsAgainst:0},Real:{wins:0,losses:0,goals:0,goalsAgainst:0}};S.forEach(g=>{const b=g.goalsa||0,z=g.goalsb||0;x.AEK.goals+=b,x.AEK.goalsAgainst+=z,x.Real.goals+=z,x.Real.goalsAgainst+=b,b>z?(x.AEK.wins++,x.Real.losses++):z>b&&(x.Real.wins++,x.AEK.losses++)});const w={};r.forEach(g=>{w[g.id]={name:g.name,team:g.team,goals:0,matches:0,value:g.value||0}}),S.forEach(g=>{["goalscorer1a","goalscorer2a","goalscorer3a","goalscorer4a","goalscorer5a"].forEach(b=>{g[b]&&w[g[b]]&&(w[g[b]].goals++,w[g[b]].matches++)}),["goalscorer1b","goalscorer2b","goalscorer3b","goalscorer4b","goalscorer5b"].forEach(b=>{g[b]&&w[g[b]]&&(w[g[b]].goals++,w[g[b]].matches++)})});const R=f.find(g=>g.team==="AEK")||{balance:0},K=f.find(g=>g.team==="Real")||{balance:0},O=v.filter(g=>g.amount>0).reduce((g,b)=>g+b.amount,0),H=v.filter(g=>g.amount<0).reduce((g,b)=>g+Math.abs(b.amount),0),I=j.filter(g=>(g.totalgames||0)-(g.matchesserved||0)>0),W={AEK:I.filter(g=>{const b=r.find(z=>z.id===g.player_id);return(b==null?void 0:b.team)==="AEK"}).length,Real:I.filter(g=>{const b=r.find(z=>z.id===g.player_id);return(b==null?void 0:b.team)==="Real"}).length},C=Object.values(w).filter(g=>g.goals>0).sort((g,b)=>b.goals-g.goals).slice(0,5);return{teamRecords:x,playerStats:C,finances:{aek:R.balance||0,real:K.balance||0,income:O,expenses:H,net:O-H},bans:{active:I.length,aek:W.AEK,real:W.Real},totals:{matches:S.length,players:r.length,transactions:v.length}}},[t,r,j,E,f,l]);return B?e.jsx(U,{message:"Lade Dashboard..."}):u?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:"Dashboard"}),e.jsx("div",{className:"flex gap-2",children:[{key:"week",label:"Woche"},{key:"month",label:"Monat"},{key:"all",label:"Gesamt"}].map(({key:y,label:N})=>e.jsx("button",{onClick:()=>a(y),className:`px-3 py-2 rounded-lg text-sm transition-all duration-200 ${l===y?"bg-primary-green text-white":"bg-bg-secondary text-text-secondary hover:bg-bg-tertiary hover:text-text-primary"}`,children:N},y))})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(_,{icon:"âš½",title:"Spiele",value:u.totals.matches,subtitle:l==="all"?"Gesamt":"Im Zeitraum",color:"blue",onClick:()=>s==null?void 0:s("matches")}),e.jsx(_,{icon:"ðŸ‘¥",title:"Spieler",value:u.totals.players,subtitle:"Aktive Spieler",color:"green",onClick:()=>s==null?void 0:s("squad")}),e.jsx(_,{icon:"âš½",title:"Tore",value:u.teamRecords.AEK.goals+u.teamRecords.Real.goals,subtitle:l==="all"?"Gesamt":"Im Zeitraum",color:"green",onClick:()=>s==null?void 0:s("matches")}),e.jsx(_,{icon:"ðŸš«",title:"Sperren",value:u.bans.active,subtitle:"Aktive Sperren",color:"red",onClick:()=>s==null?void 0:s("bans")})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-bg-primary border border-border-light rounded-lg shadow-sm",children:[e.jsx("div",{className:"p-4 border-b border-border-light",children:e.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:"Team-Vergleich"})}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl","aria-hidden":"true",children:"ðŸ”µ"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-blue-900",children:"AEK"}),e.jsxs("div",{className:"text-sm text-blue-700",children:[u.teamRecords.AEK.wins,"S / ",u.teamRecords.AEK.losses,"N"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-blue-900",children:[u.teamRecords.AEK.goals,":",u.teamRecords.AEK.goalsAgainst]}),e.jsxs("div",{className:"text-sm text-blue-700",children:[u.bans.aek," Sperren"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl","aria-hidden":"true",children:"ðŸ”´"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-red-900",children:"Real"}),e.jsxs("div",{className:"text-sm text-red-700",children:[u.teamRecords.Real.wins,"S / ",u.teamRecords.Real.losses,"N"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-red-900",children:[u.teamRecords.Real.goals,":",u.teamRecords.Real.goalsAgainst]}),e.jsxs("div",{className:"text-sm text-red-700",children:[u.bans.real," Sperren"]})]})]})]})})]}),e.jsxs("div",{className:"bg-bg-primary border border-border-light rounded-lg shadow-sm",children:[e.jsx("div",{className:"p-4 border-b border-border-light",children:e.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:"Top TorschÃ¼tzen"})}),e.jsx("div",{className:"p-4",children:u.playerStats.length===0?e.jsxs("div",{className:"text-center text-text-secondary py-4",children:[e.jsx("div",{className:"text-2xl mb-2","aria-hidden":"true",children:"âš½"}),e.jsx("p",{children:"Keine Tore im Zeitraum"})]}):e.jsx("div",{className:"space-y-3",children:u.playerStats.map((y,N)=>{var k;return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-primary-green text-white text-xs flex items-center justify-center font-bold",children:N+1}),e.jsx("span",{className:y.team==="AEK"?"text-blue-600":"text-red-600",children:y.team==="AEK"?"ðŸ”µ":"ðŸ”´"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-text-primary",children:y.name}),e.jsxs("div",{className:"text-sm text-text-secondary",children:[(k=y.value)==null?void 0:k.toFixed(1),"M â‚¬"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-text-primary",children:[y.goals," Tore"]}),e.jsxs("div",{className:"text-sm text-text-secondary",children:[y.matches," Spiele"]})]})]},y.name)})})})]})]}),e.jsx(pe,{onNavigate:s,limit:5})]}):e.jsxs("div",{className:"p-6 text-center text-text-secondary",children:[e.jsx("div",{className:"text-4xl mb-2","aria-hidden":"true",children:"ðŸ“Š"}),e.jsx("p",{children:"Keine Daten verfÃ¼gbar"})]})}function _({icon:s,title:l,value:a,subtitle:t,color:n="gray",onClick:r}){const h={blue:"bg-blue-50 border-blue-200 text-blue-900",green:"bg-green-50 border-green-200 text-green-900",red:"bg-red-50 border-red-200 text-red-900",gray:"bg-gray-50 border-gray-200 text-gray-900"};return e.jsx("button",{onClick:r,className:`p-4 rounded-lg border transition-all duration-200 hover:shadow-md ${h[n]} ${r?"hover:scale-105 cursor-pointer":"cursor-default"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl","aria-hidden":"true",children:s}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-2xl font-bold",children:a}),e.jsx("div",{className:"text-sm opacity-75",children:l}),e.jsx("div",{className:"text-xs opacity-60",children:t})]})]})})}class ve{constructor(l,a,t,n){this.matches=l||[],this.players=a||[],this.bans=t||[],this.spielerDesSpiels=n||[],this.aekPlayers=(a||[]).filter(r=>r.team==="AEK"),this.realPlayers=(a||[]).filter(r=>r.team==="Real")}calculateTeamRecords(){const l={wins:0,losses:0},a={wins:0,losses:0};return this.matches.forEach(t=>{const n=t.goalsa||0,r=t.goalsb||0;n>r?(l.wins++,a.losses++):r>n&&(a.wins++,l.losses++)}),{aek:l,real:a}}calculateRecentForm(l=5){const a=this.matches.slice(-l),t=[],n=[];return a.forEach(r=>{const h=r.goalsa||0,j=r.goalsb||0;h>j?(t.push("W"),n.push("L")):j>h?(t.push("L"),n.push("W")):(t.push("D"),n.push("D"))}),{aek:t,real:n}}calculatePlayerStats(){return this.players.map(l=>{const a=this.countPlayerMatches(),t=this.bans.filter(h=>h.player_id===l.id),n=this.spielerDesSpiels.find(h=>h.name===l.name&&h.team===l.team),r=n&&n.count||0;return{...l,goals:l.goals||0,matchesPlayed:a,sdsCount:r,goalsPerGame:a>0?((l.goals||0)/a).toFixed(2):"0.00",totalBans:t.length,disciplinaryScore:this.calculateDisciplinaryScore(t)}}).sort((l,a)=>(a.goals||0)-(l.goals||0))}countPlayerGoalsFromMatches(l,a){let t=0;return this.matches.forEach(n=>{a==="AEK"&&n.goalslista&&(Array.isArray(n.goalslista)?n.goalslista:typeof n.goalslista=="string"?JSON.parse(n.goalslista):[]).forEach(h=>{const j=typeof h=="string"?h:h.player,F=typeof h=="string"?1:h.count||1;j===l&&(t+=F)}),a==="Real"&&n.goalslistb&&(Array.isArray(n.goalslistb)?n.goalslistb:typeof n.goalslistb=="string"?JSON.parse(n.goalslistb):[]).forEach(h=>{const j=typeof h=="string"?h:h.player,F=typeof h=="string"?1:h.count||1;j===l&&(t+=F)})}),t}countPlayerMatches(){return this.matches.length}calculateDisciplinaryScore(l){let a=0;return l.forEach(t=>{switch(t.type){case"Gelb-Rote Karte":a+=3;break;case"Rote Karte":a+=5;break;case"Verletzung":a+=1;break;default:a+=1}}),a}calculateAdvancedStats(){const l=this.matches.length,a=this.matches.reduce((t,n)=>t+(n.goalsa||0)+(n.goalsb||0),0);return{avgGoalsPerMatch:l>0?(a/l).toFixed(2):"0.00",totalMatches:l,totalGoals:a,aekTotalGoals:this.matches.reduce((t,n)=>t+(n.goalsa||0),0),realTotalGoals:this.matches.reduce((t,n)=>t+(n.goalsb||0),0),highestScoringMatch:l>0?Math.max(...this.matches.map(t=>(t.goalsa||0)+(t.goalsb||0))):0,cleanSheets:{aek:this.matches.filter(t=>t.goalsb===0).length,real:this.matches.filter(t=>t.goalsa===0).length}}}calculatePerformanceTrends(){const l={};return this.matches.forEach(a=>{const t=new Date(a.date),n=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`;l[n]||(l[n]={month:n,aekWins:0,realWins:0,totalGoals:0,matchCount:0});const r=a.goalsa||0,h=a.goalsb||0;l[n].totalGoals+=r+h,l[n].matchCount++,r>h?l[n].aekWins++:h>r&&l[n].realWins++}),l}calculateHeadToHead(){const l={totalMatches:this.matches.length,aekWins:0,realWins:0,aekGoals:0,realGoals:0,biggestAekWin:{diff:0,score:"",date:"",opponent:"Real Madrid"},biggestRealWin:{diff:0,score:"",date:"",opponent:"AEK Athen"}};return this.matches.forEach(a=>{const t=a.goalsa||0,n=a.goalsb||0,r=Math.abs(t-n);l.aekGoals+=t,l.realGoals+=n,t>n?(l.aekWins++,r>l.biggestAekWin.diff&&(l.biggestAekWin={diff:r,score:`${t}:${n}`,date:a.date||"",opponent:"Real Madrid"})):n>t&&(l.realWins++,r>l.biggestRealWin.diff&&(l.biggestRealWin={diff:r,score:`${n}:${t}`,date:a.date||"",opponent:"AEK Athen"}))}),l}}function Se({onNavigate:s}){const[l,a]=L.useState("dashboard"),[t,n]=L.useState({aekPlayer:"",realPlayer:"",aekGoals:0,realGoals:0}),{data:r,loading:h}=$("matches","*"),{data:j,loading:F}=$("players","*"),{data:E,loading:G}=$("spieler_des_spiels","*"),{data:f,loading:V}=$("bans","*"),B=h||F||G||V,u=new ve(r,j,f,E),y=u.calculateTeamRecords(),N=u.calculateRecentForm(5),k=u.calculatePlayerStats(),S=u.calculateAdvancedStats(),v=u.calculatePerformanceTrends(),x=u.calculateHeadToHead(),w=(r==null?void 0:r.length)||0,R=(j==null?void 0:j.filter(i=>i.team==="AEK"))||[],K=(j==null?void 0:j.filter(i=>i.team==="Real"))||[],O=R.reduce((i,d)=>i+(d.value||0),0),H=K.reduce((i,d)=>i+(d.value||0),0),I=O+H,W=y.aek.wins,C=y.real.wins,g=i=>i.map((d,D)=>e.jsx("span",{className:`inline-block w-6 h-6 text-xs font-bold rounded-full text-center leading-6 mx-0.5 ${d==="W"?"bg-green-500 text-white":d==="L"?"bg-red-500 text-white":"bg-gray-400 text-white"}`,children:d},D)),b=i=>`${(i||0).toFixed(1)}M â‚¬`,z=[{id:"dashboard",label:"Dashboard",icon:"ðŸŽ¯"},{id:"overview",label:"Ãœbersicht",icon:"ðŸ“Š"},{id:"players",label:"Spieler",icon:"ðŸ‘¥"},{id:"teams",label:"Teams",icon:"ðŸ†"},{id:"trends",label:"Trends",icon:"ðŸ“ˆ"},{id:"alkohol",label:"Alkohol",icon:"ðŸº"},{id:"advanced",label:"Erweitert",icon:"ðŸ”¬"}];if(B)return e.jsx(U,{message:"Lade Statistiken..."});const se=()=>{const i=k.length>0?k[0]:null,d=k.filter(o=>o.sdsCount>0).sort((o,c)=>c.sdsCount-o.sdsCount)[0],D=r==null?void 0:r.reduce((o,c)=>{const m=A=>{if(!A)return[];try{return typeof A=="string"?JSON.parse(A):A}catch{return[]}},p=m(c.goalslista),T=m(c.goalslistb);return[...p,...T].forEach(A=>{const M=typeof A=="object"?A.player:A,P=typeof A=="object"?A.count:1;P>o.count&&(o={player:M,count:P,match:c})}),o},{player:null,count:0,match:null});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-green",children:w}),e.jsx("div",{className:"text-sm text-text-muted",children:"Spiele gespielt"})]}),e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-green",children:S.totalGoals}),e.jsx("div",{className:"text-sm text-text-muted",children:"Tore insgesamt"}),e.jsxs("div",{className:"text-xs text-text-muted mt-1",children:["âŒ€ ",w>0?(S.totalGoals/w).toFixed(1):"0.0","/Spiel"]})]}),e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-lg font-bold text-primary-green",children:i?i.name:"Keine Daten"}),e.jsxs("div",{className:"text-sm text-text-muted",children:["ðŸ¥‡ Topscorer (",i?i.goals:0," Tore)"]}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:i&&i.matchesPlayed>0?`âŒ€ ${(i.goals/i.matchesPlayed).toFixed(2)}/Spiel`:"âŒ€ 0.00/Spiel"})]}),e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-lg font-bold text-primary-green",children:d?d.name:"Keine Daten"}),e.jsxs("div",{className:"text-sm text-text-muted",children:["â­ Top SdS (",d?d.sdsCount:0,"x)"]}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:d&&d.matchesPlayed>0?`${(d.sdsCount/d.matchesPlayed*100).toFixed(1)}% Quote`:"0.0% Quote"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-xl font-bold text-blue-600",children:x.biggestAekWin.diff>0?x.biggestAekWin.score:"â€“"}),e.jsx("div",{className:"text-sm text-text-muted",children:"ðŸ”µ GrÃ¶ÃŸter AEK Sieg"}),x.biggestAekWin.diff>0&&e.jsxs("div",{className:"text-xs text-text-muted mt-1",children:["vs ",x.biggestAekWin.opponent,e.jsx("br",{}),new Date(x.biggestAekWin.date).toLocaleDateString("de-DE")]})]}),e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-xl font-bold text-red-600",children:x.biggestRealWin.diff>0?x.biggestRealWin.score:"â€“"}),e.jsx("div",{className:"text-sm text-text-muted",children:"ðŸ”´ GrÃ¶ÃŸter Real Sieg"}),x.biggestRealWin.diff>0&&e.jsxs("div",{className:"text-xs text-text-muted mt-1",children:["vs ",x.biggestRealWin.opponent,e.jsx("br",{}),new Date(x.biggestRealWin.date).toLocaleDateString("de-DE")]})]}),e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-xl font-bold text-accent-blue",children:(D==null?void 0:D.player)||"Keine Daten"}),e.jsxs("div",{className:"text-sm text-text-muted",children:["âš½ Meiste Tore (",(D==null?void 0:D.count)||0," in einem Spiel)"]}),(D==null?void 0:D.match)&&e.jsx("div",{className:"text-xs text-text-muted mt-1",children:new Date(D.match.date).toLocaleDateString("de-DE")})]}),e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-xl font-bold text-accent-red",children:(()=>{const o={};f==null||f.forEach(m=>{const p=j==null?void 0:j.find(A=>A.id===m.player_id),T=(p==null?void 0:p.name)||"Unbekannt";o[T]=(o[T]||0)+1});const c=Object.entries(o).sort((m,p)=>p[1]-m[1])[0];return c?c[0]:"Keine Daten"})()}),e.jsxs("div",{className:"text-sm text-text-muted",children:["ðŸŸ¥ Meiste Sperren (",(()=>{const o={};f==null||f.forEach(m=>{const p=j==null?void 0:j.find(A=>A.id===m.player_id),T=(p==null?void 0:p.name)||"Unbekannt";o[T]=(o[T]||0)+1});const c=Object.entries(o).sort((m,p)=>p[1]-m[1])[0];return c?c[1]:0})(),"x)"]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"ðŸ“Š Erweiterte Statistiken"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold text-primary-green",children:(()=>{const o=(f==null?void 0:f.reduce((m,p)=>{const T=new Date(p.start_date),A=new Date(p.end_date),M=Math.ceil((A-T)/(1e3*60*60*24));return m+(M>0?M:0)},0))||0;return`${(f==null?void 0:f.length)>0?(o/f.length).toFixed(1):"0.0"} Tage`})()}),e.jsx("div",{className:"text-sm text-text-muted",children:"âŒ€ SperrenlÃ¤nge"})]}),e.jsxs("div",{className:"text-center p-3 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold text-accent-blue",children:k.filter(o=>o.goals>0).length}),e.jsx("div",{className:"text-sm text-text-muted",children:"Aktive TorschÃ¼tzen"})]}),e.jsxs("div",{className:"text-center p-3 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold text-accent-red",children:(f==null?void 0:f.length)||0}),e.jsx("div",{className:"text-sm text-text-muted",children:"Gesamt Sperren"})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"ðŸ’¡ Besondere Statistiken"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"text-xl font-bold text-green-600",children:(()=>{let o=0,c=0,m=0;return r==null||r.forEach(p=>{const T=p.goalsa||0,A=p.goalsb||0;T>A?(c++,m=0,c>o&&(o=c)):A>T?(m++,c=0,m>o&&(o=m)):(c=0,m=0)}),o})()}),e.jsx("div",{className:"text-sm text-green-700",children:"ðŸ”¥ LÃ¤ngste Siegesserie"}),e.jsx("div",{className:"text-xs text-green-600 mt-1",children:(()=>{let o=0,c=0,m=0,p="";return r==null||r.forEach(T=>{const A=T.goalsa||0,M=T.goalsb||0;A>M?(c++,m=0,c>o&&(o=c,p="AEK")):M>A?(m++,c=0,m>o&&(o=m,p="Real")):(c=0,m=0)}),p||"Keine"})()})]}),e.jsxs("div",{className:"text-center p-3 bg-gradient-to-br from-yellow-50 to-orange-50 rounded-lg border border-yellow-200",children:[e.jsx("div",{className:"text-xl font-bold text-yellow-600",children:(()=>{let o=0;return k.forEach(c=>{if(c.matchesPlayed>0){const m=c.goals/c.matchesPlayed;m>o&&(o=m)}}),o.toFixed(2)})()}),e.jsx("div",{className:"text-sm text-yellow-700",children:"âš¡ HÃ¶chste Effizienz"}),e.jsx("div",{className:"text-xs text-yellow-600 mt-1",children:(()=>{let o=0,c=null;return k.forEach(m=>{if(m.matchesPlayed>0){const p=m.goals/m.matchesPlayed;p>o&&(o=p,c=m.name)}}),c||"Keine Daten"})()})]}),e.jsxs("div",{className:"text-center p-3 bg-gradient-to-br from-blue-50 to-cyan-50 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"text-xl font-bold text-blue-600",children:(()=>{const o=y.aek.wins,c=y.real.wins;return o+c===0?"100%":`${(Math.min(o,c)/Math.max(o,c)*100).toFixed(0)}%`})()}),e.jsx("div",{className:"text-sm text-blue-700",children:"âš–ï¸ Team-Balance"}),e.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Ausgeglichenheit (",y.aek.wins,":",y.real.wins,")"]})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"modern-card border-l-4 border-blue-400",children:[e.jsx("h3",{className:"font-bold text-lg mb-4 text-blue-600",children:"AEK Athen"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Siege:"}),e.jsx("span",{className:"font-semibold text-green-600",children:W})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Niederlagen:"}),e.jsx("span",{className:"font-semibold text-red-600",children:y.aek.losses})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Marktwert:"}),e.jsx("span",{className:"font-semibold",children:b(O)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Zu Null:"}),e.jsx("span",{className:"font-semibold",children:S.cleanSheets.aek})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("div",{className:"text-sm text-text-muted mb-1",children:"Form (letzte 5):"}),e.jsx("div",{className:"flex",children:g(N.aek)})]})]})]}),e.jsxs("div",{className:"modern-card border-l-4 border-red-400",children:[e.jsx("h3",{className:"font-bold text-lg mb-4 text-red-600",children:"Real Madrid"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Siege:"}),e.jsx("span",{className:"font-semibold text-green-600",children:C})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Niederlagen:"}),e.jsx("span",{className:"font-semibold text-red-600",children:y.real.losses})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Marktwert:"}),e.jsx("span",{className:"font-semibold",children:b(H)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Zu Null:"}),e.jsx("span",{className:"font-semibold",children:S.cleanSheets.real})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("div",{className:"text-sm text-text-muted mb-1",children:"Form (letzte 5):"}),e.jsx("div",{className:"flex",children:g(N.real)})]})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"ðŸ† Top-TorschÃ¼tzen"}),e.jsx("div",{className:"space-y-2",children:k.slice(0,5).map((o,c)=>e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border-light last:border-b-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${c===0?"bg-yellow-500 text-white":c===1?"bg-gray-400 text-white":c===2?"bg-orange-600 text-white":"bg-gray-200 text-gray-600"}`,children:c+1}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:o.name}),e.jsx("div",{className:"text-sm text-text-muted",children:o.team})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold",children:[o.goals," Tore"]}),e.jsxs("div",{className:"text-sm text-text-muted",children:[o.goalsPerGame," âŒ€"]})]})]},o.id))})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"â­ Top-Spieler des Spiels"}),e.jsx("div",{className:"space-y-2",children:k.filter(o=>o.sdsCount>0).sort((o,c)=>c.sdsCount-o.sdsCount).slice(0,5).map((o,c)=>e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border-light last:border-b-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${c===0?"bg-yellow-500 text-white":c===1?"bg-gray-400 text-white":c===2?"bg-orange-600 text-white":"bg-gray-200 text-gray-600"}`,children:c+1}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:o.name}),e.jsx("div",{className:"text-sm text-text-muted",children:o.team})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold",children:[o.sdsCount,"x SdS"]}),e.jsxs("div",{className:"text-sm text-text-muted",children:[o.matchesPlayed>0?(o.sdsCount/o.matchesPlayed*100).toFixed(1):"0.0","% Quote"]})]})]},o.id))}),k.filter(o=>o.sdsCount>0).length===0&&e.jsx("div",{className:"text-center text-text-muted py-4",children:"Noch keine Spieler des Spiels Auszeichnungen vergeben"})]})]})},te=()=>e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"ðŸ“Š Spielerstatistiken"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-border-light",children:[e.jsx("th",{className:"text-left py-2",children:"Spieler"}),e.jsx("th",{className:"text-left py-2",children:"Team"}),e.jsx("th",{className:"text-center py-2",children:"Tore"}),e.jsx("th",{className:"text-center py-2",children:"âŒ€/Spiel"}),e.jsx("th",{className:"text-center py-2",children:"SdS"}),e.jsx("th",{className:"text-center py-2",children:"Sperren"}),e.jsx("th",{className:"text-right py-2",children:"Marktwert"})]})}),e.jsx("tbody",{children:k.map(i=>e.jsxs("tr",{className:"border-b border-border-light hover:bg-bg-secondary",children:[e.jsx("td",{className:"py-2 font-medium",children:i.name}),e.jsx("td",{className:"py-2",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${i.team==="AEK"?"bg-blue-100 text-blue-800":i.team==="Ehemalige"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:i.team})}),e.jsx("td",{className:"py-2 text-center font-bold",children:i.goals}),e.jsx("td",{className:"py-2 text-center",children:i.goalsPerGame}),e.jsx("td",{className:"py-2 text-center",children:i.sdsCount}),e.jsx("td",{className:"py-2 text-center",children:i.totalBans}),e.jsx("td",{className:"py-2 text-right",children:b(i.value)})]},i.id))})]})})]}),ae=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"âš–ï¸ Team-Vergleich"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-blue-600",children:"AEK Athen"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Aktive Spieler:"}),e.jsx("span",{className:"font-medium",children:R.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Siege:"}),e.jsx("span",{className:"font-medium",children:W})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Niederlagen:"}),e.jsx("span",{className:"font-medium",children:y.aek.losses})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Gesamtmarktwert:"}),e.jsx("span",{className:"font-medium",children:b(O)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Zu Null Spiele:"}),e.jsx("span",{className:"font-medium",children:S.cleanSheets.aek})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-red-600",children:"Real Madrid"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Aktive Spieler:"}),e.jsx("span",{className:"font-medium",children:K.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Siege:"}),e.jsx("span",{className:"font-medium",children:C})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Niederlagen:"}),e.jsx("span",{className:"font-medium",children:y.real.losses})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Gesamtmarktwert:"}),e.jsx("span",{className:"font-medium",children:b(H)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Zu Null Spiele:"}),e.jsx("span",{className:"font-medium",children:S.cleanSheets.real})]})]})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"ðŸ“ˆ Erweiterte Statistiken"}),e.jsx("div",{className:"mb-4 text-sm text-text-muted",children:"Diese Statistiken bieten tiefere Einblicke in die Team-Performance und wichtige Kennzahlen."}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-green",children:S.highestScoringMatch}),e.jsx("div",{className:"text-sm text-text-muted",children:"HÃ¶chste Toranzahl"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:"in einem einzelnen Spiel"})]}),e.jsxs("div",{className:"text-center p-4 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-green",children:b(I)}),e.jsx("div",{className:"text-sm text-text-muted",children:"Gesamtmarktwert"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:"aller aktiven Spieler"})]}),e.jsxs("div",{className:"text-center p-4 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-accent-orange",children:Math.abs(W-C)}),e.jsx("div",{className:"text-sm text-text-muted",children:"Siegesdifferenz"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:"zwischen den Teams"})]}),e.jsxs("div",{className:"text-center p-4 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-accent-blue",children:w>0?((R.length+K.length)*(w/2)).toFixed(0):0}),e.jsx("div",{className:"text-sm text-text-muted",children:"GeschÃ¤tzte Spielminuten"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:"pro Spieler (âŒ€ 45min)"})]})]}),e.jsxs("div",{className:"mt-6 grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-text-primary",children:"ðŸŽ¯ Offensive Highlights"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Torreichstes Team:"}),e.jsxs("span",{className:"font-medium",children:[S.aekTotalGoals>=S.realTotalGoals?"AEK Athen":"Real Madrid","(",Math.max(S.aekTotalGoals,S.realTotalGoals)," Tore)"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"HÃ¶chste Einzelspiel-Toranzahl:"}),e.jsxs("span",{className:"font-medium",children:[S.highestScoringMatch," Tore"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Aktivster TorschÃ¼tze:"}),e.jsx("span",{className:"font-medium",children:k.length>0?`${k[0].name} (${k[0].goals} Tore)`:"Keine Daten"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-text-primary",children:"âš–ï¸ Team-Balance"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Kader-Unterschied:"}),e.jsxs("span",{className:"font-medium",children:[Math.abs(R.length-K.length)," Spieler"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Marktwert-VerhÃ¤ltnis:"}),e.jsx("span",{className:"font-medium",children:R.reduce((i,d)=>i+(d.value||0),0)>K.reduce((i,d)=>i+(d.value||0),0)?"AEK fÃ¼hrt":"Real fÃ¼hrt"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Dominanteres Team:"}),e.jsx("span",{className:"font-medium",children:W>C?"AEK Athen":C>W?"Real Madrid":"Ausgeglichen"})]})]})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"âš”ï¸ Head-to-Head Bilanz"}),e.jsx("div",{className:"mb-4 text-sm text-text-muted",children:"Direkter Vergleich zwischen AEK Athen und Real Madrid Ã¼ber alle Spiele."}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:x.aekWins}),e.jsx("div",{className:"text-sm text-blue-700",children:"AEK Siege"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:x.totalMatches>0?`${(x.aekWins/x.totalMatches*100).toFixed(1)}%`:"0%"})]}),e.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:x.realWins}),e.jsx("div",{className:"text-sm text-red-700",children:"Real Siege"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:x.totalMatches>0?`${(x.realWins/x.totalMatches*100).toFixed(1)}%`:"0%"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-600",children:x.totalMatches-x.aekWins-x.realWins}),e.jsx("div",{className:"text-sm text-gray-700",children:"Unentschieden"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:x.totalMatches>0?`${((x.totalMatches-x.aekWins-x.realWins)/x.totalMatches*100).toFixed(1)}%`:"0%"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:x.aekGoals+x.realGoals}),e.jsx("div",{className:"text-sm text-green-700",children:"Tore gesamt"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:x.totalMatches>0?`âŒ€ ${((x.aekGoals+x.realGoals)/x.totalMatches).toFixed(1)} pro Spiel`:"âŒ€ 0 pro Spiel"})]})]}),e.jsxs("div",{className:"mt-6 grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"ðŸ”µ GrÃ¶ÃŸter AEK Sieg"}),x.biggestAekWin.diff>0?e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:x.biggestAekWin.score}),e.jsxs("div",{className:"text-sm text-blue-700",children:["Unterschied: ",x.biggestAekWin.diff," Tore"]}),e.jsx("div",{className:"text-xs text-text-muted",children:new Date(x.biggestAekWin.date).toLocaleDateString("de-DE")})]}):e.jsx("div",{className:"text-gray-500",children:"Noch kein Sieg verzeichnet"})]}),e.jsxs("div",{className:"p-4 bg-red-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-red-800 mb-2",children:"ðŸ”´ GrÃ¶ÃŸter Real Sieg"}),x.biggestRealWin.diff>0?e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-red-600 mb-1",children:x.biggestRealWin.score}),e.jsxs("div",{className:"text-sm text-red-700",children:["Unterschied: ",x.biggestRealWin.diff," Tore"]}),e.jsx("div",{className:"text-xs text-text-muted",children:new Date(x.biggestRealWin.date).toLocaleDateString("de-DE")})]}):e.jsx("div",{className:"text-gray-500",children:"Noch kein Sieg verzeichnet"})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"ðŸ”¬ Detailanalyse"}),e.jsx("div",{className:"mb-4 text-sm text-text-muted",children:"Erweiterte Metriken fÃ¼r eine tiefgreifende Team-Analyse."}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-blue-600",children:"ðŸ’° Wirtschaftliche Effizienz"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"âŒ€ Marktwert AEK:"}),e.jsx("span",{className:"font-medium",children:R.length>0?`${(R.reduce((i,d)=>i+(d.value||0),0)/R.length).toFixed(1)}M â‚¬`:"0M â‚¬"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"âŒ€ Marktwert Real:"}),e.jsx("span",{className:"font-medium",children:K.length>0?`${(K.reduce((i,d)=>i+(d.value||0),0)/K.length).toFixed(1)}M â‚¬`:"0M â‚¬"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Tore pro 1M â‚¬ (AEK):"}),e.jsx("span",{className:"font-medium",children:R.reduce((i,d)=>i+(d.value||0),0)>0?(S.aekTotalGoals/R.reduce((i,d)=>i+(d.value||0),0)).toFixed(2):"0.00"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Tore pro 1M â‚¬ (Real):"}),e.jsx("span",{className:"font-medium",children:K.reduce((i,d)=>i+(d.value||0),0)>0?(S.realTotalGoals/K.reduce((i,d)=>i+(d.value||0),0)).toFixed(2):"0.00"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-red-600",children:"ðŸŽ² Spielstatistiken"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Spiele gespielt:"}),e.jsx("span",{className:"font-medium",children:w})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Unentschieden:"}),e.jsx("span",{className:"font-medium",children:w-W-C})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"âŒ€ Spieldauer:"}),e.jsx("span",{className:"font-medium",children:"~90 Minuten"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"LÃ¤ngste Serie:"}),e.jsxs("span",{className:"font-medium",children:[W>=C?"AEK":"Real"," (",Math.max(W,C)," Siege)"]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-purple-600",children:"ðŸ† Erfolgs-Metriken"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Aktivste Spieler:"}),e.jsx("span",{className:"font-medium",children:R.length+K.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Top-Performer:"}),e.jsxs("span",{className:"font-medium",children:[k.filter(i=>i.sdsCount>0).length," Spieler"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Konsistenz AEK:"}),e.jsx("span",{className:"font-medium",children:w>0?`${(W/w*100).toFixed(0)}% Erfolg`:"0% Erfolg"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Konsistenz Real:"}),e.jsx("span",{className:"font-medium",children:w>0?`${(C/w*100).toFixed(0)}% Erfolg`:"0% Erfolg"})]})]})]})]})]})]}),le=()=>e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"ðŸ“ˆ Performance-Trends"}),e.jsx("div",{className:"space-y-4",children:Object.values(v).reverse().map(i=>e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-border-light last:border-b-0",children:[e.jsx("div",{className:"font-medium",children:i.month}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-sm",children:[e.jsxs("span",{className:"text-blue-600 font-medium",children:["AEK: ",i.aekWins]}),e.jsx("span",{className:"mx-2",children:"vs"}),e.jsxs("span",{className:"text-red-600 font-medium",children:["Real: ",i.realWins]})]}),e.jsxs("div",{className:"text-sm text-text-muted",children:[i.matchCount," Spiele, ",i.totalGoals," Tore"]}),e.jsxs("div",{className:"text-sm font-medium",children:["âŒ€ ",(i.totalGoals/i.matchCount).toFixed(1)," Tore/Spiel"]})]})]},i.month))})]}),ne=()=>{const d=(()=>{const c={totalShots:0,aekShots:0,realShots:0,playerShots:{}};return r==null||r.forEach(m=>{const p=m.goalsa||0,T=m.goalsb||0;if(c.totalShots+=(p+T)*2,c.aekShots+=T*2,c.realShots+=p*2,m.goalslista)try{(typeof m.goalslista=="string"?JSON.parse(m.goalslista):m.goalslista).forEach(M=>{const P=typeof M=="object"?M.player:M,Z=typeof M=="object"?M.count:1;c.playerShots[P]||(c.playerShots[P]=0),c.playerShots[P]+=Z*2})}catch{}if(m.goalslistb)try{(typeof m.goalslistb=="string"?JSON.parse(m.goalslistb):m.goalslistb).forEach(M=>{const P=typeof M=="object"?M.player:M,Z=typeof M=="object"?M.count:1;c.playerShots[P]||(c.playerShots[P]=0),c.playerShots[P]+=Z*2})}catch{}}),c})(),D=Object.entries(d.playerShots).sort(([,c],[,m])=>m-c).slice(0,10),o=()=>(t.aekGoals+t.realGoals)*2;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-3xl mb-2",children:"ðŸº"}),e.jsxs("div",{className:"text-2xl font-bold text-primary-green",children:[d.totalShots,"cl"]}),e.jsx("div",{className:"text-sm text-text-muted",children:"Gesamt Schnaps"}),e.jsxs("div",{className:"text-xs text-text-muted mt-1",children:["â‰ˆ ",(d.totalShots/20).toFixed(1)," GlÃ¤ser"]})]}),e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-3xl mb-2",children:"ðŸ”µ"}),e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[d.aekShots,"cl"]}),e.jsx("div",{className:"text-sm text-text-muted",children:"AEK getrunken"}),e.jsxs("div",{className:"text-xs text-text-muted mt-1",children:[d.totalShots>0?(d.aekShots/d.totalShots*100).toFixed(1):0,"% vom Gesamt"]})]}),e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-3xl mb-2",children:"ðŸ”´"}),e.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[d.realShots,"cl"]}),e.jsx("div",{className:"text-sm text-text-muted",children:"Real getrunken"}),e.jsxs("div",{className:"text-xs text-text-muted mt-1",children:[d.totalShots>0?(d.realShots/d.totalShots*100).toFixed(1):0,"% vom Gesamt"]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"ðŸ» Top Alkohol-Verursacher"}),e.jsx("div",{className:"text-sm text-text-muted mb-4",children:"Spieler, die mit ihren Toren am meisten Alkohol fÃ¼r den Gegner verursacht haben"}),e.jsxs("div",{className:"space-y-3",children:[D.map(([c,m],p)=>e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border-light last:border-b-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${p===0?"bg-yellow-500 text-white":p===1?"bg-gray-400 text-white":p===2?"bg-orange-600 text-white":"bg-gray-200 text-gray-600"}`,children:p+1}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:c}),e.jsxs("div",{className:"text-sm text-text-muted",children:["â‰ˆ ",(m/20).toFixed(1)," GlÃ¤ser"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold text-primary-green",children:[m,"cl"]}),e.jsx("div",{className:"text-sm text-text-muted",children:"verursacht"})]})]},c)),D.length===0&&e.jsx("div",{className:"text-center text-text-muted py-4",children:"Noch keine Tore geschossen - noch kein Alkohol verursacht!"})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"ðŸ§® Alkohol-Rechner"}),e.jsx("div",{className:"text-sm text-text-muted mb-4",children:"Berechne, wie viel Alkohol bei einem hypothetischen Spiel getrunken werden mÃ¼sste"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"AEK Tore"}),e.jsx("input",{type:"number",min:"0",max:"20",value:t.aekGoals,onChange:c=>n(m=>({...m,aekGoals:parseInt(c.target.value)||0})),className:"w-full px-3 py-2 border border-border-light rounded-lg bg-bg-secondary text-text-primary focus:outline-none focus:ring-2 focus:ring-primary-green"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Real Tore"}),e.jsx("input",{type:"number",min:"0",max:"20",value:t.realGoals,onChange:c=>n(m=>({...m,realGoals:parseInt(c.target.value)||0})),className:"w-full px-3 py-2 border border-border-light rounded-lg bg-bg-secondary text-text-primary focus:outline-none focus:ring-2 focus:ring-primary-green"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-bg-secondary rounded-lg",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl mb-2",children:"ðŸ¥ƒ"}),e.jsxs("div",{className:"text-2xl font-bold text-primary-green",children:[o(),"cl"]}),e.jsx("div",{className:"text-sm text-text-muted",children:"Gesamt Schnaps"}),e.jsxs("div",{className:"text-xs text-text-muted mt-1",children:["â‰ˆ ",(o()/20).toFixed(1)," GlÃ¤ser"]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[t.realGoals*2,"cl"]}),e.jsx("div",{className:"text-sm text-blue-700",children:"AEK trinkt"})]}),e.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[e.jsxs("div",{className:"text-lg font-bold text-red-600",children:[t.aekGoals*2,"cl"]}),e.jsx("div",{className:"text-sm text-red-700",children:"Real trinkt"})]})]})]})]}),e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"text-sm text-yellow-800",children:[e.jsx("strong",{children:"Regel:"})," FÃ¼r jedes geschossene Tor muss der Gegner 2cl Schnaps trinken."]})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"modern-card border-l-4 border-blue-400",children:[e.jsx("h3",{className:"font-bold text-lg mb-4 text-blue-600",children:"ðŸ”µ AEK Alkohol-Bilanz"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Getrunken (durch Real Tore):"}),e.jsxs("span",{className:"font-semibold text-red-600",children:[d.aekShots,"cl"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Verursacht (durch AEK Tore):"}),e.jsxs("span",{className:"font-semibold text-green-600",children:[d.realShots,"cl"]})]}),e.jsxs("div",{className:"flex justify-between border-t pt-2",children:[e.jsx("span",{className:"font-medium",children:"Alkohol-Bilanz:"}),e.jsxs("span",{className:`font-bold ${d.realShots>d.aekShots?"text-green-600":"text-red-600"}`,children:[d.realShots>d.aekShots?"+":"",d.realShots-d.aekShots,"cl"]})]}),e.jsx("div",{className:"text-xs text-text-muted",children:d.realShots>d.aekShots?"AEK verursacht mehr als getrunken":"AEK trinkt mehr als verursacht"})]})]}),e.jsxs("div",{className:"modern-card border-l-4 border-red-400",children:[e.jsx("h3",{className:"font-bold text-lg mb-4 text-red-600",children:"ðŸ”´ Real Alkohol-Bilanz"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Getrunken (durch AEK Tore):"}),e.jsxs("span",{className:"font-semibold text-red-600",children:[d.realShots,"cl"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Verursacht (durch Real Tore):"}),e.jsxs("span",{className:"font-semibold text-green-600",children:[d.aekShots,"cl"]})]}),e.jsxs("div",{className:"flex justify-between border-t pt-2",children:[e.jsx("span",{className:"font-medium",children:"Alkohol-Bilanz:"}),e.jsxs("span",{className:`font-bold ${d.aekShots>d.realShots?"text-green-600":"text-red-600"}`,children:[d.aekShots>d.realShots?"+":"",d.aekShots-d.realShots,"cl"]})]}),e.jsx("div",{className:"text-xs text-text-muted",children:d.aekShots>d.realShots?"Real verursacht mehr als getrunken":"Real trinkt mehr als verursacht"})]})]})]})]})},re=()=>{switch(l){case"dashboard":return e.jsx(Ne,{onNavigate:s});case"players":return te();case"teams":return ae();case"trends":return le();case"alkohol":return ne();case"advanced":return e.jsx(ie,{});default:return se()}};return e.jsxs("div",{className:"p-4 pb-20",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-2",children:"ðŸ“Š Statistiken"}),e.jsx("p",{className:"text-text-muted",children:"Umfassende Analyse von Spielen, Spielern und Teams"})]}),e.jsx("div",{className:"icon-only-nav flex overflow-x-auto space-x-2 mb-6 pb-2",children:z.map(i=>e.jsxs("button",{onClick:()=>a(i.id),className:`stats-nav-button flex items-center space-x-2 px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${l===i.id?"bg-primary-green text-white":"bg-bg-secondary text-text-muted hover:bg-bg-tertiary"}`,title:i.label,"aria-label":i.label,children:[e.jsx("span",{children:i.icon}),e.jsx("span",{className:"font-medium hidden sm:inline",children:i.label})]},i.id))}),re()]})}export{Se as default};
