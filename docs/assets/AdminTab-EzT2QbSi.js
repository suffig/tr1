const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/matches-CJ62wYa-.js","assets/dataManager-CtWei30S.js","assets/bulk-delete-matches-BVa9ZuQI.js"])))=>i.map(i=>d[i]);
import{s as M,_ as H,u as _,r as A,j as e,z as $,a as Z,L as se}from"./index-CzOI2rX2.js";import{b as de}from"./alcoholCalculatorPersistence-DVoT4Hbe.js";import{B as V}from"./banTypes-DuNOJEIt.js";class Q{static async submitMatch(c){const{date:a,teama:s="AEK",teamb:l="Real",goalsa:m,goalsb:g,goalslista:d=[],goalslistb:j=[],ownGoalsA:o=0,ownGoalsB:i=0,yellowa:N=0,reda:T=0,yellowb:k=0,redb:x=0,manofthematch:S,editId:E=null}=c;try{const{prizeaek:F,prizereal:v,winner:t,loser:p}=this.calculatePrizeMoney(m,g,N,T,k,x);E&&await this.deleteMatchTransactions(E);const r=[...d],u=[...j];o>0&&u.push({count:o,player:"Eigentore_AEK"}),i>0&&r.push({count:i,player:"Eigentore_Real"});const w={date:a,teama:s,teamb:l,goalsa:parseInt(m)||0,goalsb:parseInt(g)||0,goalslista:d,goalslistb:j,yellowa:parseInt(N)||0,reda:parseInt(T)||0,yellowb:parseInt(k)||0,redb:parseInt(x)||0,manofthematch:S||null,prizeaek:F,prizereal:v},C=await M.insert("matches",w);if(C.error)throw new Error(`Match insert failed: ${C.error.message}`);const D=C.data.id,B=new Date().toISOString().slice(0,10);if(r.length>0){const R=r.filter(K=>typeof K=="object"&&K.player?!K.player.startsWith("Eigentore_"):!K.startsWith("Eigentore_"));await this.updatePlayersGoals(R,"AEK")}if(u.length>0){const R=u.filter(K=>typeof K=="object"&&K.player?!K.player.startsWith("Eigentore_"):!K.startsWith("Eigentore_"));await this.updatePlayersGoals(R,"Real")}S&&await this.updatePlayerOfTheMatchStats(S),await this.processFinancialTransactions({matchId:D,date:B,prizeaek:F,prizereal:v,manofthematch:S,winner:t,loser:p}),await this.decrementBansAfterMatch();try{de({id:D,goalsa:parseInt(m)||0,goalsb:parseInt(g)||0,date:a})}catch(R){console.warn("Failed to update alcohol calculator:",R)}return{success:!0,matchId:D,message:`Match ${s} vs ${l} (${m}:${g}) erfolgreich hinzugefügt`}}catch(F){throw console.error("Error in submitMatch:",F),new Error(`Fehler beim Speichern des Matches: ${F.message}`)}}static calculatePrizeMoney(c,a,s,l,m,g){let d=0,j=0,o=null,i=null;return c>a?(o="AEK",i="Real"):c<a&&(o="Real",i="AEK"),o&&i&&(o==="AEK"?(d=1e6-a*5e4-s*2e4-l*5e4,j=-(5e5+c*5e4+m*2e4+g*5e4)):(j=1e6-c*5e4-m*2e4-g*5e4,d=-(5e5+a*5e4+s*2e4+l*5e4))),{prizeaek:d,prizereal:j,winner:o,loser:i}}static async updatePlayersGoals(c,a){const s={};if(c.length>0&&typeof c[0]=="object"&&c[0].player!==void 0)c.forEach(l=>{l.player&&!l.player.startsWith("Eigentore_")&&(s[l.player]=(s[l.player]||0)+(l.count||1))});else for(const l of c)!l||!l.trim()||l.startsWith("Eigentore_")||(s[l]=(s[l]||0)+1);for(const[l,m]of Object.entries(s))try{const g=await M.select("players","id, goals",{eq:{name:l,team:a}});if(g.data&&g.data.length>0){const d=g.data[0],j=(d.goals||0)+m;await M.update("players",{goals:j},d.id)}}catch(g){console.warn(`Failed to update goals for player ${l}:`,g)}}static async updatePlayerOfTheMatchStats(c){try{const a=await M.select("players","team",{eq:{name:c}});if(!a.data||a.data.length===0){console.warn(`Player ${c} not found for SdS stats`);return}const s=a.data[0].team,l=await M.select("spieler_des_spiels","*",{eq:{name:c,team:s}});if(l.data&&l.data.length>0){const m=l.data[0];await M.update("spieler_des_spiels",{count:m.count+1},m.id)}else await M.insert("spieler_des_spiels",{name:c,team:s,count:1})}catch(a){console.warn(`Failed to update SdS stats for ${c}:`,a)}}static async processFinancialTransactions({matchId:c,date:a,prizeaek:s,prizereal:l,manofthematch:m,winner:g,loser:d}){const j=await this.getTeamFinance("AEK"),o=await this.getTeamFinance("Real");let i=j.balance||0,N=o.balance||0;const T=m?await this.getSdSBonus(m,"AEK"):0,k=m?await this.getSdSBonus(m,"Real"):0;T>0&&(i+=T,await this.insertTransaction({date:a,type:"SdS Bonus",team:"AEK",amount:T,match_id:c,info:"SdS Bonus"}),await this.updateTeamBalance("AEK",i)),k>0&&(N+=k,await this.insertTransaction({date:a,type:"SdS Bonus",team:"Real",amount:k,match_id:c,info:"SdS Bonus"}),await this.updateTeamBalance("Real",N)),s!==0&&(i+=s,i<0&&(i=0),await this.insertTransaction({date:a,type:"Preisgeld",team:"AEK",amount:s,match_id:c,info:"Preisgeld"}),await this.updateTeamBalance("AEK",i)),l!==0&&(N+=l,N<0&&(N=0),await this.insertTransaction({date:a,type:"Preisgeld",team:"Real",amount:l,match_id:c,info:"Preisgeld"}),await this.updateTeamBalance("Real",N)),g&&d&&await this.processEchtgeldAusgleich({date:a,matchId:c,winner:g,loser:d,aekBalance:i,realBalance:N,prizeaek:s,prizereal:l,sdsBonusAek:T>0?1:0,sdsBonusReal:k>0?1:0,manofthematch:m})}static async getTeamFinance(c){const a=await M.select("finances","*",{eq:{team:c}});return a.data&&a.data.length>0?a.data[0]:{balance:0,debt:0}}static async getSdSBonus(c,a){const s=await M.select("players","team",{eq:{name:c}});return s.data&&s.data.length>0&&s.data[0].team===a?1e5:0}static async insertTransaction(c){return await M.insert("transactions",c)}static async updateTeamBalance(c,a){const s=await M.select("finances","id",{eq:{team:c}});return s.data&&s.data.length>0?await M.update("finances",{balance:a},s.data[0].id):await M.insert("finances",{team:c,balance:a,debt:0})}static async processEchtgeldAusgleich({date:c,matchId:a,winner:s,loser:l,aekBalance:m,realBalance:g,prizeaek:d,prizereal:j,sdsBonusAek:o,sdsBonusReal:i,manofthematch:N}){const T=await this.getTeamFinance("AEK"),k=await this.getTeamFinance("Real"),x={AEK:T.debt||0,Real:k.debt||0},S=(B,R,K)=>{let P=B;K&&(P+=1e5);let I=(Math.abs(R)-P)/1e5;return I<0&&(I=0),5+Math.round(I)},E=S(m,d,o),F=S(g,j,i),v=l==="AEK"?E:F,t=x[s],p=x[l],r=Math.min(t,v*1),u=Math.max(0,t-r),w=v*1-r,C=p+Math.max(0,w),D=await M.select("finances","id",{eq:{team:s}});if(D.data&&D.data.length>0&&await M.update("finances",{debt:u},D.data[0].id),w>0){await this.insertTransaction({date:c,type:"Echtgeld-Ausgleich",team:l,amount:Math.max(0,w),match_id:a,info:"Echtgeld-Ausgleich"});const B=await M.select("finances","id",{eq:{team:l}});B.data&&B.data.length>0&&await M.update("finances",{debt:C},B.data[0].id)}r>0&&await this.insertTransaction({date:c,type:"Echtgeld-Ausgleich (getilgt)",team:s,amount:-r,match_id:a,info:"Echtgeld-Ausgleich (getilgt)"})}static async deleteMatchTransactions(c){try{const{deleteMatch:a}=await H(async()=>{const{deleteMatch:s}=await import("./matches-CJ62wYa-.js");return{deleteMatch:s}},__vite__mapDeps([0,1]));await a(c)}catch(a){throw console.error(`Failed to delete match ${c} comprehensively:`,a),a}}static async decrementBansAfterMatch(){try{const c=await M.select("bans","*");if(!c.data)return;for(const a of c.data)if(a.matchesserved<a.totalgames){const s=a.matchesserved+1;await M.update("bans",{matchesserved:s},a.id)}}catch(c){console.warn("Failed to decrement bans:",c)}}}function oe(){const{data:b}=_("players","*"),[c,a]=A.useState(!1),[s,l]=A.useState({teama:"AEK",teamb:"Real",date:new Date().toISOString().split("T")[0],goalsa:0,goalsb:0,goalslista:[],goalslistb:[],ownGoalsA:0,ownGoalsB:0,yellowa:0,reda:0,yellowb:0,redb:0,prizeaek:0,prizereal:0,manofthematch:"",motmTeamFilter:"all"}),[m,g]=A.useState(!1),d=(t,p,r)=>t.reduce((w,C)=>w+C.count,0)+r,j=t=>{l(p=>{const r={...p,...t};r.goalsa=d(r.goalslista,r.ownGoalsA,r.ownGoalsB),r.goalsb=d(r.goalslistb,r.ownGoalsB,r.ownGoalsA);const{prizeaek:u,prizereal:w}=Q.calculatePrizeMoney(r.goalsa,r.goalsb,r.yellowa,r.reda,r.yellowb,r.redb);return r.prizeaek=u,r.prizereal=w,r})},o=(t,p)=>{j({[t]:p})},i=async t=>{t.preventDefault(),g(!0);try{const p=await Q.submitMatch({date:s.date,teama:s.teama.trim(),teamb:s.teamb.trim(),goalsa:s.goalsa,goalsb:s.goalsb,goalslista:s.goalslista,goalslistb:s.goalslistb,ownGoalsA:s.ownGoalsA,ownGoalsB:s.ownGoalsB,yellowa:parseInt(s.yellowa)||0,reda:parseInt(s.reda)||0,yellowb:parseInt(s.yellowb)||0,redb:parseInt(s.redb)||0,manofthematch:s.manofthematch||null});l({teama:"AEK",teamb:"Real",date:new Date().toISOString().split("T")[0],goalsa:0,goalsb:0,goalslista:[],goalslistb:[],ownGoalsA:0,ownGoalsB:0,yellowa:0,reda:0,yellowb:0,redb:0,prizeaek:0,prizereal:0,manofthematch:"",motmTeamFilter:"all"}),a(!1),$.success(p.message)}catch(p){console.error("Match submission error:",p),$.error(p.message||"Fehler beim Hinzufügen des Spiels")}finally{g(!1)}},N=()=>!(!s.date||s.goalsa===s.goalsb||!s.manofthematch||s.manofthematch.trim()===""),T=t=>b?b.filter(p=>p.team===t):[],k=()=>b?s.motmTeamFilter==="all"?b:b.filter(t=>t.team===s.motmTeamFilter):[],x=(t,p)=>{const r=t==="AEK"?"goalslista":"goalslistb";j({[r]:s[r].map(u=>u.player===p?{...u,count:u.count+1}:u).concat(s[r].find(u=>u.player===p)?[]:[{player:p,count:1}])})},S=(t,p)=>{const r=t==="AEK"?"goalslista":"goalslistb";j({[r]:s[r].map(u=>u.player===p?{...u,count:Math.max(0,u.count-1)}:u).filter(u=>u.count>0)})},E=(t,p)=>{const r=t==="AEK"?"ownGoalsA":"ownGoalsB",u=Math.max(0,s[r]+p);j({[r]:u})},F=(t,p)=>{if(!p)return;const r=t==="AEK"?"goalslista":"goalslistb",u=s[r].find(w=>w.player===p);j(u?{[r]:s[r].map(w=>w.player===p?{...w,count:w.count+1}:w)}:{[r]:[...s[r],{player:p,count:1}]})},v=(t,p)=>{const r=t==="AEK"?"goalslista":"goalslistb";j({[r]:s[r].filter(u=>u.player!==p)})};return e.jsxs("div",{className:"p-4 pb-20",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:"Neues Spiel hinzufügen"}),e.jsx("p",{className:"text-text-muted text-sm",children:"Fügen Sie ein neues Spiel zur Datenbank hinzu."})]}),e.jsx("div",{className:"modern-card",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-4",children:"⚽"}),e.jsx("h4",{className:"text-lg font-medium text-text-primary mb-2",children:"Spiel hinzufügen"}),e.jsx("p",{className:"text-text-muted mb-6",children:"Klicken Sie auf den Button, um ein neues Spiel zu erfassen."}),e.jsxs("button",{onClick:()=>a(!0),className:"btn-primary",children:[e.jsx("i",{className:"fas fa-plus mr-2"}),"Neues Spiel erfassen"]})]})}),c&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-2 sm:p-4",children:e.jsx("div",{className:"bg-bg-secondary rounded-lg w-full max-w-lg modal-content match-modal-content",children:e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-text-primary",children:"Neues Spiel"}),e.jsx("button",{onClick:()=>a(!1),className:"text-text-muted hover:text-text-primary text-2xl",disabled:m,children:"×"})]}),e.jsxs("form",{onSubmit:i,className:"space-y-4",children:[e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-700 mb-2",children:"⚽ Spielpaarung"}),e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsx("div",{className:"bg-blue-100 text-blue-800 px-4 py-2 rounded-lg font-medium",children:"AEK Athen"}),e.jsx("div",{className:"text-gray-500 font-bold text-xl",children:"vs"}),e.jsx("div",{className:"bg-red-100 text-red-800 px-4 py-2 rounded-lg font-medium",children:"Real Madrid"})]})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Datum *"}),e.jsx("input",{type:"date",value:s.date,onChange:t=>o("date",t.target.value),className:"form-input",required:!0,disabled:m})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-text-primary mb-3",children:"⚽ Live Torwertung"}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4 text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-gray-700",children:[s.goalsa," : ",s.goalsb]}),e.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["AEK Athen ",s.goalsa," - ",s.goalsb," Real Madrid"]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-center",children:e.jsx("h5",{className:"text-sm font-medium text-blue-600 mb-3",children:"⚽ AEK Athen Torschützen"})}),e.jsx("div",{className:"space-y-2",children:s.goalslista.map((t,p)=>e.jsxs("div",{className:"flex items-center justify-between bg-blue-50 rounded-lg p-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700",children:t.player}),e.jsxs("div",{className:"text-xs text-gray-500",children:[t.count," Tor",t.count!==1?"e":""]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{type:"button",onClick:()=>S("AEK",t.player),className:"w-8 h-8 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center text-sm font-bold transition-colors",disabled:m,children:"−"}),e.jsx("span",{className:"w-8 text-center font-bold text-lg text-gray-700",children:t.count}),e.jsx("button",{type:"button",onClick:()=>x("AEK",t.player),className:"w-8 h-8 bg-green-500 hover:bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-bold transition-colors",disabled:m,children:"+"}),e.jsx("button",{type:"button",onClick:()=>v("AEK",t.player),className:"w-8 h-8 bg-gray-500 hover:bg-gray-600 text-white rounded-full flex items-center justify-center text-xs font-bold transition-colors",disabled:m,title:"Torschütze entfernen",children:"✕"})]})]},`aek-${t.player}-${p}`))}),e.jsx("div",{className:"border-t pt-2",children:e.jsxs("select",{onChange:t=>{t.target.value&&(F("AEK",t.target.value),t.target.value="")},className:"w-full form-input bg-blue-100 border-blue-300 text-blue-800",disabled:m,children:[e.jsx("option",{value:"",children:"+ Torschütze hinzufügen"}),T("AEK").map(t=>e.jsxs("option",{value:t.name,children:[t.name," (",t.position,")"]},t.id))]})}),e.jsxs("div",{className:"flex items-center justify-between bg-orange-50 rounded-lg p-2 border border-orange-200",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Eigentore"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Zählen für Real Madrid"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{type:"button",onClick:()=>E("AEK",-1),className:"w-8 h-8 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center text-sm font-bold transition-colors",disabled:m||s.ownGoalsA===0,children:"−"}),e.jsx("span",{className:"w-8 text-center font-bold text-lg text-gray-700",children:s.ownGoalsA}),e.jsx("button",{type:"button",onClick:()=>E("AEK",1),className:"w-8 h-8 bg-green-500 hover:bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-bold transition-colors",disabled:m,children:"+"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-center",children:e.jsx("h5",{className:"text-sm font-medium text-red-600 mb-3",children:"⚽ Real Madrid Torschützen"})}),e.jsx("div",{className:"space-y-2",children:s.goalslistb.map((t,p)=>e.jsxs("div",{className:"flex items-center justify-between bg-red-50 rounded-lg p-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700",children:t.player}),e.jsxs("div",{className:"text-xs text-gray-500",children:[t.count," Tor",t.count!==1?"e":""]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{type:"button",onClick:()=>S("Real",t.player),className:"w-8 h-8 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center text-sm font-bold transition-colors",disabled:m,children:"−"}),e.jsx("span",{className:"w-8 text-center font-bold text-lg text-gray-700",children:t.count}),e.jsx("button",{type:"button",onClick:()=>x("Real",t.player),className:"w-8 h-8 bg-green-500 hover:bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-bold transition-colors",disabled:m,children:"+"}),e.jsx("button",{type:"button",onClick:()=>v("Real",t.player),className:"w-8 h-8 bg-gray-500 hover:bg-gray-600 text-white rounded-full flex items-center justify-center text-xs font-bold transition-colors",disabled:m,title:"Torschütze entfernen",children:"✕"})]})]},`real-${t.player}-${p}`))}),e.jsx("div",{className:"border-t pt-2",children:e.jsxs("select",{onChange:t=>{t.target.value&&(F("Real",t.target.value),t.target.value="")},className:"w-full form-input bg-red-100 border-red-300 text-red-800",disabled:m,children:[e.jsx("option",{value:"",children:"+ Torschütze hinzufügen"}),T("Real").map(t=>e.jsxs("option",{value:t.name,children:[t.name," (",t.position,")"]},t.id))]})}),e.jsxs("div",{className:"flex items-center justify-between bg-orange-50 rounded-lg p-2 border border-orange-200",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Eigentore"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Zählen für AEK Athen"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{type:"button",onClick:()=>E("Real",-1),className:"w-8 h-8 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center text-sm font-bold transition-colors",disabled:m||s.ownGoalsB===0,children:"−"}),e.jsx("span",{className:"w-8 text-center font-bold text-lg text-gray-700",children:s.ownGoalsB}),e.jsx("button",{type:"button",onClick:()=>E("Real",1),className:"w-8 h-8 bg-green-500 hover:bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-bold transition-colors",disabled:m,children:"+"})]})]})]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-text-primary mb-3",children:"🟨🟥 Karten"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Heimteam"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"🟨 Gelbe Karten"}),e.jsx("input",{type:"number",min:"0",value:s.yellowa,onChange:t=>o("yellowa",t.target.value),onFocus:t=>t.target.select(),className:"form-input",disabled:m})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"🟥 Rote Karten"}),e.jsx("input",{type:"number",min:"0",value:s.reda,onChange:t=>o("reda",t.target.value),onFocus:t=>t.target.select(),className:"form-input",disabled:m})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-xs text-red-600 font-medium",children:"Gastteam"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"🟨 Gelbe Karten"}),e.jsx("input",{type:"number",min:"0",value:s.yellowb,onChange:t=>o("yellowb",t.target.value),onFocus:t=>t.target.select(),className:"form-input",disabled:m})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-text-muted mb-1",children:"🟥 Rote Karten"}),e.jsx("input",{type:"number",min:"0",value:s.redb,onChange:t=>o("redb",t.target.value),onFocus:t=>t.target.select(),className:"form-input",disabled:m})]})]})]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-text-primary mb-3",children:"⭐ Spieler des Spiels"}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block text-xs text-text-muted mb-2",children:"Team Filter:"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>o("motmTeamFilter","all"),className:`px-3 py-1 rounded-lg text-xs font-medium transition-colors ${s.motmTeamFilter==="all"?"bg-gray-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,disabled:m,children:"Alle"}),e.jsx("button",{type:"button",onClick:()=>o("motmTeamFilter","AEK"),className:`px-3 py-1 rounded-lg text-xs font-medium transition-colors ${s.motmTeamFilter==="AEK"?"bg-blue-600 text-white":"bg-blue-100 text-blue-700 hover:bg-blue-200"}`,disabled:m,children:"AEK"}),e.jsx("button",{type:"button",onClick:()=>o("motmTeamFilter","Real"),className:`px-3 py-1 rounded-lg text-xs font-medium transition-colors ${s.motmTeamFilter==="Real"?"bg-red-600 text-white":"bg-red-100 text-red-700 hover:bg-red-200"}`,disabled:m,children:"Real"})]})]}),e.jsxs("select",{value:s.manofthematch,onChange:t=>o("manofthematch",t.target.value),className:"form-input",disabled:m,children:[e.jsx("option",{value:"",children:"Keinen Spieler auswählen"}),k().map(t=>e.jsxs("option",{value:t.name,children:[t.name," (",t.team," - ",t.position,")"]},t.id))]}),!b||b.length===0&&e.jsx("p",{className:"text-xs text-text-muted mt-1",children:"Keine Spieler verfügbar. Bitte fügen Sie erst Spieler hinzu."})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-text-primary mb-3",children:"💰 Preisgelder (automatisch berechnet)"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Preisgeld AEK (€)"}),e.jsx("input",{type:"number",value:s.prizeaek,className:"form-input bg-gray-100",placeholder:"Automatisch berechnet",disabled:!0,readOnly:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Preisgeld Real (€)"}),e.jsx("input",{type:"number",value:s.prizereal,className:"form-input bg-gray-100",placeholder:"Automatisch berechnet",disabled:!0,readOnly:!0})]})]}),e.jsx("p",{className:"text-xs text-text-muted mt-2",children:"Basierend auf Ergebnis und Karten: Gewinner 1M€ - (Verlierer-Tore × 50k€) - (Karten × 20k€/50k€)"})]}),s.goalsa===s.goalsb&&(s.goalsa>0||s.goalsb>0)&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"text-red-600 mr-2",children:"⚠️"}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-red-800",children:"Unentschieden nicht erlaubt"}),e.jsx("p",{className:"text-sm text-red-700",children:"Ein Team muss gewinnen. Unentschieden sind in dieser App nicht möglich."})]})]})}),!s.manofthematch&&(s.goalsa>0||s.goalsb>0)&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"text-yellow-600 mr-2",children:"⭐"}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-yellow-800",children:"Spieler des Spiels erforderlich"}),e.jsx("p",{className:"text-sm text-yellow-700",children:"Bitte wählen Sie einen Spieler des Spiels aus, bevor Sie das Match speichern."})]})]})}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>a(!1),className:"flex-1 px-4 py-2 border border-border-light rounded-lg text-text-secondary hover:bg-bg-tertiary transition-colors",disabled:m,children:"Abbrechen"}),e.jsx("button",{type:"submit",disabled:!N()||m,className:"flex-1 btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:m?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"spinner w-4 h-4 mr-2"}),"Speichern..."]}):"Speichern"})]})]})]})})}),e.jsx("div",{className:"mt-6 modern-card bg-blue-50 border-blue-200",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"text-blue-600 mr-3",children:e.jsx("i",{className:"fas fa-info-circle"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-1",children:"Wichtige Hinweise"}),e.jsxs("ul",{className:"text-blue-700 text-sm space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Kein Unentschieden:"})," Ein Team muss immer gewinnen - Unentschieden sind nicht erlaubt"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Spieler des Spiels Pflicht:"})," Für jedes Spiel muss ein Spieler des Spiels ausgewählt werden"]}),e.jsx("li",{children:"• Nach dem Hinzufügen können Sie das Spiel in der Spiele-Übersicht einsehen und bearbeiten"})]})]})]})})]})}const G=[{value:"AEK",label:"AEK Athen",color:"blue",icon:"🔵"},{value:"Real",label:"Real Madrid",color:"red",icon:"🔴"},{value:"Ehemalige",label:"Ehemalige",color:"gray",icon:"⚫"}],O=b=>{const c=G.find(a=>a.value===b);return c?`${c.icon} ${c.label}`:b};function me(){const{data:b}=_("players","*"),[c,a]=A.useState(!1),[s,l]=A.useState(""),[m,g]=A.useState({player_id:"",type:"",reason:"",customDuration:1}),[d,j]=A.useState(!1),o=(x,S)=>{g(E=>({...E,[x]:S})),x==="team"&&g(E=>({...E,player_id:""}))},i=()=>!b||!s?[]:b.filter(x=>x.team===s),N=async x=>{var S;x.preventDefault(),j(!0);try{const E=b==null?void 0:b.find(u=>u.id===parseInt(m.player_id)),F=V.find(u=>u.value===m.type);if(!E)throw new Error("Spieler nicht gefunden");if(!F)throw new Error("Sperrart nicht gefunden");const t=(S=(await M.select("bans","*",{eq:{player_id:E.id}})).data)==null?void 0:S.find(u=>(u.matchesserved||0)<(u.totalgames||0));if(t)throw new Error(`Spieler "${E.name}" ist bereits gesperrt (${t.totalgames-t.matchesserved} Spiele verbleibend)`);const p=F.fixedDuration?F.duration:m.customDuration,r=await M.insert("bans",{player_id:E.id,team:E.team,type:F.value,totalgames:p,matchesserved:0,reason:m.reason||F.value});if(r.error)throw new Error(`Ban insert failed: ${r.error.message}`);g({player_id:"",type:"",reason:"",customDuration:1}),l(""),a(!1),$.success(`Sperre für "${E.name}" erfolgreich hinzugefügt!`)}catch(E){console.error("Ban submission error:",E),$.error(E.message||"Fehler beim Hinzufügen der Sperre")}finally{j(!1)}},T=s&&m.player_id&&m.type,k=V.find(x=>x.value===m.type);return e.jsxs("div",{className:"p-4 pb-20",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:"Neue Sperre hinzufügen"}),e.jsx("p",{className:"text-text-muted text-sm",children:"Erstellen Sie eine neue Spielersperre in der Datenbank."})]}),e.jsx("div",{className:"modern-card",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-4",children:"🚫"}),e.jsx("h4",{className:"text-lg font-medium text-text-primary mb-2",children:"Sperre hinzufügen"}),e.jsx("p",{className:"text-text-muted mb-6",children:"Klicken Sie auf den Button, um eine neue Spielersperre zu erfassen."}),e.jsxs("button",{onClick:()=>a(!0),className:"btn-primary",children:[e.jsx("i",{className:"fas fa-plus mr-2"}),"Neue Sperre erfassen"]})]})}),c&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:e.jsx("div",{className:"bg-bg-secondary rounded-lg max-w-md w-full modal-content",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-text-primary",children:"Neue Sperre"}),e.jsx("button",{onClick:()=>a(!1),className:"text-text-muted hover:text-text-primary text-2xl",disabled:d,children:"×"})]}),e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Team *"}),e.jsxs("select",{value:s,onChange:x=>{l(x.target.value),g(S=>({...S,player_id:""}))},className:"form-input",required:!0,disabled:d,children:[e.jsx("option",{value:"",children:"Team wählen"}),G.filter(x=>x.value!=="Ehemalige").map(x=>e.jsx("option",{value:x.value,children:O(x.value)},x.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Spieler *"}),e.jsxs("select",{value:m.player_id,onChange:x=>o("player_id",x.target.value),className:"form-input",required:!0,disabled:d||!s,children:[e.jsx("option",{value:"",children:s?"Spieler wählen":"Bitte zuerst Team wählen"}),i().map(x=>e.jsxs("option",{value:x.id,children:[x.name," (",x.position,")"]},x.id))]}),s&&i().length===0&&e.jsx("p",{className:"text-xs text-text-muted mt-1",children:"Keine Spieler im gewählten Team verfügbar."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Sperrart *"}),e.jsxs("select",{value:m.type,onChange:x=>o("type",x.target.value),className:"form-input",required:!0,disabled:d,children:[e.jsx("option",{value:"",children:"Sperrart wählen"}),V.map(x=>e.jsxs("option",{value:x.value,children:[x.icon," ",x.label,x.fixedDuration?` (${x.duration} Spiel${x.duration!==1?"e":""})`:` (1-${x.maxDuration} Spiele)`]},x.value))]})]}),k&&!k.fixedDuration&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Anzahl Spiele *"}),e.jsx("select",{value:m.customDuration,onChange:x=>o("customDuration",parseInt(x.target.value)),className:"form-input",required:!0,disabled:d,children:Array.from({length:k.maxDuration},(x,S)=>S+1).map(x=>e.jsxs("option",{value:x,children:[x," Spiel",x!==1?"e":""]},x))}),e.jsxs("p",{className:"text-xs text-text-muted mt-1",children:["Wählen Sie zwischen ",k.minDuration," und ",k.maxDuration," Spielen"]})]}),k&&k.fixedDuration&&e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("i",{className:"fas fa-info-circle mr-2"}),"Gelb-Rote Karten haben immer eine feste Sperre von 1 Spiel."]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Zusätzlicher Grund (optional)"}),e.jsx("input",{type:"text",value:m.reason,onChange:x=>o("reason",x.target.value),className:"form-input",placeholder:"Weitere Details zur Sperre...",disabled:d})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>a(!1),className:"flex-1 px-4 py-2 border border-border-light rounded-lg text-text-secondary hover:bg-bg-tertiary transition-colors",disabled:d,children:"Abbrechen"}),e.jsx("button",{type:"submit",disabled:!T||d||!b||b.length===0,className:"flex-1 btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:d?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"spinner w-4 h-4 mr-2"}),"Speichern..."]}):"Speichern"})]})]})]})})}),e.jsxs("div",{className:"mt-6 modern-card",children:[e.jsx("h4",{className:"font-semibold text-text-primary mb-3",children:"Verfügbare Sperrarten"}),e.jsx("div",{className:"space-y-2",children:V.map(x=>e.jsxs("div",{className:"flex justify-between items-center p-3 bg-bg-secondary rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-xl mr-2",children:x.icon}),e.jsx("span",{className:"font-medium text-text-primary",children:x.label})]}),e.jsx("span",{className:"text-sm text-text-muted",children:x.fixedDuration?`${x.duration} Spiel${x.duration!==1?"e":""} (fest)`:`1-${x.maxDuration} Spiele (variabel)`})]},x.value))})]}),e.jsx("div",{className:"mt-6 modern-card bg-yellow-50 border-yellow-200",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"text-yellow-600 mr-3",children:e.jsx("i",{className:"fas fa-info-circle"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-yellow-800 mb-1",children:"Hinweis"}),e.jsx("p",{className:"text-yellow-700 text-sm",children:"Nach dem Hinzufügen können Sie die Sperre in der Sperren-Übersicht einsehen und verwalten."})]})]})})]})}const Y=[{value:"TH",label:"Torwart (TH)"},{value:"IV",label:"Innenverteidiger (IV)"},{value:"AV",label:"Außenverteidiger (AV)"},{value:"ZM",label:"Zentrales Mittelfeld (ZM)"},{value:"OM",label:"Offensives Mittelfeld (OM)"},{value:"ST",label:"Stürmer (ST)"}];function xe(){const[b,c]=A.useState(!1),[a,s]=A.useState({name:"",team:"",position:"",goals:0,value:0}),[l,m]=A.useState(!1),g=(o,i)=>{s(N=>({...N,[o]:i}))},d=async o=>{o.preventDefault(),m(!0);try{const i=await M.select("players","*",{eq:{name:a.name.trim(),team:a.team.trim()}});if(i.data&&i.data.length>0)throw new Error(`Spieler "${a.name}" existiert bereits im Team "${a.team}"`);const N=await M.insert("players",{name:a.name.trim(),team:a.team.trim(),position:a.position.trim().toUpperCase(),goals:parseInt(a.goals)||0,value:parseFloat(a.value)||0});if(N.error)throw new Error(`Player insert failed: ${N.error.message}`);s({name:"",team:"",position:"",goals:0,value:0}),c(!1),$.success(`Spieler "${a.name}" erfolgreich hinzugefügt!`)}catch(i){console.error("Player submission error:",i),$.error(i.message||"Fehler beim Hinzufügen des Spielers")}finally{m(!1)}},j=a.name&&a.team&&a.position&&a.value!=="";return e.jsxs("div",{className:"p-4 pb-20",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:"Neuen Spieler hinzufügen"}),e.jsx("p",{className:"text-text-muted text-sm",children:"Fügen Sie einen neuen Spieler zur Datenbank hinzu."})]}),e.jsx("div",{className:"modern-card",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-4",children:"👤"}),e.jsxs("h4",{className:"text-lg font-medium text-text-primary mb-2",children:[e.jsx("i",{className:"fas fa-user-plus mr-2"}),"Spieler hinzufügen"]}),e.jsx("p",{className:"text-text-muted mb-6",children:"Klicken Sie auf den Button, um einen neuen Spieler zu erfassen."}),e.jsxs("button",{onClick:()=>c(!0),className:"btn-primary",children:[e.jsx("i",{className:"fas fa-plus mr-2"}),"Neuen Spieler erfassen"]})]})}),b&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:e.jsx("div",{className:"bg-bg-secondary rounded-lg max-w-md w-full modal-content",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-text-primary",children:"Neuer Spieler"}),e.jsx("button",{onClick:()=>c(!1),className:"text-text-muted hover:text-text-primary text-2xl",disabled:l,children:"×"})]}),e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Spielername *"}),e.jsx("input",{type:"text",value:a.name,onChange:o=>g("name",o.target.value),className:"form-input",placeholder:"z.B. Max Mustermann",required:!0,disabled:l})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Team *"}),e.jsxs("select",{value:a.team,onChange:o=>g("team",o.target.value),className:"form-input",required:!0,disabled:l,children:[e.jsx("option",{value:"",children:"Team wählen"}),G.map(o=>e.jsx("option",{value:o.value,children:O(o.value)},o.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Position *"}),e.jsxs("select",{value:a.position,onChange:o=>g("position",o.target.value),className:"form-input",required:!0,disabled:l,children:[e.jsx("option",{value:"",children:"Position wählen"}),Y.map(o=>e.jsx("option",{value:o.value,children:o.label},o.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Marktwert (Millionen €) *"}),e.jsx("input",{type:"number",min:"0",step:"0.1",value:a.value,onChange:o=>g("value",o.target.value),onFocus:o=>o.target.select(),className:"form-input",placeholder:"0.0",disabled:l}),e.jsx("p",{className:"text-xs text-text-muted mt-1",children:"Marktwert in Millionen Euro (z.B. 1.5 für 1.5M €)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Anzahl Tore"}),e.jsx("input",{type:"number",min:"0",value:a.goals,onChange:o=>g("goals",o.target.value),onFocus:o=>o.target.select(),className:"form-input",placeholder:"0",disabled:l})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>c(!1),className:"flex-1 px-4 py-2 border border-border-light rounded-lg text-text-secondary hover:bg-bg-tertiary transition-colors",disabled:l,children:"Abbrechen"}),e.jsx("button",{type:"submit",disabled:!j||l,className:"flex-1 btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:l?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"spinner w-4 h-4 mr-2"}),"Speichern..."]}):"Speichern"})]})]})]})})}),e.jsxs("div",{className:"mt-6 modern-card",children:[e.jsx("h4",{className:"font-semibold text-text-primary mb-3",children:"Verfügbare Teams"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:G.map(o=>e.jsxs("div",{className:"p-3 bg-bg-secondary rounded-lg text-center",children:[e.jsx("span",{className:`font-medium ${o.color==="blue"?"text-blue-600":o.color==="red"?"text-red-600":"text-gray-600"}`,children:O(o.value)}),e.jsxs("div",{className:"text-xs text-text-muted mt-1",children:["(",o.value,")"]})]},o.value))})]}),e.jsxs("div",{className:"mt-6 modern-card",children:[e.jsx("h4",{className:"font-semibold text-text-primary mb-3",children:"Verfügbare Positionen"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:Y.map(o=>e.jsx("div",{className:"p-3 bg-bg-secondary rounded-lg text-center",children:e.jsx("span",{className:"font-medium text-text-primary text-sm",children:o.label})},o.value))})]}),e.jsx("div",{className:"mt-6 modern-card bg-green-50 border-green-200",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"text-green-600 mr-3",children:e.jsx("i",{className:"fas fa-info-circle"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-green-800 mb-1",children:"Hinweis"}),e.jsx("p",{className:"text-green-700 text-sm",children:"Nach dem Hinzufügen können Sie den Spieler in der Kader-Übersicht einsehen und verwalten."})]})]})})]})}const X=[{value:"Preisgeld",label:"Preisgeld",icon:"🏆"},{value:"Strafe",label:"Strafe",icon:"📉"},{value:"Spielerkauf",label:"Spielerkauf",icon:"👤"},{value:"Spielerverkauf",label:"Spielerverkauf",icon:"💰"},{value:"Echtgeld-Ausgleich",label:"Echtgeld-Ausgleich",icon:"💳"},{value:"SdS Bonus",label:"Spieler des Spiels Bonus",icon:"⭐"},{value:"Sonstiges",label:"Sonstiges",icon:"📈"}];function ue(){const[b,c]=A.useState(!1),[a,s]=A.useState({team:"",type:"",amount:"",info:"",date:new Date().toISOString().split("T")[0]}),[l,m]=A.useState(!1),g=(i,N)=>{s(T=>({...T,[i]:N}))},d=async i=>{i.preventDefault(),m(!0);try{const N=parseFloat(a.amount),T=await M.insert("transactions",{date:a.date,type:a.type.trim(),team:a.team.trim(),amount:N,info:a.info.trim(),match_id:null});if(T.error)throw new Error(`Transaction insert failed: ${T.error.message}`);await j(a.team.trim(),a.type.trim(),N),s({team:"",type:"",amount:"",info:"",date:new Date().toISOString().split("T")[0]}),c(!1),$.success("Transaktion erfolgreich hinzugefügt!")}catch(N){console.error("Transaction submission error:",N),$.error(N.message||"Fehler beim Hinzufügen der Transaktion")}finally{m(!1)}},j=async(i,N,T)=>{try{const k=await M.select("finances","*",{eq:{team:i}});let x=k.data&&k.data.length>0?k.data[0]:{team:i,balance:0,debt:0},S={};if(N==="Echtgeld-Ausgleich")S.debt=(x.debt||0)+T;else{let E=(x.balance||0)+T;E<0&&(E=0),S.balance=E}x.id?await M.update("finances",S,x.id):await M.insert("finances",{team:i,balance:S.balance||0,debt:S.debt||0})}catch(k){console.warn("Failed to update finances:",k)}},o=a.team&&a.type&&a.amount&&a.date;return e.jsxs("div",{className:"p-4 pb-20",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:"Neue Transaktion hinzufügen"}),e.jsx("p",{className:"text-text-muted text-sm",children:"Erfassen Sie eine neue finanzielle Transaktion."})]}),e.jsx("div",{className:"modern-card",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-4",children:"💰"}),e.jsx("h4",{className:"text-lg font-medium text-text-primary mb-2",children:"Transaktion hinzufügen"}),e.jsx("p",{className:"text-text-muted mb-6",children:"Klicken Sie auf den Button, um eine neue Transaktion zu erfassen."}),e.jsxs("button",{onClick:()=>c(!0),className:"btn-primary",children:[e.jsx("i",{className:"fas fa-plus mr-2"}),"Neue Transaktion erfassen"]})]})}),b&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:e.jsx("div",{className:"bg-bg-secondary rounded-lg max-w-md w-full modal-content",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-text-primary",children:"Neue Transaktion"}),e.jsx("button",{onClick:()=>c(!1),className:"text-text-muted hover:text-text-primary text-2xl",disabled:l,children:"×"})]}),e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Team *"}),e.jsxs("select",{value:a.team,onChange:i=>g("team",i.target.value),className:"form-input",required:!0,disabled:l,children:[e.jsx("option",{value:"",children:"Team wählen"}),G.filter(i=>i.value!=="Ehemalige").map(i=>e.jsx("option",{value:i.value,children:O(i.value)},i.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Transaktionsart *"}),e.jsxs("select",{value:a.type,onChange:i=>g("type",i.target.value),className:"form-input",required:!0,disabled:l,children:[e.jsx("option",{value:"",children:"Typ wählen"}),X.map(i=>e.jsxs("option",{value:i.value,children:[i.icon," ",i.label]},i.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Betrag (€) *"}),e.jsx("input",{type:"number",step:"0.01",value:a.amount,onChange:i=>g("amount",i.target.value),onFocus:i=>i.target.select(),className:"form-input",placeholder:"0.00",required:!0,disabled:l}),e.jsx("p",{className:"text-xs text-text-muted mt-1",children:"Negative Werte für Ausgaben, positive für Einnahmen"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Beschreibung"}),e.jsx("input",{type:"text",value:a.info,onChange:i=>g("info",i.target.value),className:"form-input",placeholder:"Zusätzliche Informationen...",disabled:l})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Datum *"}),e.jsx("input",{type:"date",value:a.date,onChange:i=>g("date",i.target.value),className:"form-input",required:!0,disabled:l})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>c(!1),className:"flex-1 px-4 py-2 border border-border-light rounded-lg text-text-secondary hover:bg-bg-tertiary transition-colors",disabled:l,children:"Abbrechen"}),e.jsx("button",{type:"submit",disabled:!o||l,className:"flex-1 btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:l?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"spinner w-4 h-4 mr-2"}),"Speichern..."]}):"Speichern"})]})]})]})})}),e.jsxs("div",{className:"mt-6 modern-card",children:[e.jsx("h4",{className:"font-semibold text-text-primary mb-3",children:"Transaktionsarten"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:X.map(i=>e.jsxs("div",{className:"p-3 bg-bg-secondary rounded-lg text-center",children:[e.jsx("div",{className:"text-2xl mb-2",children:i.icon}),e.jsx("span",{className:"font-medium text-text-primary",children:i.label})]},i.value))})]}),e.jsxs("div",{className:"mt-6 modern-card",children:[e.jsx("h4",{className:"font-semibold text-text-primary mb-3",children:"Verfügbare Teams"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:G.filter(i=>i.value!=="Ehemalige").map(i=>e.jsxs("div",{className:"p-3 bg-bg-secondary rounded-lg text-center",children:[e.jsx("span",{className:`font-medium ${i.color==="blue"?"text-blue-600":"text-red-600"}`,children:O(i.value)}),e.jsxs("div",{className:"text-xs text-text-muted mt-1",children:["(",i.value,")"]})]},i.value))})]}),e.jsx("div",{className:"mt-6 modern-card bg-blue-50 border-blue-200",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"text-blue-600 mr-3",children:e.jsx("i",{className:"fas fa-info-circle"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-1",children:"Hinweis"}),e.jsx("p",{className:"text-blue-700 text-sm",children:"Nach dem Hinzufügen können Sie die Transaktion in der Finanzen-Übersicht einsehen."})]})]})})]})}function he(){var W;const[b,c]=A.useState("players"),[a,s]=A.useState(!1),[l,m]=A.useState(""),{data:g,refetch:d}=_("players","*",{order:{column:"id",ascending:!1}}),{data:j,refetch:o}=_("matches","*",{order:{column:"date",ascending:!1}}),{data:i,refetch:N}=_("bans","*",{order:{column:"id",ascending:!1}}),{data:T,refetch:k}=_("transactions","*",{order:{column:"date",ascending:!1}}),{remove:x}=Z("players"),{remove:S}=Z("bans"),{remove:E}=Z("transactions"),F=[{id:"players",label:"Spieler löschen",icon:"fas fa-users"},{id:"matches",label:"Spiele löschen",icon:"fas fa-futbol"},{id:"bans",label:"Sperren löschen",icon:"fas fa-ban"},{id:"transactions",label:"Transaktionen löschen",icon:"fas fa-euro-sign"},{id:"bulk-delete",label:"Bulk-Löschung (ID ≥ 140)",icon:"fas fa-bomb"}],v=n=>{c(n),m("")},t=()=>{switch(b){case"players":return{total:(g==null?void 0:g.length)||0,filtered:R(g).length};case"matches":return{total:(j==null?void 0:j.length)||0,filtered:K(j).length};case"bans":return{total:(i==null?void 0:i.length)||0,filtered:P(i).length};case"transactions":return{total:(T==null?void 0:T.length)||0,filtered:I(T).length};case"bulk-delete":return{total:(j==null?void 0:j.filter(n=>n.id>=140).length)||0,filtered:0};default:return{total:0,filtered:0}}},p=async n=>{const h=(i==null?void 0:i.filter(f=>f.player_id===n.id||f.player_name===n.name))||[];let y=`Sind Sie sicher, dass Sie ${n.name} (${n.team}) löschen möchten?`;if(h.length>0&&(y+=`

Achtung: ${h.length} zugehörige Sperre(n) werden ebenfalls gelöscht.`),n.goals&&n.goals>0&&(y+=`
Der Spieler hat ${n.goals} Tor(e) erzielt.`),!!confirm(y)){s(!0);try{await x(n.id),$.success(`Spieler ${n.name} erfolgreich gelöscht`),d(),h.length>0&&N()}catch(f){$.error("Fehler beim Löschen des Spielers: "+f.message)}finally{s(!1)}}},r=async n=>{const h=(T==null?void 0:T.filter(L=>L.match_id===n.id))||[],y=`AEK ${n.goalsa||0} - ${n.goalsb||0} Real`;let f=`Sind Sie sicher, dass Sie das Spiel vom ${new Date(n.date).toLocaleDateString("de-DE")} (${y}) löschen möchten?`;if(h.length>0&&(f+=`

Achtung: ${h.length} zugehörige Transaktion(en) werden ebenfalls gelöscht.`),n.manofthematch&&(f+=`
Spieler des Spiels: ${n.manofthematch}`),!!confirm(f)){s(!0);try{const{deleteMatch:L}=await H(async()=>{const{deleteMatch:z}=await import("./matches-CJ62wYa-.js");return{deleteMatch:z}},__vite__mapDeps([0,1]));await L(n.id),$.success("Spiel erfolgreich gelöscht"),o(),h.length>0&&k()}catch(L){$.error("Fehler beim Löschen des Spiels: "+L.message)}finally{s(!1)}}},u=async n=>{var L;const h=n.player_name||(n.player_id&&g?(L=g.find(z=>z.id===n.player_id))==null?void 0:L.name:"Unbekannter Spieler"),y=Math.max(0,(n.totalgames||0)-(n.matchesserved||0));let f=`Sind Sie sicher, dass Sie die Sperre für ${h} löschen möchten?`;if(f+=`
Sperrtyp: ${n.type}`,y>0?f+=`
Noch ${y} Spiel(e) verbleibend`:f+=`
Sperre bereits abgesessen`,n.reason&&(f+=`
Grund: ${n.reason}`),!!confirm(f)){s(!0);try{await S(n.id),$.success(`Sperre für ${h} erfolgreich gelöscht`),N()}catch(z){$.error("Fehler beim Löschen der Sperre: "+z.message)}finally{s(!1)}}},w=async n=>{const h=n.match_id&&j?j.find(f=>f.id===n.match_id):null;let y=`Sind Sie sicher, dass Sie die Transaktion "${n.type}" löschen möchten?`;if(y+=`
Betrag: ${n.amount>0?"+":""}${n.amount}M € (${n.team})`,n.date&&(y+=`
Datum: ${new Date(n.date).toLocaleDateString("de-DE")}`),n.info&&(y+=`
Info: ${n.info}`),h&&(y+=`
Zugehöriges Spiel: ${new Date(h.date).toLocaleDateString("de-DE")} (AEK ${h.goalsa||0} - ${h.goalsb||0} Real)`),!!confirm(y)){s(!0);try{await E(n.id),$.success("Transaktion erfolgreich gelöscht"),k()}catch(f){$.error("Fehler beim Löschen der Transaktion: "+f.message)}finally{s(!1)}}},C=async()=>{s(!0);try{const{findMatchesAbove140:n}=await H(async()=>{const{findMatchesAbove140:f}=await import("./bulk-delete-matches-BVa9ZuQI.js");return{findMatchesAbove140:f}},__vite__mapDeps([2,0,1])),h=await n();if(h.length===0){$.success("Keine Matches mit ID ≥ 140 gefunden");return}const y=`Gefunden: ${h.length} Matches mit ID ≥ 140

`+h.slice(0,10).map(f=>`ID ${f.id}: ${f.date} - ${f.teama} ${f.goalsa} vs ${f.goalsb} ${f.teamb}`).join(`
`)+(h.length>10?`
... und ${h.length-10} weitere`:"");alert(y)}catch(n){$.error("Fehler beim Laden der Matches: "+n.message)}finally{s(!1)}},D=async()=>{if(!(!confirm(`⚠️ WARNUNG: Dies wird ALLE Matches mit ID ≥ 140 löschen!

Dazu gehören:
- Match-Datensätze
- Alle zugehörigen Transaktionen
- Umkehrung von Finanzänderungen
- Spieler-Tor-Anpassungen
- Spieler des Spiels Anpassungen

Diese Aktion kann NICHT rückgängig gemacht werden!

Fortfahren?`)||!confirm(`LETZTE BESTÄTIGUNG:

Sie sind dabei, permanent ALLE Matches mit ID ≥ 140 zu löschen.

Klicken Sie OK zum Fortfahren oder Abbrechen zum Stoppen.`))){s(!0);try{const{bulkDeleteMatches:y}=await H(async()=>{const{bulkDeleteMatches:z}=await import("./bulk-delete-matches-BVa9ZuQI.js");return{bulkDeleteMatches:z}},__vite__mapDeps([2,0,1])),f=await y(),L=`Bulk-Löschung abgeschlossen!

✅ Erfolgreich gelöscht: ${f.deleted} Matches
`+(f.failed>0?`❌ Fehlgeschlagen: ${f.failed} Matches`:"");$.success(L),o(),k()}catch(y){$.error("Fehler bei der Bulk-Löschung: "+y.message)}finally{s(!1)}}},B=n=>{const h=G.find(y=>y.value===n);return h?h.icon:"⚫"},R=n=>l?(n||[]).filter(h=>{var y,f,L;return((y=h.name)==null?void 0:y.toLowerCase().includes(l.toLowerCase()))||((f=h.team)==null?void 0:f.toLowerCase().includes(l.toLowerCase()))||((L=h.position)==null?void 0:L.toLowerCase().includes(l.toLowerCase()))}):n||[],K=n=>l?(n||[]).filter(h=>{var y;return new Date(h.date).toLocaleDateString("de-DE").includes(l)||((y=h.manofthematch)==null?void 0:y.toLowerCase().includes(l.toLowerCase()))}):n||[],P=n=>l?(n||[]).filter(h=>{var f,L,z,J;const y=h.player_name||(h.player_id&&g?(f=g.find(ce=>ce.id===h.player_id))==null?void 0:f.name:"");return(y==null?void 0:y.toLowerCase().includes(l.toLowerCase()))||((L=h.type)==null?void 0:L.toLowerCase().includes(l.toLowerCase()))||((z=h.team)==null?void 0:z.toLowerCase().includes(l.toLowerCase()))||((J=h.reason)==null?void 0:J.toLowerCase().includes(l.toLowerCase()))}):n||[],I=n=>l?(n||[]).filter(h=>{var y,f,L,z;return((y=h.type)==null?void 0:y.toLowerCase().includes(l.toLowerCase()))||((f=h.team)==null?void 0:f.toLowerCase().includes(l.toLowerCase()))||((L=h.info)==null?void 0:L.toLowerCase().includes(l.toLowerCase()))||((z=h.amount)==null?void 0:z.toString().includes(l))}):n||[],U=()=>{const n=R(g);return!n||n.length===0?e.jsx("p",{className:"text-text-muted text-center py-4",children:l?"Keine Spieler gefunden":"Keine Spieler vorhanden"}):e.jsx("div",{className:"space-y-2",children:n.map(h=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-bg-tertiary rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-lg",children:B(h.team)}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-text-primary",children:h.name}),e.jsxs("p",{className:"text-sm text-text-muted",children:[h.team," • ",h.position,h.goals!==void 0&&e.jsxs("span",{className:"ml-2",children:["• ",h.goals," Tore"]})]})]})]}),e.jsxs("button",{onClick:()=>p(h),disabled:a,className:"btn-secondary btn-sm text-accent-red hover:bg-red-50 disabled:opacity-50",children:[e.jsx("i",{className:"fas fa-trash mr-1"}),"Löschen"]})]},h.id))})},ae=()=>{const n=K(j);return!n||n.length===0?e.jsx("p",{className:"text-text-muted text-center py-4",children:l?"Keine Spiele gefunden":"Keine Spiele vorhanden"}):e.jsx("div",{className:"space-y-2",children:n.map(h=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-bg-tertiary rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-text-primary",children:new Date(h.date).toLocaleDateString("de-DE")}),e.jsxs("p",{className:"text-sm text-text-muted",children:["AEK ",h.goalsa||0," - ",h.goalsb||0," Real"]}),h.manofthematch&&e.jsxs("p",{className:"text-xs text-text-muted mt-1",children:[e.jsx("i",{className:"fas fa-star mr-1"}),"SdS: ",h.manofthematch]})]}),e.jsxs("button",{onClick:()=>r(h),disabled:a,className:"btn-secondary btn-sm text-accent-red hover:bg-red-50 disabled:opacity-50",children:[e.jsx("i",{className:"fas fa-trash mr-1"}),"Löschen"]})]},h.id))})},re=()=>{const n=P(i);if(!n||n.length===0)return e.jsx("p",{className:"text-text-muted text-center py-4",children:l?"Keine Sperren gefunden":"Keine Sperren vorhanden"});const h=f=>{if(f.player_name)return f.player_name;if(f.player_id&&g){const L=g.find(z=>z.id===f.player_id);return L?L.name:"Unbekannter Spieler"}return"Unbekannter Spieler"},y=f=>{const L=(f.totalgames||0)-(f.matchesserved||0);return Math.max(0,L)};return e.jsx("div",{className:"space-y-2",children:n.map(f=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-bg-tertiary rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-lg",children:B(f.team)}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-text-primary",children:h(f)}),e.jsxs("p",{className:"text-sm text-text-muted",children:[f.type," • ",f.totalgames||0," Spiele",y(f)>0?` (${y(f)} verbleibend)`:" (abgesessen)"]}),f.reason&&e.jsxs("p",{className:"text-xs text-text-muted mt-1",children:["Grund: ",f.reason]})]})]}),e.jsxs("button",{onClick:()=>u(f),disabled:a,className:"btn-secondary btn-sm text-accent-red hover:bg-red-50 disabled:opacity-50",children:[e.jsx("i",{className:"fas fa-trash mr-1"}),"Löschen"]})]},f.id))})},le=()=>{const n=I(T);if(!n||n.length===0)return e.jsx("p",{className:"text-text-muted text-center py-4",children:l?"Keine Transaktionen gefunden":"Keine Transaktionen vorhanden"});const h=y=>{if(!y.match_id||!j)return null;const f=j.find(L=>L.id===y.match_id);return f?`Match: ${new Date(f.date).toLocaleDateString("de-DE")} (AEK ${f.goalsa||0} - ${f.goalsb||0} Real)`:null};return e.jsx("div",{className:"space-y-2",children:n.map(y=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-bg-tertiary rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-lg",children:B(y.team)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-text-primary",children:y.type}),e.jsxs("p",{className:"text-sm text-text-muted",children:[e.jsxs("span",{className:y.amount>0?"text-green-600":"text-red-600",children:[y.amount>0?"+":"",y.amount,"M €"]}),y.date&&e.jsxs("span",{className:"ml-2",children:["• ",new Date(y.date).toLocaleDateString("de-DE")]})]}),y.info&&e.jsx("p",{className:"text-xs text-text-muted mt-1",children:y.info}),h(y)&&e.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:[e.jsx("i",{className:"fas fa-futbol mr-1"}),h(y)]})]})]}),e.jsxs("button",{onClick:()=>w(y),disabled:a,className:"btn-secondary btn-sm text-accent-red hover:bg-red-50 disabled:opacity-50",children:[e.jsx("i",{className:"fas fa-trash mr-1"}),"Löschen"]})]},y.id))})},ne=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"modern-card bg-yellow-50 border-yellow-200",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"text-yellow-600 mr-3",children:e.jsx("i",{className:"fas fa-info-circle"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-yellow-800 mb-1",children:"Bulk-Löschung von Matches"}),e.jsxs("p",{className:"text-yellow-700 text-sm",children:["Diese Funktion löscht ALLE Matches mit ID ≥ 140 und deren zugehörige Daten:",e.jsx("br",{}),"• Match-Datensätze",e.jsx("br",{}),"• Alle Transaktionen (Preisgeld, SdS Bonus, etc.)",e.jsx("br",{}),"• Umkehrung von Finanzänderungen",e.jsx("br",{}),"• Spieler-Tor-Anpassungen",e.jsx("br",{}),"• Spieler des Spiels Anpassungen"]})]})]})}),e.jsxs("div",{className:"modern-card",children:[e.jsxs("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:[e.jsx("i",{className:"fas fa-bomb mr-2 text-red-500"}),"Bulk-Löschung Aktionen"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:e.jsxs("button",{onClick:C,disabled:a,className:"btn-primary flex-1 disabled:opacity-50",children:[e.jsx("i",{className:"fas fa-search mr-2"}),a?"Lade...":"Vorschau - Matches finden (ID ≥ 140)"]})}),e.jsx("div",{className:"border-t pt-4",children:e.jsxs("button",{onClick:D,disabled:a,className:"btn-secondary w-full bg-red-600 hover:bg-red-700 text-white disabled:opacity-50",children:[e.jsx("i",{className:"fas fa-bomb mr-2"}),a?"Löscht...":"🔥 ALLE MATCHES ID ≥ 140 LÖSCHEN 🔥"]})})]})]}),e.jsx("div",{className:"modern-card bg-red-50 border-red-200",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"text-red-600 mr-3",children:e.jsx("i",{className:"fas fa-exclamation-triangle"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-red-800 mb-1",children:"⚠️ KRITISCHE WARNUNG"}),e.jsx("p",{className:"text-red-700 text-sm",children:"Diese Aktion ist IRREVERSIBEL! Stellen Sie sicher, dass Sie ein Backup der Datenbank haben, bevor Sie fortfahren. Die Bulk-Löschung kann nicht rückgängig gemacht werden und betrifft alle zugehörigen Daten der gelöschten Matches."})]})]})})]}),ie=()=>{switch(b){case"players":return U();case"matches":return ae();case"bans":return re();case"transactions":return le();case"bulk-delete":return ne();default:return U()}};return e.jsxs("div",{className:"p-4 pb-20",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:"Daten löschen"}),e.jsx("p",{className:"text-text-muted text-sm",children:"Verwalten Sie die Löschung von Spielern, Spielen, Sperren und Transaktionen."})]}),e.jsx("div",{className:"grid grid-cols-2 gap-2 mb-6",children:F.map(n=>e.jsxs("button",{onClick:()=>v(n.id),className:`p-3 rounded-lg text-sm font-medium transition-colors ${b===n.id?"bg-accent-red text-white":"bg-bg-tertiary text-text-secondary hover:text-text-primary hover:bg-bg-hover"}`,children:[e.jsx("i",{className:`${n.icon} mr-2`}),n.label]},n.id))}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:`${(W=F.find(n=>n.id===b))==null?void 0:W.label.replace(" löschen","")} durchsuchen...`,value:l,onChange:n=>m(n.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent-red focus:border-transparent text-text-primary bg-bg-secondary"}),e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("i",{className:"fas fa-search text-text-muted"})}),l&&e.jsx("button",{onClick:()=>m(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-text-muted hover:text-text-primary",children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[l&&e.jsxs("p",{className:"text-xs text-text-muted",children:[e.jsx("i",{className:"fas fa-filter mr-1"}),"Gefiltert nach: “",l,"”"]}),e.jsx("p",{className:"text-xs text-text-muted ml-auto",children:(()=>{const n=t();return l?`${n.filtered} von ${n.total} Einträgen`:`${n.total} Einträge`})()})]})]}),e.jsxs("div",{className:"modern-card",children:[a&&e.jsx(se,{message:"Lösche..."}),!a&&ie()]}),e.jsx("div",{className:"mt-6 modern-card bg-red-50 border-red-200",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"text-red-600 mr-3",children:e.jsx("i",{className:"fas fa-exclamation-triangle"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-red-800 mb-1",children:"Achtung"}),e.jsx("p",{className:"text-red-700 text-sm",children:"Das Löschen von Daten ist permanent und kann nicht rückgängig gemacht werden. Bitte überprüfen Sie Ihre Auswahl sorgfältig, bevor Sie fortfahren."})]})]})})]})}function be({data:b=[],searchFields:c=[],filterOptions:a=[],onResults:s,placeholder:l="Suchen...",showCount:m=!0,searchExtractor:g}){const[d,j]=A.useState(""),[o,i]=A.useState({}),[N,T]=A.useState(""),[k,x]=A.useState("asc"),S=A.useRef(null),E=A.useMemo(()=>{let r=[...b];if(d.trim()){const u=d.toLowerCase().trim();r=r.filter(w=>{if(g){const C=g(w);return C&&C.toLowerCase().includes(u)}return c.some(C=>{const D=q(w,C);return D&&D.toString().toLowerCase().includes(u)})})}return Object.entries(o).forEach(([u,w])=>{if(w&&w!=="all"){const C=a.find(D=>D.key===u);C&&C.filterFn?r=r.filter(D=>C.filterFn(D,w)):r=r.filter(D=>q(D,u)===w)}}),N&&r.sort((u,w)=>{const C=q(u,N),D=q(w,N);let B=0;return typeof C=="number"&&typeof D=="number"?B=C-D:C instanceof Date&&D instanceof Date?B=C.getTime()-D.getTime():B=String(C).localeCompare(String(D)),k==="desc"?-B:B}),r},[b,d,o,N,k,c,a,g]);A.useEffect(()=>{s&&JSON.stringify(E)!==S.current&&(S.current=JSON.stringify(E),s(E))},[E,s]);const F=(r,u)=>{i(w=>({...w,[r]:u}))},v=r=>{N===r?x(k==="asc"?"desc":"asc"):(T(r),x("asc"))},t=()=>{j(""),i({}),T(""),x("asc")},p=d||Object.values(o).some(r=>r&&r!=="all")||N;return e.jsxs("div",{className:"bg-bg-primary border border-border-light rounded-lg shadow-sm mb-4",children:[e.jsx("div",{className:"p-4 border-b border-border-light",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:e.jsx("span",{className:"text-text-secondary","aria-hidden":"true",children:"🔍"})}),e.jsx("input",{type:"text",value:d,onChange:r=>j(r.target.value),placeholder:`${l} (Strg+K für globale Suche)`,className:"w-full pl-10 pr-20 py-2 bg-bg-secondary border border-border-light rounded-lg text-text-primary placeholder-text-secondary focus:outline-none focus:ring-2 focus:ring-primary-green focus:border-transparent"}),e.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center gap-1 pr-3",children:[e.jsx("button",{onClick:()=>{const r=new CustomEvent("global-search-toggle");window.dispatchEvent(r)},className:"text-text-secondary hover:text-primary-green transition-colors p-1 rounded",title:"Globale Suche öffnen (Strg+K)",children:e.jsx("span",{"aria-hidden":"true",children:"🌐"})}),d&&e.jsx("button",{onClick:()=>j(""),className:"text-text-secondary hover:text-text-primary transition-colors p-1 rounded",title:"Suchfeld leeren",children:e.jsx("span",{"aria-hidden":"true",children:"✕"})})]})]})}),(a.length>0||N)&&e.jsx("div",{className:"p-4 border-b border-border-light",children:e.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.map(r=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("label",{className:"text-sm font-medium text-text-primary",children:[r.label,":"]}),e.jsxs("select",{value:o[r.key]||"",onChange:u=>F(r.key,u.target.value),className:"px-3 py-1 bg-bg-secondary border border-border-light rounded text-sm text-text-primary focus:outline-none focus:ring-2 focus:ring-primary-green",children:[e.jsx("option",{value:"",children:"Alle"}),r.options.map(u=>e.jsx("option",{value:u.value,children:u.label},u.value))]})]},r.key)),c.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm font-medium text-text-primary",children:"Sortieren:"}),e.jsxs("select",{value:N,onChange:r=>T(r.target.value),className:"px-3 py-1 bg-bg-secondary border border-border-light rounded text-sm text-text-primary focus:outline-none focus:ring-2 focus:ring-primary-green",children:[e.jsx("option",{value:"",children:"Standard"}),c.map(r=>e.jsx("option",{value:r,children:ee(r)},r))]}),N&&e.jsx("button",{onClick:()=>v(N),className:"px-2 py-1 bg-bg-secondary border border-border-light rounded text-sm text-text-primary hover:bg-bg-tertiary transition-colors duration-200",title:`Sortierung: ${k==="asc"?"Aufsteigend":"Absteigend"}`,children:k==="asc"?"↑":"↓"})]}),p&&e.jsx("button",{onClick:t,className:"px-3 py-1 bg-red-100 text-red-800 border border-red-200 rounded text-sm hover:bg-red-200 transition-colors duration-200",children:"Filter zurücksetzen"})]})}),m&&e.jsx("div",{className:"px-4 py-2 bg-bg-secondary border-b border-border-light",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-text-secondary",children:E.length===b.length?`${b.length} Einträge`:`${E.length} von ${b.length} Einträgen`}),p&&e.jsxs("div",{className:"flex items-center gap-2",children:[d&&e.jsxs("span",{className:"bg-primary-green bg-opacity-10 text-primary-green px-2 py-1 rounded text-xs",children:['🔍 "',d,'"']}),Object.entries(o).filter(([,r])=>r&&r!=="all").map(([r,u])=>{const w=a.find(D=>D.key===r),C=w==null?void 0:w.options.find(D=>D.value===u);return e.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs",children:[w==null?void 0:w.label,": ",(C==null?void 0:C.label)||u]},r)}),N&&e.jsxs("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs",children:["📊 ",ee(N)," ",k==="asc"?"↑":"↓"]})]})]})})]})}function q(b,c){return!b||!c?"":c.split(".").reduce((a,s)=>a&&a[s]!==void 0?a[s]:"",b)}function ee(b){return{name:"Name",team:"Team",position:"Position",value:"Wert",date:"Datum",goalsa:"AEK Tore",goalsb:"Real Tore",type:"Typ",amount:"Betrag",description:"Beschreibung",totalgames:"Gesamt Spiele",matchesserved:"Gespielte Spiele"}[b]||b.charAt(0).toUpperCase()+b.slice(1)}function te({onNavigate:b}){const[c,a]=A.useState("players"),[s,l]=A.useState([]),{data:m,loading:g}=_("players","*"),{data:d,loading:j}=_("matches","*",{order:{column:"date",ascending:!1}}),{data:o,loading:i}=_("transactions","*",{order:{column:"date",ascending:!1}}),{data:N,loading:T}=_("bans","*",{order:{column:"id",ascending:!1}}),k=g||j||i||T,x=[{id:"players",label:"Spieler",icon:"fas fa-users",data:m||[],searchFields:["name","position","team","value"],filterOptions:[{key:"team",label:"Team",options:[{value:"AEK",label:"AEK Athen"},{value:"Real",label:"Real Madrid"},{value:"Ehemalige",label:"Ehemalige"}]},{key:"position",label:"Position",options:[{value:"TH",label:"Torwart"},{value:"IV",label:"Innenverteidiger"},{value:"LV",label:"Linksverteidiger"},{value:"RV",label:"Rechtsverteidiger"},{value:"ZDM",label:"Defensives Mittelfeld"},{value:"ZM",label:"Zentrales Mittelfeld"},{value:"ZOM",label:"Offensives Mittelfeld"},{value:"LM",label:"Linkes Mittelfeld"},{value:"RM",label:"Rechtes Mittelfeld"},{value:"LF",label:"Linker Flügel"},{value:"RF",label:"Rechter Flügel"},{value:"ST",label:"Stürmer"}]}]},{id:"matches",label:"Spiele",icon:"fas fa-futbol",data:d||[],searchFields:["date","goalsa","goalsb","goalscorers","manofthematch","teama","teamb"],filterOptions:[],searchExtractor:v=>{const t=[];if(v.date&&t.push(new Date(v.date).toLocaleDateString("de-DE")),v.teama&&t.push(v.teama),v.teamb&&t.push(v.teamb),v.goalsa!==void 0&&t.push(v.goalsa.toString()),v.goalsb!==void 0&&t.push(v.goalsb.toString()),v.goalslista)try{const p=typeof v.goalslista=="string"?JSON.parse(v.goalslista):v.goalslista;Array.isArray(p)&&p.forEach(r=>{typeof r=="string"?t.push(r):r&&r.player&&t.push(r.player)})}catch{}if(v.goalslistb)try{const p=typeof v.goalslistb=="string"?JSON.parse(v.goalslistb):v.goalslistb;Array.isArray(p)&&p.forEach(r=>{typeof r=="string"?t.push(r):r&&r.player&&t.push(r.player)})}catch{}return v.manofthematch&&(t.push(v.manofthematch),t.push("Spieler des Spiels"),t.push("SdS")),t.join(" ").toLowerCase()}},{id:"transactions",label:"Transaktionen",icon:"fas fa-euro-sign",data:o||[],searchFields:["type","description","amount","date"],filterOptions:[{key:"type",label:"Typ",options:[{value:"transfer",label:"Transfer"},{value:"preis",label:"Preisgeld"},{value:"strafe",label:"Strafe"},{value:"sonstige",label:"Sonstige"}],filterFn:(v,t)=>{var u,w;const p=((u=v.type)==null?void 0:u.toLowerCase())||"",r=((w=v.description)==null?void 0:w.toLowerCase())||"";switch(t){case"transfer":return p.includes("transfer")||r.includes("transfer");case"preis":return p.includes("preis")||r.includes("preis")||v.amount>0;case"strafe":return p.includes("strafe")||r.includes("strafe");case"sonstige":return!p.includes("transfer")&&!p.includes("preis")&&!p.includes("strafe");default:return!0}}}]},{id:"bans",label:"Sperren",icon:"fas fa-ban",data:N||[],searchFields:["player_name","team","type","reason"],filterOptions:[{key:"team",label:"Team",options:[{value:"AEK",label:"AEK Athen"},{value:"Real",label:"Real Madrid"}]},{key:"type",label:"Typ",options:[{value:"Gelbe Karte",label:"Gelbe Karte"},{value:"Gelb-Rote Karte",label:"Gelb-Rote Karte"},{value:"Rote Karte",label:"Rote Karte"},{value:"Verletzung",label:"Verletzung"}]}]}],S=x.find(v=>v.id===c),E=(v,t)=>{switch(t){case"players":b==null||b("squad");break;case"matches":b==null||b("matches");break;case"transactions":b==null||b("finances");break;case"bans":b==null||b("bans");break}},F=()=>{const v=s.length>0?s:S.data;return v.length===0?e.jsxs("div",{className:"p-6 text-center text-text-secondary",children:[e.jsx("i",{className:`${S.icon} text-4xl mb-2`}),e.jsxs("p",{children:["Keine ",S.label.toLowerCase()," gefunden"]})]}):e.jsx("div",{className:"divide-y divide-border-light",children:v.map(t=>e.jsxs("button",{onClick:()=>E(t,c),className:"w-full p-4 hover:bg-bg-secondary transition-colors text-left focus:outline-none focus:ring-2 focus:ring-primary-green focus:ring-inset",children:[c==="players"&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-text-primary",children:t.name}),e.jsxs("p",{className:"text-sm text-text-secondary",children:[t.position," • ",t.team," • ",t.value||0,"M €"]}),(t.goals||0)>0&&e.jsxs("p",{className:"text-xs text-primary-green",children:["⚽ ",t.goals||0," Tore"]})]}),e.jsxs("div",{className:"text-right ml-4",children:[e.jsxs("div",{className:"text-lg font-bold text-primary-green",children:[t.value||0,"M €"]}),e.jsx("div",{className:"text-xs text-text-muted",children:"Zum Spieler →"})]})]}),c==="matches"&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-text-primary",children:new Date(t.date).toLocaleDateString("de-DE")}),e.jsxs("p",{className:"text-sm text-text-secondary",children:[t.teama||"AEK"," ",t.goalsa||0," - ",t.goalsb||0," ",t.teamb||"Real"]}),(()=>{const p=[];try{if(t.goalslista){const r=typeof t.goalslista=="string"?JSON.parse(t.goalslista):t.goalslista;Array.isArray(r)&&r.forEach(u=>{const w=typeof u=="string"?u:u==null?void 0:u.player;w&&p.push(`${w} (AEK)`)})}if(t.goalslistb){const r=typeof t.goalslistb=="string"?JSON.parse(t.goalslistb):t.goalslistb;Array.isArray(r)&&r.forEach(u=>{const w=typeof u=="string"?u:u==null?void 0:u.player;w&&p.push(`${w} (Real)`)})}}catch{}return p.length>0?e.jsxs("p",{className:"text-xs text-text-muted mt-1",children:["⚽ ",p.slice(0,3).join(", "),p.length>3?"...":""]}):null})(),t.manofthematch&&e.jsxs("p",{className:"text-xs text-yellow-600 mt-1",children:["⭐ SdS: ",t.manofthematch]})]}),e.jsxs("div",{className:"text-right ml-4",children:[e.jsxs("div",{className:"text-lg font-bold text-primary-green",children:[(t.goalsa||0)+(t.goalsb||0)," Tore"]}),e.jsx("div",{className:"text-xs text-text-muted",children:"Zum Spiel →"})]})]}),c==="transactions"&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-text-primary",children:t.type||"Transaktion"}),e.jsx("p",{className:"text-sm text-text-secondary",children:t.description||"Keine Beschreibung"}),e.jsx("p",{className:"text-xs text-text-secondary",children:new Date(t.date).toLocaleDateString("de-DE")})]}),e.jsxs("div",{className:"text-right ml-4",children:[e.jsxs("div",{className:`text-lg font-bold ${(t.amount||0)>=0?"text-green-600":"text-red-600"}`,children:[(t.amount||0)>0?"+":"",t.amount||0,"€"]}),e.jsx("div",{className:"text-xs text-text-muted",children:"Zu Finanzen →"})]})]}),c==="bans"&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-text-primary",children:t.player_name}),e.jsxs("p",{className:"text-sm text-text-secondary",children:[t.team," • ",t.type]}),t.reason&&e.jsx("p",{className:"text-xs text-text-secondary",children:t.reason})]}),e.jsxs("div",{className:"text-right ml-4",children:[e.jsxs("div",{className:"text-sm text-accent-red",children:[t.duration||1," Spiel",(t.duration||1)!==1?"e":""]}),e.jsx("div",{className:"text-xs text-text-muted",children:"Zu Sperren →"})]})]})]},t.id))})};return k?e.jsx(se,{message:"Lade Daten..."}):e.jsxs("div",{className:"p-4 pb-20 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-1",children:"🔍 Globale Suche"}),e.jsx("p",{className:"text-text-muted text-sm",children:"Durchsuche alle Daten zentral an einem Ort"})]}),e.jsx("div",{className:"icon-only-nav flex overflow-x-auto space-x-2 pb-2",children:x.map(v=>e.jsxs("button",{onClick:()=>{a(v.id),l([])},className:`search-nav-button flex items-center space-x-2 px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${c===v.id?"bg-primary-green text-white":"bg-bg-secondary text-text-muted hover:bg-bg-tertiary"}`,title:v.label,"aria-label":v.label,children:[e.jsx("i",{className:v.icon}),e.jsx("span",{className:"font-medium hidden sm:inline",children:v.label}),e.jsxs("span",{className:"text-xs opacity-75",children:["(",v.data.length,")"]})]},v.id))}),e.jsx(be,{data:S.data,searchFields:S.searchFields,filterOptions:S.filterOptions,searchExtractor:S.searchExtractor,onResults:l,placeholder:`${S.label} durchsuchen...`}),e.jsxs("div",{className:"modern-card",children:[e.jsx("div",{className:"p-4 border-b border-border-light",children:e.jsxs("h4",{className:"font-medium text-text-primary",children:[s.length>0?"Suchergebnisse":`Alle ${S.label}`,e.jsxs("span",{className:"text-text-secondary ml-2",children:["(",s.length>0?s.length:S.data.length,")"]})]})}),F()]})]})}function ge(){const[b,c]=A.useState({aek:{name:"Alexander",age:30,weight:100},real:{name:"Philip",age:30,weight:105}}),[a,s]=A.useState(!1);A.useEffect(()=>{const d=localStorage.getItem("teamManagers");if(d)try{c(JSON.parse(d))}catch(j){console.error("Error loading manager settings:",j)}},[]);const l=(d,j,o)=>{c(i=>({...i,[d]:{...i[d],[j]:j==="name"?o:parseInt(o)||0}})),s(!0)},m=()=>{try{localStorage.setItem("teamManagers",JSON.stringify(b)),s(!1),window.dispatchEvent(new CustomEvent("managerSettingsChanged"));const d=document.createElement("div");d.className="fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50",d.textContent="Manager-Einstellungen gespeichert!",document.body.appendChild(d),setTimeout(()=>{document.body.contains(d)&&document.body.removeChild(d)},3e3)}catch(d){console.error("Error saving manager settings:",d);const j=document.createElement("div");j.className="fixed top-4 right-4 bg-red-500 text-white px-4 py-2 rounded-lg shadow-lg z-50",j.textContent="Fehler beim Speichern!",document.body.appendChild(j),setTimeout(()=>{document.body.contains(j)&&document.body.removeChild(j)},3e3)}},g=()=>{c({aek:{name:"Alexander",age:30,weight:100},real:{name:"Philip",age:30,weight:105}}),s(!0)};return e.jsx("div",{className:"p-4 space-y-6",children:e.jsxs("div",{className:"modern-card",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:"🏆 Team-Manager Einstellungen"}),a&&e.jsx("span",{className:"text-sm text-orange-600 font-medium",children:"Ungespeicherte Änderungen"})]}),e.jsx("div",{className:"text-sm text-text-muted mb-6",children:"Hier können Sie die Daten der Team-Manager für die BAK-Berechnung anpassen."}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4 p-4 border border-blue-200 rounded-lg bg-blue-50",children:[e.jsxs("h4",{className:"font-medium text-blue-800 flex items-center",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded mr-2"}),"AEK Manager"]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name"}),e.jsx("input",{type:"text",value:b.aek.name,onChange:d=>l("aek","name",d.target.value),className:"w-full px-3 py-2 border border-border-light rounded-lg bg-white text-text-primary focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Manager Name"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Alter"}),e.jsx("input",{type:"number",min:"18",max:"80",value:b.aek.age,onChange:d=>l("aek","age",d.target.value),onFocus:d=>d.target.select(),className:"w-full px-3 py-2 border border-border-light rounded-lg bg-white text-text-primary focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Gewicht (kg)"}),e.jsx("input",{type:"number",min:"40",max:"200",value:b.aek.weight,onChange:d=>l("aek","weight",d.target.value),onFocus:d=>d.target.select(),className:"w-full px-3 py-2 border border-border-light rounded-lg bg-white text-text-primary focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),e.jsxs("div",{className:"space-y-4 p-4 border border-red-200 rounded-lg bg-red-50",children:[e.jsxs("h4",{className:"font-medium text-red-800 flex items-center",children:[e.jsx("div",{className:"w-6 h-6 bg-red-600 rounded mr-2"}),"Real Manager"]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name"}),e.jsx("input",{type:"text",value:b.real.name,onChange:d=>l("real","name",d.target.value),className:"w-full px-3 py-2 border border-border-light rounded-lg bg-white text-text-primary focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Manager Name"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Alter"}),e.jsx("input",{type:"number",min:"18",max:"80",value:b.real.age,onChange:d=>l("real","age",d.target.value),onFocus:d=>d.target.select(),className:"w-full px-3 py-2 border border-border-light rounded-lg bg-white text-text-primary focus:outline-none focus:ring-2 focus:ring-red-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Gewicht (kg)"}),e.jsx("input",{type:"number",min:"40",max:"200",value:b.real.weight,onChange:d=>l("real","weight",d.target.value),onFocus:d=>d.target.select(),className:"w-full px-3 py-2 border border-border-light rounded-lg bg-white text-text-primary focus:outline-none focus:ring-2 focus:ring-red-500"})]})]})]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-border-light",children:[e.jsx("button",{onClick:g,className:"px-4 py-2 text-sm bg-gray-100 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-200 transition-colors",children:"Standardwerte wiederherstellen"}),e.jsx("button",{onClick:m,disabled:!a,className:`px-4 py-2 text-sm rounded-lg transition-colors ${a?"bg-primary-green text-white hover:bg-green-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Einstellungen speichern"})]}),e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"text-sm text-yellow-800",children:[e.jsx("strong",{children:"Hinweis:"})," Diese Einstellungen werden für die BAK-Berechnung in der Statistik verwendet. Die Werte sind nur lokal gespeichert und gelten für diesen Browser."]})})]})})}function ye({onLogout:b,onNavigate:c}){const[a,s]=A.useState("search"),l=[{id:"search",label:"Globale Suche",icon:"fas fa-search"},{id:"matches",label:"Spiele hinzufügen",icon:"fas fa-futbol"},{id:"bans",label:"Sperren hinzufügen",icon:"fas fa-ban"},{id:"players",label:"Spieler hinzufügen",icon:"fas fa-users"},{id:"transactions",label:"Transaktionen hinzufügen",icon:"fas fa-euro-sign"},{id:"settings",label:"Team-Einstellungen",icon:"fas fa-cog"},{id:"delete",label:"Daten löschen",icon:"fas fa-trash"}],m=()=>{switch(a){case"search":return e.jsx(te,{onNavigate:c});case"matches":return e.jsx(oe,{});case"bans":return e.jsx(me,{});case"players":return e.jsx(xe,{});case"transactions":return e.jsx(ue,{});case"settings":return e.jsx(ge,{});case"delete":return e.jsx(he,{});default:return e.jsx(te,{onNavigate:c})}};return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"p-4 bg-bg-secondary border-b border-border-light flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-1",children:"Verwaltung"}),e.jsx("p",{className:"text-text-muted text-sm",children:"Hinzufügen und verwalten von Daten"})]}),e.jsxs("button",{onClick:b,className:"flex items-center px-3 py-2 bg-accent-red text-white rounded-lg hover:bg-red-600 transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50","aria-label":"Abmelden",children:[e.jsx("i",{className:"fas fa-sign-out-alt mr-2"}),e.jsx("span",{className:"text-sm",children:"Logout"})]})]}),e.jsx("div",{className:"bg-bg-secondary border-b border-border-light",children:e.jsx("div",{className:"flex overflow-x-auto",children:l.map(g=>e.jsxs("button",{onClick:()=>s(g.id),className:`flex-shrink-0 px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${a===g.id?"text-primary-green border-b-2 border-primary-green bg-bg-primary":"text-text-secondary hover:text-text-primary hover:bg-bg-hover"}`,children:[e.jsx("i",{className:`${g.icon} mr-2`}),g.label]},g.id))})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:m()})]})}export{ye as default};
